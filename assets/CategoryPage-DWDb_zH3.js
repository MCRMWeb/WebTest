import{C as j,r as a,b as P,c as f,w as y,j as t}from"./index-DYxtvusx.js";import{H as C,s as n}from"./Header-BL0KLkV7.js";import{C as S}from"./CustomIcon-B6T_3kn-.js";import{P as $}from"./Products-CCtcCWYx.js";import{s as w}from"./shop1Store-CxwK2VoC.js";import"./userStore-Ch4KdBGw.js";import"./XMarkIcon-D6stU_U1.js";import"./ProductItem-B2SJw1f2.js";import"./CustomIconSolid-D8Kng4gD.js";function k(){const e=j().id,{websiteProducts:i}=w(),[o,m]=a.useState([]),[p,d]=a.useState(""),[g]=a.useState(1),[l]=a.useState(10);a.useEffect(()=>{u(),h(e)},[e,i]);const u=async()=>{const r=P.get("multi-store");try{const c=await(await f.get(`web-nomenclatures?multiStoreId=${r}&categoryId=${e}&page=${g}&perPage=${l}`)).data.data;m(c)}catch(s){console.log("Ошибка произошла при получении всех продустов с сайта",s)}},h=async r=>{try{const s=`https://api.mcrm.uz/api/categories/${r}`,x=(await y.get(s)).data;d(x.name.ru)}catch(s){console.error("Ошибка произошла при получении названия категории",s)}};return t.jsxs(t.Fragment,{children:[t.jsx(C,{}),t.jsx("div",{className:n.catalogPage,children:t.jsxs("div",{className:"container",children:[t.jsxs("h2",{className:n.catalogPage_title,children:[t.jsx("span",{children:p}),t.jsx(S,{name:"ChevronRightIcon"})]}),o.length>0?t.jsx(t.Fragment,{children:t.jsx($,{products:o})}):t.jsx("h2",{children:"Товара нет на сайте"})]})})]})}export{k as default};
