import{j as o,r as k}from"./index-7WS4nBfv.js";import{C as b}from"./CustomIcon-By7wfQXi.js";import{p as g}from"./Header-BTrGzZg-.js";const m="_block_products_u4g3n_1",d="_block_product_u4g3n_1",x="_block_img_u4g3n_13",u="_block_imgBox_u4g3n_16",p="_block_image_u4g3n_27",v="_block_image_active_u4g3n_34",B="_block_content_u4g3n_43",h="_block_content_title_u4g3n_48",j="_block_pagination_u4g3n_57",f="_block_span_u4g3n_62",N="_block_span_active_u4g3n_69",C="_block_priceBlock_u4g3n_75",I="_block_priceBlock_price_u4g3n_80",P="_block_cartBox_u4g3n_83",$="_block_cartBox_cart_u4g3n_96",w="_block_likeBox_like_u4g3n_99",A="_block_likeBox_like_active_u4g3n_112",e={block_products:m,block_product:d,block_img:x,block_imgBox:u,block_image:p,block_image_active:v,block_content:B,block_content_title:h,block_pagination:j,block_span:f,block_span_active:N,block_priceBlock:C,block_priceBlock_price:I,block_cartBox:P,block_cartBox_cart:$,block_likeBox_like:w,block_likeBox_like_active:A};function L({item:c}){function _(l){return l.toLocaleString("ru-RU")}return o.jsxs("div",{className:e.block_priceBlock,children:[o.jsxs("p",{className:e.block_priceBlock_price,children:[_(Number(c==null?void 0:c.crmSellingPrice))," сум"]}),o.jsx("div",{className:e.block_cartBox,children:o.jsx(b,{name:"ShoppingCartIcon"})})]})}function S({item:c}){const{favoriteActive:_,setFavoriteActive:l}=g(),a=()=>{if(Array.isArray(_)&&_.some(n=>n.mxikCode==c.mxikCode)){const n=_.filter(t=>t.mxikCode!=c.mxikCode);l(n)}else l([..._,c])};return o.jsx("div",{className:e.block_likeBox,onClick:a,children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${e.block_likeBox_like} ${_[_.findIndex(n=>n.mxikCode==c.mxikCode)]?e.block_likeBox_like_active:""}`,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})})})}function y({item:c}){var t,r;const[_,l]=k.useState(0),a=()=>{l(0)},n=s=>{l(s)};return o.jsxs("div",{className:e.block_product,onMouseLeave:a,children:[o.jsxs("div",{className:e.block_imgBox,children:[o.jsx(S,{item:c}),c.crmImages?(t=c.crmImages)==null?void 0:t.map((s,i)=>o.jsx("div",{className:e.block_img,onMouseOver:()=>n(i),children:o.jsx("img",{width:50,height:50,src:s.src,alt:"product",className:`${e.block_image} ${_===i?e.block_image_active:""}`})},s.id)):o.jsx("img",{width:50,height:50,src:"/add.webp",alt:"product",className:`${e.block_image} ${e.block_image_active}`})]}),o.jsxs("div",{className:e.block_content,children:[o.jsx("div",{className:e.block_pagination,style:{gridTemplateColumns:`repeat(${c.crmImages&&c.crmImages.length>0?c.crmImages.length:1}, 1fr)`},children:c.crmImages&&((r=c.crmImages)==null?void 0:r.map((s,i)=>o.jsx("span",{className:`${e.block_span} ${_===i?e.block_span_active:""}`},s.id)))}),o.jsx("h1",{className:e.block_content_title,children:c==null?void 0:c.crmNameProduct}),o.jsx(L,{item:c})]})]})}function H({products:c}){return k.useEffect(()=>{console.log("products",c)},[]),o.jsx("div",{className:e.block_products,children:c==null?void 0:c.map(_=>o.jsx(y,{item:_},_.mxikCode))})}export{H as P};
