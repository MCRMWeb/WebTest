import{y as $,r as f,j as t,L as v,w as E,q as L,o as F}from"./index-CmnoLhiS.js";import{a as y,M as U}from"./Modal-GBXgmmub.js";import{C as w}from"./CustomIcon-CvaMe1Mh.js";import"./XMarkIcon-C_QdHekk.js";const q="_container_1dpu4_1",z="_nav_1dpu4_5",H="_nav_linkBtn_1dpu4_8",O="_nav_settingsIcon_1dpu4_13",X="_nav_buttons_1dpu4_17",K="_nav_buttons_link_1dpu4_22",Q="_form_1dpu4_28",G="_form_input_1dpu4_39",J="_form_btn_1dpu4_44",V="_form_list_1dpu4_75",Y="_form_check_1dpu4_80",Z="_form_check_text_1dpu4_86",tt="_formWrapper_1dpu4_90",et="_formWrapper_buttons_1dpu4_95",st="_formWrapper_btn_1dpu4_100",ot="_found_1dpu4_129",nt="_table_1dpu4_153",at="_table_head_1dpu4_158",ct="_table_head_row_1dpu4_161",rt="_table_head_col_1dpu4_167",dt="_table_body_row_1dpu4_170",lt="_table_body_col_1dpu4_174",_t="_table_body_img_1dpu4_183",ut="_table_body_icon_1dpu4_186",it="_table_body_name_1dpu4_190",pt="_table_body_amount_1dpu4_219",bt="_table_body_catalog_1dpu4_227",gt="_table_body_catalog_top_1dpu4_237",ft="_table_body_catalog_icon_1dpu4_256",mt="_table_body_catalog_iconActive_1dpu4_259",ht="_table_body_catalog_drop_1dpu4_262",xt="_table_body_catalog_dropActive_1dpu4_287",jt="_table_body_catalog_search_1dpu4_292",yt="_table_body_catalog_item_1dpu4_306",Pt="_table_body_catalog_text_1dpu4_314",kt="_table_body_del_1dpu4_320",Nt="_ikpuWrapper_1dpu4_340",vt="_ikpuWrapper_ikpuModalBlock_1dpu4_349",St="_ikpuWrapper_content_1dpu4_359",It="_ikpuWrapper_buttons_1dpu4_364",wt="_ikpuWrapper_save_1dpu4_370",Wt="_ikpuWrapper_delete_1dpu4_380",At="_ikpuWrapper_cancel_1dpu4_390",Dt="_left_1dpu4_401",Mt="_left_content_1dpu4_404",Tt="_left_content_item_1dpu4_409",$t="_right_1dpu4_419",Bt="_right_block_1dpu4_424",Ct="_right_bottom_1dpu4_430",Et="_right_bottom_item_1dpu4_437",Lt="_right_bottom_item_img_1dpu4_447",Rt="_right_bottom_BaseItem_1dpu4_452",Ft="_right_bottom_BaseItem_img_1dpu4_463",Ut="_foundProducts_1dpu4_468",qt="_foundProducts_modal_1dpu4_477",zt="_foundProducts_top_1dpu4_501",Ht="_foundProducts_title_1dpu4_515",Ot="_foundProducts_close_1dpu4_518",Xt="_foundProducts_list_1dpu4_533",Kt="_foundProducts_item_1dpu4_537",Qt="_foundProducts_item_photo_1dpu4_544",Gt="_foundProducts_item_list_1dpu4_554",Jt="_foundProducts_item_title_1dpu4_566",Vt="_foundProducts_item_desc_1dpu4_569",Yt="_foundProducts_item_btn_1dpu4_573",Zt="_errorModal_1dpu4_585",te="_errorModal_block_1dpu4_594",o={container:q,nav:z,nav_linkBtn:H,nav_settingsIcon:O,nav_buttons:X,nav_buttons_link:K,form:Q,form_input:G,form_btn:J,form_list:V,form_check:Y,form_check_text:Z,formWrapper:tt,formWrapper_buttons:et,formWrapper_btn:st,found:ot,table:nt,table_head:at,table_head_row:ct,table_head_col:rt,table_body_row:dt,table_body_col:lt,table_body_img:_t,table_body_icon:ut,table_body_name:it,table_body_amount:pt,table_body_catalog:bt,table_body_catalog_top:gt,table_body_catalog_icon:ft,table_body_catalog_iconActive:mt,table_body_catalog_drop:ht,table_body_catalog_dropActive:xt,table_body_catalog_search:jt,table_body_catalog_item:yt,table_body_catalog_text:Pt,table_body_del:kt,ikpuWrapper:Nt,ikpuWrapper_ikpuModalBlock:vt,ikpuWrapper_content:St,ikpuWrapper_buttons:It,ikpuWrapper_save:wt,ikpuWrapper_delete:Wt,ikpuWrapper_cancel:At,left:Dt,left_content:Mt,left_content_item:Tt,right:$t,right_block:Bt,right_bottom:Ct,right_bottom_item:Et,right_bottom_item_img:Lt,right_bottom_BaseItem:Rt,right_bottom_BaseItem_img:Ft,foundProducts:Ut,foundProducts_modal:qt,foundProducts_top:zt,foundProducts_title:Ht,foundProducts_close:Ot,foundProducts_list:Xt,foundProducts_item:Kt,foundProducts_item_photo:Qt,foundProducts_item_list:Gt,foundProducts_item_title:Jt,foundProducts_item_desc:Vt,foundProducts_item_btn:Yt,errorModal:Zt,errorModal_block:te};function ee(){const e=$(),{pickedSearch:a,searchParams:c,searchText:d,setSearchText:p,setPickedSearch:g,setSearchResponse:l,setCheckedProducts:h,setTemporaryData:m}=y();f.useEffect(()=>{(d.length==0||e!="/addingProducts")&&i()},[e]),f.useEffect(()=>{const n=document.querySelector(`input[name="search"][value="${a}"]`);n&&(n.checked=!0)},[a]);const u=n=>{g(n.currentTarget.value)},_=async n=>{n.preventDefault();try{if(a==="По тексту"){const r=await(await E.get(`https://tasnif.soliq.uz/api/cl-api/integration-mxik/search?lang=ru&search_text=${d}&page=0&size=10`)).data.data;l(r),console.log("NavAddProduct",r)}else if(a==="По штрих-коду"){const r=await(await E.get(`https://tasnif.soliq.uz/api/cl-api/integration-mxik/get/history/${d}`)).data.data;l([r]),console.log("NavAddProduct2",r)}p("")}catch(s){console.log(s)}},i=()=>{m([]),h([])};return t.jsx(t.Fragment,{children:t.jsxs("nav",{className:o.nav,children:[t.jsxs("ul",{className:o.nav_buttons,children:[t.jsx("li",{children:t.jsxs(v,{className:`${o.back} ${o.nav_buttons_link}`,to:"/admin",children:[t.jsx("span",{children:"admin"}),t.jsx(w,{name:"BuildingLibraryIcon"})]})}),t.jsx("li",{children:t.jsxs(v,{to:"/addingProducts/settingsAddProducts",className:`${o.nav_linkBtn} ${o.nav_buttons_link}`,children:[t.jsx("span",{children:"settings"}),t.jsx(w,{name:"Cog8ToothIcon"})]})})]}),t.jsxs("form",{action:"",className:o.form,onSubmit:n=>_(n),children:[t.jsxs("fieldset",{children:[t.jsx("input",{value:d,type:"text",className:o.form_input,placeholder:"Поиск",onChange:n=>p(n.currentTarget.value)}),t.jsx("button",{type:"submit",className:o.form_btn,children:"Поиск"})]}),t.jsx("ul",{className:o.form_list,children:c==null?void 0:c.map(n=>t.jsx("li",{children:t.jsxs("label",{className:o.form_check,children:[t.jsx("input",{type:"radio",name:"search",value:n.title,onClick:s=>u(s)}),t.jsx("span",{className:o.form_check_text,children:n.title})]})},n.id))})]})]})})}function se(){const{searchResponse:e,checkedProducts:a,errorModal:c,TemporaryData:d,setTemporaryData:p,setErrorModal:g,setCheckedProducts:l,setSearchResponse:h,openModalCategory:m}=y(),[u,_]=f.useState([]);f.useEffect(()=>{console.log("searchResponse",e),_([...e])},[e]),f.useEffect(()=>{const n=setTimeout(()=>{g({status:!1,message:""})},1e3);return()=>clearTimeout(n)},[c]);const i=async n=>{if(console.log("openModalCategory",m),!(await L.post("nomenclatures/is-unique-barcode",{multiStoreId:12,barcode:Number(n.mxikCode)})).data){g({status:!0,message:`"${(n==null?void 0:n.crmNameProduct)??n.subPositionName}" уже есть на складе`});return}if(a.some(r=>r.mxikCode==n.mxikCode))g({status:!0,message:`"${(n==null?void 0:n.crmNameProduct)??n.subPositionName}" уже выбрано`});else{l([...a,n]),h([]);const r={...n,crmNameProduct:n.subPositionName,crmAmount:1,crmArrivalPrice:0,crmSellingPrice:0};p([...d,r])}};return t.jsx("section",{className:o.foundProducts,children:t.jsxs("div",{className:o.foundProducts_modal,children:[t.jsxs("div",{className:o.foundProducts_top,children:[t.jsxs("h2",{className:o.foundProducts_title,children:["Найдено совпадений - ",u.length??0]}),t.jsx("button",{className:o.foundProducts_close,onClick:()=>h([]),children:"close"})]}),t.jsx("ul",{className:o.foundProducts_list,children:u==null?void 0:u.map(n=>t.jsxs("li",{className:o.foundProducts_item,children:[t.jsx("span",{className:o.foundProducts_item_photo,children:t.jsx("img",{src:"/img.jpeg",width:50,height:50,alt:""})}),t.jsxs("ul",{className:o.foundProducts_item_list,children:[t.jsxs("li",{children:[t.jsx("span",{className:o.foundProducts_item_title,children:"Штрихкод:"}),t.jsx("span",{className:o.foundProducts_item_desc,children:n==null?void 0:n.mxikCode})]}),t.jsxs("li",{children:[t.jsx("span",{className:o.foundProducts_item_title,children:"ИКПУ:"}),t.jsx("span",{className:o.foundProducts_item_desc,children:n==null?void 0:n.internationalCode})]}),t.jsxs("li",{children:[t.jsx("span",{className:o.foundProducts_item_title,children:"Бренд:"}),t.jsx("span",{className:o.foundProducts_item_desc,children:n==null?void 0:n.brandName})]}),t.jsxs("li",{children:[t.jsx("span",{className:o.foundProducts_item_title,children:"Наименовани:"}),t.jsx("span",{className:o.foundProducts_item_desc,children:n==null?void 0:n.subPositionName})]}),t.jsxs("li",{children:[t.jsx("span",{className:o.foundProducts_item_title,children:"Единица измерения:"}),t.jsx("span",{className:o.foundProducts_item_desc,children:n==null?void 0:n.attributeName})]})]}),t.jsx("button",{onClick:()=>i(n),className:o.foundProducts_item_btn,children:"Выбрать"})]},n==null?void 0:n.mxikCode))})]})})}function oe({staticList:e}){return t.jsx("div",{className:o.left,children:t.jsx("div",{className:o.left_content,children:e.map(a=>t.jsxs("div",{className:o.left_content_item,children:[t.jsx("h3",{children:a.title}),t.jsx("p",{children:a.value})]},a.id))})})}function ne(){const{imagesSrc:e,setImagesSrc:a}=y(),[c,d]=f.useState(null),p=f.useRef([]),g=s=>{p.current.forEach(r=>{r&&r.getAttribute("id")==s&&r.click()})};function l(s,r){d(r)}function h(s){s.target.style.background="white"}function m(s){s.target.style.background="white"}function u(s){s.preventDefault(),s.target.style.background="lightgray"}function _(s,r){s.preventDefault(),s.target.style.background="white";const x=e.map(P=>P.id===r.id?{...P,order:(c==null?void 0:c.order)||P.order}:P.id===(c==null?void 0:c.id)?{...P,order:r.order}:P);a(x),d(null)}function i(s,r){return s.order>r.order?1:-1}const n=s=>{var x,P;const r=(P=(x=s==null?void 0:s.target)==null?void 0:x.files)==null?void 0:P[0];if(r&&(r==null?void 0:r.type)==="image/jpeg"||(r==null?void 0:r.type)==="image/png"||(r==null?void 0:r.type)==="image/webp"){const W=s.target.getAttribute("id"),S=[...e],I=S.find(N=>N.id==W),M=S.findIndex(N=>N.id==W);if(I){const N=new FileReader;N.onload=b=>{var k;(k=b.target)!=null&&k.result&&(I.src=b.target.result.toString(),S.splice(M,1,I),a([...S]))},N.readAsDataURL(r)}}};return t.jsx("div",{className:o.right,children:t.jsx("div",{className:o.right_block,children:t.jsx("div",{className:o.right_bottom,children:e.sort(i).map((s,r)=>t.jsxs("div",{draggable:!0,onDragStart:x=>l(x,s),onDragLeave:x=>h(x),onDragEnd:x=>m(x),onDragOver:x=>u(x),onDrop:x=>_(x,s),className:r==0?o.right_bottom_BaseItem:o.right_bottom_item,onDoubleClick:()=>g(s.id),children:[t.jsx("input",{id:s.id,type:"file",accept:"image/jpeg,image/png,image/webp",style:{display:"none"},onChange:n,ref:x=>{p.current[r]=x}}),t.jsx("img",{src:s.src,width:r==0?150:50,height:r==0?150:50,alt:"",className:`${r==0?o.right_bottom_baseImg:o.right_bottom_img}`})]},s.id))})})})}function ae({addingImgToProduct:e,handleCancel:a}){return t.jsxs("div",{className:o.ikpuWrapper_buttons,children:[t.jsx(v,{to:"#",className:o.ikpuWrapper_save,onClick:c=>e(c),children:"Coхранить"}),t.jsx(v,{to:"#",className:o.ikpuWrapper_delete,children:"Удалить товар"}),t.jsx(v,{to:"#",onClick:c=>a(c),className:o.ikpuWrapper_cancel,children:"Отмена"})]})}const T=[{id:1,title:"ИКПУ:",value:""},{id:2,title:"Штрих-код:",value:""},{id:3,title:"Группа:",value:""},{id:4,title:"Класс:",value:""},{id:5,title:"Позиция:",value:""},{id:6,title:"Субпозиция:",value:""},{id:7,title:"Наименование:",value:""},{id:8,title:"Бренд:",value:""},{id:9,title:"Описание:",value:""}];function ce(){const{searchResponseItem:e,imagesSrc:a,setImagesSrc:c,setSearchResponseItem:d,setIkpuStatus:p}=y(),[g,l]=f.useState([]);f.useEffect(()=>{if(e){const u=T==null?void 0:T.map(_=>{let i;return _.title=="ИКПУ:"&&(i=e.internationalCode),_.title=="Штрих-код:"&&(i=e.mxikCode),_.title=="Группа::"&&(i=e.groupName),_.title=="Класс"&&(i=e.className),_.title=="Позиция:"&&(i=e.positionName),_.title=="Субпозиция:"&&(i=e.subPositionName),_.title=="Наименование:"&&(i=e.className),_.title=="Бренд:"&&(i=e.brandName),_.title=="Описание:"&&(i=e.attributeName),{id:_.id,title:_.title,value:i}});l([...u])}},[e]),f.useEffect(()=>{if(e.crmImages){console.log("imagesSrc",a);const u=a.map((_,i)=>{var n,s;return{id:_.id,order:_.order,src:(n=e==null?void 0:e.crmImages)!=null&&n[i]?(s=e.crmImages)==null?void 0:s[i].src:"/add.webp"}});console.log("arr",u),u&&c(u)}},[]);const h=u=>{u.preventDefault(),console.log("imagesSrc",a);const _=a==null?void 0:a.filter(n=>n.src!=="/add.webp");e.crmImages=_,d(e);const i=a.map(n=>({id:n.id,order:n.order,src:"/add.webp"}));c(i),p(!1)};function m(u){u.preventDefault();const _=a.map(i=>({id:i.id,order:i.order,src:"/add.webp"}));c(_),p(!1)}return t.jsx(t.Fragment,{children:t.jsx("div",{className:o.ikpuWrapper,children:t.jsxs("div",{className:o.ikpuWrapper_ikpuModalBlock,children:[t.jsxs("div",{className:o.ikpuWrapper_content,children:[t.jsx(oe,{staticList:g}),t.jsx(ne,{})]}),t.jsx(ae,{addingImgToProduct:h,handleCancel:m})]})})})}function re({item:e}){const[a,c]=f.useState(0),{TemporaryData:d,setTemporaryData:p}=y(),g=l=>{const h=l.target.valueAsNumber;c(h);const m=d.find(u=>u.id==e.id);if(m){const u=d.findIndex(i=>i.id==e.id),_=[...d];_.splice(u,1,m),p(_)}};return t.jsx("div",{children:t.jsx("input",{type:"number",value:a,className:o.table_body_amount,min:0,onChange:g})})}function de({item:e}){const[a,c]=f.useState(0),{TemporaryData:d,setTemporaryData:p}=y(),g=l=>{const h=l.target.valueAsNumber;c(h);const m=d.find(u=>u.id==e.id);if(m){const u=d.findIndex(i=>i.id==e.id),_=[...d];_.splice(u,1,m),p(_)}};return t.jsx("div",{children:t.jsx("input",{type:"number",value:a,className:o.table_body_amount,min:0,onChange:g})})}function le({item:e}){const[a,c]=f.useState(0),{TemporaryData:d,setTemporaryData:p}=y(),g=l=>{const h=l.target.valueAsNumber;c(h);const m=d.find(u=>u.id==e.id);if(m){const u=d.findIndex(i=>i.id==e.id),_=[...d];_.splice(u,1,m),p(_)}};return t.jsx("div",{children:t.jsx("input",{type:"number",value:a,min:0,className:o.table_body_amount,onChange:g})})}function _e({item:e}){const[a,c]=f.useState(""),{TemporaryData:d,setTemporaryData:p}=y(),g=l=>{const h=l.target.value;c(h);const m=d.find(u=>u.id==e.id);if(m){const u=d.findIndex(i=>i.id==e.id),_=[...d];_.splice(u,1,m),p(_)}};return t.jsx("div",{children:t.jsx("textarea",{onChange:l=>g(l),value:`${a.length>=0?a:(e==null?void 0:e.subPositionName)||(e==null?void 0:e.subPositionNameRu)}`,className:o.table_body_name,placeholder:`${(e==null?void 0:e.subPositionName)||(e==null?void 0:e.subPositionNameRu)}`,children:a})})}function ue({item:e,column:a}){const{ikpuStatus:c,checkedProducts:d,setCheckedProducts:p,setSearchResponseItem:g,setIkpuStatus:l,setTemporaryData:h,setOpenModalCategory:m,setCurrentProduct:u}=y(),_=s=>{g(s),l(!c)},i=()=>{d&&(p(d.filter(s=>s.id!==e.id)),h(d.filter(s=>s.id!==e.id)))},n=s=>{s.preventDefault(),m(!0),u(e)};return t.jsxs("tr",{"data-id":e==null?void 0:e.id,className:o.table_head_row,style:{gridTemplateColumns:`repeat(${a.length}, 200px)`},children:[a==null?void 0:a.map(s=>{var r;return t.jsxs("td",{"data-id":e==null?void 0:e.id,className:o.table_body_col,children:[(s==null?void 0:s.title)=="Количество"&&t.jsx(le,{item:e}),(s==null?void 0:s.title)=="Приходная цена"&&t.jsx(re,{item:e}),(s==null?void 0:s.title)=="Продажная цена"&&t.jsx(de,{item:e}),(s==null?void 0:s.title)=="Наименование"&&t.jsx(_e,{item:e}),(s==null?void 0:s.title)=="Фото"?t.jsx("img",{src:"/img.jpeg",width:40,height:40,alt:"",className:o.table_body_img}):"",(s==null?void 0:s.title)=="QR Код"&&(e==null?void 0:e.internationalCode),(s==null?void 0:s.title)=="ИКПУ"?t.jsx("span",{children:t.jsx(w,{name:"EyeIcon",className:o.table_body_icon})}):"",(s==null?void 0:s.title)=="Добавить Фото"?t.jsx("span",{onClick:()=>_(e),children:t.jsx(w,{name:"FolderOpenIcon",className:o.table_body_icon})}):"",(s==null?void 0:s.title)=="Подкатегория"&&t.jsx(v,{to:"#",onClick:x=>n(x),children:(r=e==null?void 0:e.crmCategory)!=null&&r.name.ru?e==null?void 0:e.crmCategory.name.ru:"Выбрать"}),(s==null?void 0:s.title)=="Штрих-код"&&(e==null?void 0:e.internationalCode)]},s==null?void 0:s.id)}),t.jsx("td",{className:o.table_body_del,onClick:i,children:t.jsx(w,{name:"TrashIcon",width:20,height:20})})]})}function ie({column:e}){const{TemporaryData:a}=y();return t.jsxs("table",{className:o.table,children:[t.jsx("thead",{className:o.table_head,children:t.jsx("tr",{className:o.table_head_row,style:{gridTemplateColumns:`repeat(${e.length}, 200px)`},children:e==null?void 0:e.map(c=>t.jsx("td",{className:o.table_head_col,children:c.title},c.id))})}),t.jsx("tbody",{className:o.table_body,children:a==null?void 0:a.map(c=>t.jsx(ue,{item:c,column:e},c==null?void 0:c.mxikCode))})]})}function pe({clearTable:e,setData:a}){return t.jsxs("div",{className:o.formWrapper_buttons,children:[t.jsx("button",{name:"myForm",className:o.formWrapper_btn,onClick:c=>e(c),children:"Отмена"}),t.jsx("button",{name:"myForm",type:"submit",className:o.formWrapper_btn,onClick:a,children:"Сохранить"})]})}function be(){const e=f.useRef(null),[a,c]=f.useState(!1),[d,p]=f.useState(0),[g,l]=f.useState(0),h=b=>{e.current&&(c(!0),p(b.pageX-e.current.offsetLeft),l(e.current.scrollLeft))},m=()=>{c(!1)},u=()=>{c(!1)},_=b=>{if(!a||!e.current)return;b.preventDefault();const A=(b.pageX-e.current.offsetLeft-d)*2;e.current.scrollLeft=g-A},{settingsParams:i,ikpuStatus:n,TemporaryData:s,openModalCategory:r,setTemporaryData:x,setCheckedProducts:P}=y(),[W,S]=f.useState([]);f.useEffect(()=>{const b=i.filter(k=>k.checked);S(()=>[...b])},[i]),f.useEffect(()=>{console.log("openModalCategory",r)},[r]);const I=b=>{b.preventDefault(),s.forEach(k=>{M(k)})};async function M(b){var k,A,B;console.log("сработала функция setProducts");try{const D=F.get("multi-store"),C={multiStoreId:Number(D),categoryId:Number((k=b==null?void 0:b.crmCategory)==null?void 0:k.id),barcode:Number(b==null?void 0:b.mxikCode),nameUz:"string",nameUzc:"string",nameRu:(A=b==null?void 0:b.crmNameProduct)==null?void 0:A.toString(),mxik:(B=b==null?void 0:b.mxikCode)==null?void 0:B.toString(),brand:null,oldPrice:0,price:Number(b==null?void 0:b.crmSellingPrice),oldPriceCourse:0,priceCourse:0,nds:0,discount:0};console.log("multiStore",D),console.log("setProducts item",b),console.log("product",C);const R=await L.post("nomenclatures",C);console.log("res",R),x([]),P([])}catch(D){console.log(`Ошибка произошла при попытке добавить ${b==null?void 0:b.crmNameProduct} на сервер`,D)}}const N=b=>{b.preventDefault(),x([]),P([])};return t.jsxs("div",{className:o.formWrapper,children:[r&&t.jsx(U,{}),t.jsxs("div",{className:o.found,ref:e,onMouseDown:h,onMouseLeave:m,onMouseUp:u,onMouseMove:_,children:[n&&t.jsx(ce,{}),t.jsx(ie,{column:W})]}),t.jsx(pe,{clearTable:N,setData:I})]})}function ge(){const{errorModal:e}=y();return t.jsx("div",{className:o.errorModal,children:t.jsx("div",{className:o.errorModal_block,children:t.jsx("p",{children:e==null?void 0:e.message})})})}const fe="_layout_1pbgc_1",me="_layout_back_1pbgc_4",he="_layout_title_1pbgc_14",xe="_layout_list_1pbgc_19",je="_layout_link_1pbgc_25",ye="_layout_link_active_1pbgc_34",Pe="_form_list_1pbgc_38",ke="_form_check_1pbgc_43",Ne="_navSetting_1pbgc_49",ve="_found_1pbgc_53",Se="_table_1pbgc_74",Ie="_table_head_1pbgc_78",we="_table_head_row_1pbgc_81",We="_table_head_col_1pbgc_85",j={layout:fe,layout_back:me,layout_title:he,layout_list:xe,layout_link:je,layout_link_active:ye,form_list:Pe,form_check:ke,navSetting:Ne,found:ve,table:Se,table_head:Ie,table_head_row:we,table_head_col:We};function Ae(){const e=f.useRef([]),{settingsParams:a,setSettingsParams:c}=y();f.useEffect(()=>{e.current.forEach((p,g)=>{p&&(p.checked=a[g].checked)})},[a]);const d=p=>{const g=a.map(l=>({id:l.id,title:l.title,checked:l.title==p.currentTarget.value?p.currentTarget.checked:l.checked}));c(g)};return t.jsx("nav",{className:j.navSetting,children:t.jsx("form",{action:"",className:j.form,children:t.jsx("ul",{className:j.form_list,children:a==null?void 0:a.map((p,g)=>t.jsx("li",{children:t.jsxs("label",{className:j.form_check,children:[t.jsx("input",{type:"checkbox",value:p.title,ref:l=>{e.current[g]=l},onChange:l=>d(l)}),t.jsx("span",{className:j.form_check_text,children:p.title})]})},p.id))})})})}function De(){return t.jsx("div",{children:"AddSettingsColor"})}function Me(){return t.jsx("div",{children:"SettingsToolsComponent"})}function Te(){const a=$().pathname,{settingsParams:c}=y(),[d,p]=f.useState([]);f.useEffect(()=>{const l=c.filter(h=>h.checked);p(()=>[...l])},[c]);const g=[{id:1,title:"отображения колонок",href:"/addingProducts/settingsAddProducts"},{id:2,title:"настройки Цвета",href:"/addingProducts/settingsAddProducts/settingsCalor"},{id:3,title:"настройки инструментов",href:"/addingProducts/settingsAddProducts/settingsTools"}];return t.jsxs("div",{className:"container",children:[t.jsxs("nav",{className:j.layout,children:[t.jsx(v,{className:j.layout_back,to:"/addingProducts",children:"Закрыть"}),t.jsx("h2",{className:j.layout_title,children:"Настройки"}),t.jsx("ul",{className:j.layout_list,children:g.map(l=>t.jsx("li",{children:t.jsx(v,{to:l.href,className:`${j.layout_link} ${l.href==a?j.layout_link_active:""}`,children:l.title})},l.id))}),a=="/addingProducts/settingsAddProducts"&&t.jsx(Ae,{}),a=="/addingProducts/settingsAddProducts/settingsCalor"&&t.jsx(De,{}),a=="/addingProducts/settingsAddProducts/settingsTools"&&t.jsx(Me,{})]}),t.jsx("section",{className:j.found,children:t.jsxs("table",{className:j.table,children:[t.jsx("thead",{className:j.table_head,children:t.jsx("tr",{className:j.table_head_row,style:{gridTemplateColumns:`repeat(${d.length}, 200px)`},children:d==null?void 0:d.map(l=>t.jsx("td",{className:j.table_head_col,children:l.title},l.id))})}),t.jsx("tbody",{className:j.table_body,children:t.jsx("tr",{className:j.table_body_row,children:t.jsx("td",{className:j.table_body_col})})})]})})]})}function Le(){const a=$().pathname,{searchResponse:c,checkedProducts:d,errorModal:p}=y();return t.jsxs(t.Fragment,{children:[a=="/addingProducts"&&t.jsxs("div",{className:`container ${o.container}`,children:[t.jsx(ee,{}),c.length>0&&t.jsx(se,{}),d.length>0&&t.jsx(be,{}),p.status&&t.jsx(ge,{})]}),a=="/addingProducts/settingsAddProducts"&&t.jsx(Te,{})]})}export{Le as default};
