import{j as o,u as m,r as d}from"./index-Ixb8NsxD.js";import{C as j}from"./CustomIcon-_yrEmKes.js";import{p as x}from"./Header-yP5EIJiO.js";const p="_block_products_1jejc_1",g="_block_product_1jejc_1",u="_block_img_1jejc_14",v="_block_imgBox_1jejc_17",B="_block_image_1jejc_28",h="_block_image_active_1jejc_35",f="_block_content_1jejc_44",N="_block_content_title_1jejc_49",C="_block_pagination_1jejc_58",I="_block_span_1jejc_63",P="_block_span_active_1jejc_70",$="_block_priceBlock_1jejc_76",w="_block_priceBlock_price_1jejc_81",A="_block_cartBox_1jejc_84",L="_block_cartBox_cart_1jejc_97",S="_block_likeBox_1jejc_100",y="_block_likeBox_like_1jejc_103",E="_block_likeBox_like_active_1jejc_116",e={block_products:p,block_product:g,block_img:u,block_imgBox:v,block_image:B,block_image_active:h,block_content:f,block_content_title:N,block_pagination:C,block_span:I,block_span_active:P,block_priceBlock:$,block_priceBlock_price:w,block_cartBox:A,block_cartBox_cart:L,block_likeBox:S,block_likeBox_like:y,block_likeBox_like_active:E};function M({item:c}){function _(t){return t.toLocaleString("ru-RU")}return o.jsxs("div",{className:e.block_priceBlock,children:[o.jsxs("p",{className:e.block_priceBlock_price,children:[_(Number(c==null?void 0:c.crmSellingPrice))," сум"]}),o.jsx("div",{className:e.block_cartBox,children:o.jsx(j,{name:"ShoppingCartIcon"})})]})}function F({item:c}){const{favoriteActive:_,setFavoriteActive:t}=x(),a=s=>{if(s.stopPropagation(),Array.isArray(_)&&_.some(i=>i.mxikCode==c.mxikCode)){const i=_.filter(r=>r.mxikCode!=c.mxikCode);t(i)}else t([..._,c])};return o.jsx("div",{className:e.block_likeBox,onClick:s=>a(s),children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:`${e.block_likeBox_like} ${_[_.findIndex(s=>s.mxikCode==c.mxikCode)]?e.block_likeBox_like_active:""}`,children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})})})}function H({item:c}){var k,b;const _=m(),[t,a]=d.useState(0),s=()=>{a(0)},i=l=>{l.currentTarget.tagName!="SVG"&&_(`/productInfo/${c.mxikCode}`)},r=l=>{a(l)};return o.jsxs("div",{className:e.block_product,onMouseLeave:s,onClick:l=>i(l),children:[o.jsxs("div",{className:e.block_imgBox,children:[o.jsx(F,{item:c}),c.crmImages?(k=c.crmImages)==null?void 0:k.map((l,n)=>o.jsx("div",{className:e.block_img,onMouseOver:()=>r(n),children:o.jsx("img",{width:50,height:50,src:l.src,alt:"product",className:`${e.block_image} ${t===n?e.block_image_active:""}`})},l.id)):o.jsx("img",{width:50,height:50,src:"/add.webp",alt:"product",className:`${e.block_image} ${e.block_image_active}`})]}),o.jsxs("div",{className:e.block_content,children:[o.jsx("div",{className:e.block_pagination,style:{gridTemplateColumns:`repeat(${c.crmImages&&c.crmImages.length>0?c.crmImages.length:1}, 1fr)`},children:c.crmImages&&((b=c.crmImages)==null?void 0:b.map((l,n)=>o.jsx("span",{className:`${e.block_span} ${t===n?e.block_span_active:""}`},l.id)))}),o.jsx("h1",{className:e.block_content_title,children:c==null?void 0:c.crmNameProduct}),o.jsx(M,{item:c})]})]})}function O({products:c}){return d.useEffect(()=>{console.log("products",c)},[]),o.jsx("div",{className:e.block_products,children:c==null?void 0:c.map(_=>o.jsx(H,{item:_},_.mxikCode))})}export{O as P};
