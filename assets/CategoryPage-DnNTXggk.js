import{C as x,r as a,q as j,o as P,w as f,j as t}from"./index-DY_UjwHP.js";import{H as y,s as c}from"./Header-DHnxm7Ll.js";import{C}from"./CustomIcon-DITxIcwl.js";import{P as S}from"./Products-DdqQvRKo.js";import{s as w}from"./shop1Store-8lXPYwJ8.js";import"./userStore-DvB4qW9F.js";import"./XMarkIcon-DVxGcWqe.js";function q(){const r=x().id,{websiteProducts:n}=w(),[o,$]=a.useState([]),[i,m]=a.useState(""),[d]=a.useState(1),[p]=a.useState(10);a.useEffect(()=>{g(),l(r)},[r,n]);const g=async()=>{const e=j.get("multi-store");try{const u=await(await P.get(`web-nomenclatures?multiStoreId=${e}&page=${d}&perPage=${p}`)).data.data}catch(s){console.log("Ошибка произошла при получении всех продустов с сайта",s)}},l=async e=>{try{const s=`https://api.mcrm.uz/api/categories/${e}`,h=(await f.get(s)).data;m(h.name.ru)}catch(s){console.error("Ошибка произошла при получении названия категории",s)}};return t.jsxs(t.Fragment,{children:[t.jsx(y,{}),t.jsx("div",{className:c.catalogPage,children:t.jsxs("div",{className:"container",children:[t.jsxs("h2",{className:c.catalogPage_title,children:[t.jsx("span",{children:i}),t.jsx(C,{name:"ChevronRightIcon"})]}),o.length>0?t.jsx(t.Fragment,{children:t.jsx(S,{products:o})}):t.jsx("h2",{children:"Товара нет на сайте"})]})})]})}export{q as default};
