import{r as c,j as i,y as d,N as h}from"./index-DHFFmrto.js";import{p as v,H as w}from"./Header-CAbKcgHf.js";import{s as j}from"./shop1Store-CdlforCK.js";import{C as p}from"./CustomIcon-_DzLA8Xp.js";import{S as g,N as m,a as f}from"./scrollbar-TahO3_X5.js";import"./userStore-CGud9bG-.js";import"./XMarkIcon-DbEWSbBo.js";const u="_wrapper_17dzv_1",I="_wrapper_title_17dzv_5",N="_wrapper_content_17dzv_13",S="_wrapper_switcher_list_17dzv_18",b="_wrapper_switcher_link_17dzv_23",k="_active_17dzv_41",z="_left_17dzv_45",C="_right_17dzv_49",y="_right_top_ratingsBlock_17dzv_54",$="_right_top_ratings_17dzv_54",P="_right_top_wish_17dzv_65",M="_right_top_like_17dzv_74",B="_right_top_like_active_17dzv_77",E="_right_top_name_17dzv_80",R="_rightInfo_17dzv_87",F="_rightInfo_options_17dzv_94",A="_rightInfo_options_box_17dzv_101",L="_rightInfo_options_box_col_17dzv_106",H="_rightInfo_options_counter_17dzv_111",V="_rightInfo_options_images_17dzv_120",D="_rightInfo_options_images_item_17dzv_125",G="_rightInfo_options_images_item_active_17dzv_128",O="_rightInfo_options_img_17dzv_133",Z="_rightInfo_buttons_17dzv_138",q="_rightInfo_button_17dzv_138",J="_mySwiper_17dzv_161",K="_mySwiper_slide_img_17dzv_166",Q="_myMiniSwiper_17dzv_172",T="_myMiniSwiper_slide_img_17dzv_177",s={wrapper:u,wrapper_title:I,wrapper_content:N,wrapper_switcher_list:S,wrapper_switcher_link:b,active:k,left:z,right:C,right_top_ratingsBlock:y,right_top_ratings:$,right_top_wish:P,right_top_like:M,right_top_like_active:B,right_top_name:E,rightInfo:R,rightInfo_options:F,rightInfo_options_box:A,rightInfo_options_box_col:L,rightInfo_options_counter:H,rightInfo_options_images:V,rightInfo_options_images_item:D,rightInfo_options_images_item_active:G,rightInfo_options_img:O,rightInfo_buttons:Z,rightInfo_button:q,mySwiper:J,mySwiper_slide_img:K,myMiniSwiper:Q,myMiniSwiper_slide_img:T};function U({title:t,titleId:o,...n},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":o},n),t?c.createElement("title",{id:o},t):null,c.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const W=c.forwardRef(U);function X({name:t="HandRaisedIcon",width:o=30,height:n=30,color:r="black",background:e="transparent",transition:_=500,className:a,onClick:l}){const x={width:`${o}px`,height:`${n||o}px`,color:r,transition:`${_}ms`,background:e};return i.jsx(i.Fragment,{children:t=="StarIcon"&&i.jsx(W,{className:a,style:x,onClick:l})})}function Y({currentItem:t}){const[o,n]=c.useState([]);c.useEffect(()=>{t.crmImages&&n(t==null?void 0:t.crmImages)},[t]);const r=e=>{const _=o.filter(a=>a.id!=e.id);_.unshift(e),n(_)};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:s.rightInfo_options_box,children:[i.jsx("span",{children:"Цвет:"}),i.jsx("span",{})]}),i.jsxs("div",{className:s.rightInfo_options_images,children:[i.jsx("div",{className:s.rightInfo_options_images_item_active,children:i.jsx("img",{src:o[0]&&o[0].src,alt:"",className:s.rightInfo_options_img})}),i.jsx(g,{spaceBetween:10,modules:[m],slidesPerView:1,slidesPerGroup:1,navigation:!0,className:s.myMiniSwiper,children:o==null?void 0:o.map(e=>i.jsx(f,{className:s.rightInfo_options_images_item,onClick:()=>r(e),children:i.jsx("img",{src:e.src,alt:"",className:s.rightInfo_options_img})},e.id))})]})]})}function ii(){return i.jsxs("div",{className:`${s.rightInfo_options_box} ${s.rightInfo_options_box_col}`,children:[i.jsx("span",{children:"Размер:"}),i.jsx("span",{})]})}function si({setCount:t,currentCount:o}){return i.jsxs("div",{className:`${s.rightInfo_options_box} ${s.rightInfo_options_box_col}`,children:[i.jsx("span",{children:"Количество:"}),i.jsxs("span",{className:s.rightInfo_options_counter,children:[i.jsx("button",{className:s.rightInfo_options_counter_btn,onClick:()=>t("-"),children:i.jsx(p,{name:"MinusIcon",width:25,height:25,color:o==1?"#c6c0c0":"black"})}),o,i.jsx("button",{className:s.rightInfo_options_counter_btn,onClick:()=>t("+"),children:i.jsx(p,{name:"PlusIcon",width:25,height:25,color:"black"})})]})]})}function ti({currentItem:t,currentCost:o}){return i.jsxs("div",{className:s.rightInfo_options_box,children:[i.jsx("span",{children:"Цена:"}),i.jsxs("span",{children:[o==0?t.crmSellingPrice:o," Сум"]})]})}function oi(){return i.jsxs("div",{className:s.rightInfo_buttons,children:[i.jsx("button",{className:s.rightInfo_button,children:"Добавить в корзину"}),i.jsx("button",{className:s.rightInfo_button,children:"Купить в 1 клик"})]})}function ni({currentItem:t}){const[o,n]=c.useState(1),[r,e]=c.useState(0);c.useEffect(()=>{const a=t.crmSellingPrice;e(a),console.log("currentItem",t)},[t]);const _=a=>{if(a=="+"){const l=t.crmSellingPrice;n(o+1),e(r+l)}if(a=="-"&&o!=1){const l=t.crmSellingPrice;n(o-1),e(r-l)}};return i.jsxs("div",{className:s.rightInfo,children:[i.jsxs("div",{className:s.rightInfo_options,children:[i.jsx(Y,{currentItem:t}),i.jsx(ii,{}),i.jsx(si,{setCount:_,currentCount:o}),i.jsx(ti,{currentItem:t,currentCost:r})]}),i.jsx(oi,{})]})}function ei({currentItem:t}){const{favoriteActive:o,setFavoriteActive:n}=v(),r=e=>{if(e.stopPropagation(),Array.isArray(o)&&o.some(_=>_.mxikCode==t.mxikCode)){const _=o.filter(a=>a.mxikCode!=t.mxikCode);n(_)}else n([...o,t])};return i.jsxs("div",{className:s.right,children:[i.jsxs("div",{className:s.right_top,children:[i.jsxs("div",{className:s.right_top_ratingsBlock,children:[i.jsxs("div",{className:s.right_top_ratings,children:[i.jsxs("div",{children:[i.jsx(X,{name:"StarIcon",width:15,height:15,color:"orange",className:s.right_top_ratings_icon}),i.jsx("span",{children:"4.4"})]}),i.jsx("span",{children:"(14 оценок)"}),i.jsx("span",{children:"Более 90 заказов"})]}),i.jsxs("div",{className:s.right_top_wish,onClick:e=>r(e),children:[i.jsx(p,{name:"HeartIcon",width:18,height:18,className:`${s.right_top_like} ${o[o.findIndex(e=>e.mxikCode==t.mxikCode)]?s.right_top_like_active:""}`}),i.jsx("span",{children:"В Избранные"})]})]}),i.jsx("div",{className:s.right_top_name,children:t.positionName})]}),i.jsx(ni,{currentItem:t})]})}function ri({currentItem:t}){var o;return i.jsx("div",{className:s.left,children:i.jsx(g,{className:s.mySwiper,modules:[m],spaceBetween:50,slidesPerView:1,navigation:!0,children:(t==null?void 0:t.crmImages)&&((o=t==null?void 0:t.crmImages)==null?void 0:o.map(n=>i.jsx(f,{className:s.mySwiper_slide,children:i.jsx("img",{src:n.src,alt:"",className:s.mySwiper_slide_img})},n.id)))})})}function _i({currentItem:t}){const{id:o}=d();return i.jsx("div",{className:s.wrapper_switcher,children:i.jsx("div",{className:"container",children:i.jsxs("ul",{className:s.wrapper_switcher_list,children:[i.jsx("li",{children:i.jsx(h,{to:`/productInfo/${o}/desc`,className:({isActive:n})=>n?`${s.wrapper_switcher_link} ${s.active}`:`${s.wrapper_switcher_link}`,children:"Описание товара"})}),t.crmCommentsStatus&&i.jsx("li",{children:i.jsx(h,{to:`/productInfo/${o}/reviews`,className:({isActive:n})=>n?`${s.wrapper_switcher_link} ${s.active}`:`${s.wrapper_switcher_link}`,children:"Отзывы"})})]})})})}function mi(){const{id:t}=d(),{websiteProducts:o}=j(),[n,r]=c.useState({});return c.useEffect(()=>{const e=o.filter(_=>_.mxikCode==t)[0];r(e),console.log("obj",e)},[t]),i.jsxs(i.Fragment,{children:[i.jsx(w,{}),i.jsxs("div",{className:`${s.wrapper} container`,children:[i.jsx("h2",{className:s.wrapper_title,children:n.crmNameProduct}),i.jsxs("div",{className:s.wrapper_content,children:[i.jsx(ri,{currentItem:n}),i.jsx(ei,{currentItem:n})]}),i.jsx(_i,{currentItem:n})]})]})}export{mi as default};
