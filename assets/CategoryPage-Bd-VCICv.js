import{C as j,r as a,v as P,q as f,w as y,j as t}from"./index-B3j9hlWv.js";import{H as C,s as n}from"./Header-3vke5CJ9.js";import{C as S}from"./CustomIcon-BU2ESBbe.js";import{P as $}from"./Products-BlrNx2Cp.js";import{s as w}from"./shop1Store-D6Wyd4cU.js";import"./userStore-BazcNxCr.js";import"./XMarkIcon-DbSrmpME.js";import"./ProductItem-CiM8EDsC.js";import"./CustomIconSolid-_xPTS9nO.js";function _(){const e=j().id,{websiteProducts:i}=w(),[o,m]=a.useState([]),[p,d]=a.useState(""),[g]=a.useState(1),[l]=a.useState(10);a.useEffect(()=>{u(),h(e)},[e,i]);const u=async()=>{const r=P.get("multi-store");try{const c=await(await f.get(`web-nomenclatures?multiStoreId=${r}&categoryId=${e}&page=${g}&perPage=${l}`)).data.data;m(c)}catch(s){console.log("Ошибка произошла при получении всех продустов с сайта",s)}},h=async r=>{try{const s=`https://api.mcrm.uz/api/categories/${r}`,x=(await y.get(s)).data;d(x.name.ru)}catch(s){console.error("Ошибка произошла при получении названия категории",s)}};return t.jsxs(t.Fragment,{children:[t.jsx(C,{}),t.jsx("div",{className:n.catalogPage,children:t.jsxs("div",{className:"container",children:[t.jsxs("h2",{className:n.catalogPage_title,children:[t.jsx("span",{children:p}),t.jsx(S,{name:"ChevronRightIcon"})]}),o.length>0?t.jsx(t.Fragment,{children:t.jsx($,{products:o})}):t.jsx("h2",{children:"Товара нет на сайте"})]})})]})}export{_ as default};
