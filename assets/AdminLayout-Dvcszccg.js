import{j as e,a as le,r as u,w as Ve,L as Q,x as oe,v as Ie,q as ce,y as ie,e as re,u as Fe,z as Ot,A as Ft,B as At,C as pt}from"./index-jbLHaAhC.js";import{u as Mt}from"./userStore-BvO8ue9w.js";import{C as E}from"./CustomIcon-Dk3_npyW.js";import{s as Ke}from"./shop1Store-ov1rGPmp.js";import{a as He,c as Je,H as Bt}from"./Header-Bwoltv8W.js";import{a as be,s as J,M as ut}from"./Modal-SLmSfi0Q.js";import{b as me}from"./bannerStore-CMNPf2MY.js";import{F as Lt,a as qt,b as Wt,c as Et,d as Ut,e as Rt,f as Tt,g as zt,h as Vt,i as Kt,j as Ht,k as Xt,l as Gt,m as Zt,n as Jt,o as Qt,p as Yt,q as es,r as ts,s as ss,t as os,u as ns,v as as,w as rs,x as is,y as cs,z as ls,A as _s,B as ds,C as ps,D as us,E as ms,G as hs}from"./XMarkIcon-DIHbEiNZ.js";const gs="_wrapper_mqpnx_1",vs="_wrapper_title_mqpnx_4",bs="_content_mqpnx_10",xs="_content_left_mqpnx_16",fs="_content_right_mqpnx_19",ks="_tools_mqpnx_45",ys="_tools_link_mqpnx_50",js="_tools_link_active_mqpnx_63",ws="_settings_mqpnx_86",Cs="_settings_title_mqpnx_89",Ss="_settings_content_mqpnx_94",Ns="_settings_content_top_mqpnx_97",Is="_settings_content_buttons_mqpnx_100",$s="_settings_content_btn_mqpnx_110",Ps="_settings_content_btn_cancel_mqpnx_122",Ds="_settings_content_btn_save_mqpnx_125",Os="_settings_tools_mqpnx_128",Fs="_settings_tools_link_mqpnx_133",As="_settings_tools_link_active_mqpnx_148",Ms="_wrapperModules_mqpnx_153",Bs="_item_mqpnx_160",Ls="_item_top_mqpnx_165",qs="_item_top_title_mqpnx_176",Ws="_item_top_arrow_mqpnx_180",Es="_item_top_arrow_active_mqpnx_188",Us="_item_block_mqpnx_191",Rs="_item_block_item_mqpnx_202",Ts="_item_block_open_mqpnx_205",zs="_item_onOff_mqpnx_211",Vs="_item_delivery_mqpnx_211",Ks="_versions_block_mqpnx_217",Hs="_versions_block_top_mqpnx_222",Xs="_versions_block_top_title_mqpnx_232",Gs="_versions_block_top_arrow_mqpnx_237",Zs="_versions_block_top_arrow_active_mqpnx_246",Js="_versions_block_dropdown_mqpnx_249",Qs="_versions_block_dropdown_item_mqpnx_260",Ys="_versions_block_dropdown_open_mqpnx_271",eo="_versions_block_onOff_mqpnx_277",to="_versions_block_delivery_mqpnx_277",so="_categoriesDropDown_title_mqpnx_283",oo="_categoriesDropDown_item_mqpnx_286",no="_categoriesDropDown_item_top_mqpnx_292",ao="_categoriesDropDown_item_top_title_mqpnx_303",ro="_categoriesDropDown_item_top_arrow_mqpnx_307",io="_categoriesDropDown_item_top_arrow_active_mqpnx_314",co="_categoriesDropDown_item_block_mqpnx_317",lo="_categoriesDropDown_item_block_line_mqpnx_326",_o="_categoriesDropDown_item_block_active_mqpnx_338",po="_categoriesDropDown_item_block_open_mqpnx_341",uo="_categoriesDropDown_item_onOff_mqpnx_346",mo="_categoriesDropDown_item_delivery_mqpnx_346",ho="_products_buttons_mqpnx_352",go="_products_btn_mqpnx_358",vo="_products_btn_active_mqpnx_369",bo="_productItem_title_mqpnx_374",xo="_productItem_basePhoto_mqpnx_379",fo="_productItem_photos_mqpnx_385",ko="_productItem_photos_desc_mqpnx_391",yo="_productItem_photo_mqpnx_385",jo="_productItem_photo_img_mqpnx_406",wo="_productItem_photo_close_mqpnx_417",Co="_productItem_photo_active_mqpnx_429",So="_productItem_add_mqpnx_433",No="_productItem_add_text_mqpnx_441",Io="_productItem_settings_mqpnx_446",$o="_productItem_left_info_mqpnx_450",Po="_productItem_left_item_mqpnx_458",Do="_productItem_left_item_top_mqpnx_462",Oo="_productItem_left_item_top_input_mqpnx_483",Fo="_productItem_left_item_bottom_mqpnx_489",Ao="_productItem_left_form_mqpnx_502",Mo="_productItem_left_form_label_mqpnx_509",Bo="_productItem_left_form_title_mqpnx_513",Lo="_productItem_left_form_input_mqpnx_519",qo="_productItem_left_form_textarea_mqpnx_527",Wo="_productItem_left_form_size_mqpnx_535",Eo="_productItem_right_mqpnx_543",Uo="_productItem_right_item_mqpnx_550",Ro="_productItem_right_top_mqpnx_555",To="_productItem_right_title_mqpnx_562",zo="_productItem_right_bottom_items_mqpnx_568",Vo="_productItem_right_bottom_items_active_mqpnx_577",Ko="_productItem_right_bottom_item_mqpnx_568",Ho="_productItem_right_bottom_row_mqpnx_603",Xo="_productItem_right_bottom_del_mqpnx_608",Go="_banner_nav_list_mqpnx_619",Zo="_banner_nav_link_mqpnx_625",Jo="_banner_nav_link_active_mqpnx_640",Qo="_addingWrapper_title_mqpnx_645",Yo="_addingWrapper_form_mqpnx_650",en="_addingWrapper_form_btn_mqpnx_655",tn="_addingWrapper_search_mqpnx_672",sn="_addingWrapper_search_input_mqpnx_678",on="_addingWrapper_search_icon_mqpnx_686",nn="_addingWrapper_table_mqpnx_689",an="_addingWrapper_table_error_mqpnx_692",rn="_addingWrapper_thead_tr_mqpnx_696",cn="_addingWrapper_thead_th_mqpnx_700",ln="_addingWrapper_tbody_tr_mqpnx_708",_n="_addingWrapper_tbody_td_mqpnx_711",dn="_addingWrapper_tbody_buttons_mqpnx_725",pn="_addingWrapper_tbody_add_mqpnx_730",un="_addingWrapper_tbody_del_mqpnx_737",mn="_errorWrapper_mqpnx_745",hn="_errorWrapper_block_mqpnx_754",gn="_errorWrapper_block_close_mqpnx_764",vn="_layout_title_mqpnx_775",bn="_layout_buttons_mqpnx_780",xn="_layout_btn_mqpnx_786",fn="_layout_btn_active_mqpnx_800",kn="_editBlock_mqpnx_805",yn="_articleModal_mqpnx_817",jn="_articleModal_block_mqpnx_826",wn="_articleModal_block_nav_mqpnx_833",Cn="_articleModal_block_title_mqpnx_840",Sn="_articleModal_block_info_mqpnx_845",Nn="_articleModal_block_info_item_mqpnx_848",In="_articleModal_block_recommended_mqpnx_863",$n="_articleModal_block_recommended_title_mqpnx_866",Pn="_articleModal_block_recommended_item_mqpnx_872",Dn="_articleModal_block_recommended_item_title_mqpnx_876",On="_articleModal_block_recommended_content_mqpnx_882",Fn="_articleModal_block_recommended_img_mqpnx_887",An="_articleModal_block_recommended_info_mqpnx_897",Mn="_articleModal_block_recommended_desc_mqpnx_902",Bn="_articleModal_block_recommended_article_mqpnx_916",Ln="_articleModal_block_search_mqpnx_921",qn="_articleModal_block_search_box_mqpnx_924",Wn="_articleModal_block_search_input_mqpnx_929",En="_articleModal_block_search_btn_mqpnx_941",Un="_articleModal_block_found_mqpnx_951",Rn="_articleModal_block_buttonBox_mqpnx_957",Tn="_articleModal_block_button_mqpnx_957",zn="_homePage_wrapper_title_mqpnx_974",Vn="_homePage_blocks_mqpnx_984",Kn="_homePage_addBlock_mqpnx_990",Hn="_homePage_addBlock_title_mqpnx_1007",Xn="_homePage_addBlock_active_mqpnx_1010",Gn="_homePage_addBlockItem_mqpnx_1014",Zn="_homePage_addBlockItem_close_mqpnx_1023",Jn="_homePage_addBlockItem_super_mqpnx_1029",Qn="_homePage_addBlockItem_super_title_mqpnx_1033",Yn="_homePage_addBlockItem_super_block_mqpnx_1038",ea="_homePage_addBlockItem_super_item_mqpnx_1063",ta="_homePage_addBlockItem_content_mqpnx_1079",sa="_homePage_addBlockItem_categories_mqpnx_1103",oa="_homePage_delModal_mqpnx_1110",na="_homePage_delModal_block_mqpnx_1120",aa="_homePage_delModal_buttons_mqpnx_1130",ra="_homePage_delModal_btn_mqpnx_1140",ia="_homePage_delModal_del_mqpnx_1149",ca="_homePage_delModal_cancel_mqpnx_1152",d={wrapper:gs,wrapper_title:vs,content:bs,content_left:xs,content_right:fs,tools:ks,tools_link:ys,tools_link_active:js,settings:ws,settings_title:Cs,settings_content:Ss,settings_content_top:Ns,settings_content_buttons:Is,settings_content_btn:$s,settings_content_btn_cancel:Ps,settings_content_btn_save:Ds,settings_tools:Os,settings_tools_link:Fs,settings_tools_link_active:As,wrapperModules:Ms,item:Bs,item_top:Ls,item_top_title:qs,item_top_arrow:Ws,item_top_arrow_active:Es,item_block:Us,item_block_item:Rs,item_block_open:Ts,item_onOff:zs,item_delivery:Vs,versions_block:Ks,versions_block_top:Hs,versions_block_top_title:Xs,versions_block_top_arrow:Gs,versions_block_top_arrow_active:Zs,versions_block_dropdown:Js,versions_block_dropdown_item:Qs,versions_block_dropdown_open:Ys,versions_block_onOff:eo,versions_block_delivery:to,categoriesDropDown_title:so,categoriesDropDown_item:oo,categoriesDropDown_item_top:no,categoriesDropDown_item_top_title:ao,categoriesDropDown_item_top_arrow:ro,categoriesDropDown_item_top_arrow_active:io,categoriesDropDown_item_block:co,categoriesDropDown_item_block_line:lo,categoriesDropDown_item_block_active:_o,categoriesDropDown_item_block_open:po,categoriesDropDown_item_onOff:uo,categoriesDropDown_item_delivery:mo,products_buttons:ho,products_btn:go,products_btn_active:vo,productItem_title:bo,productItem_basePhoto:xo,productItem_photos:fo,productItem_photos_desc:ko,productItem_photo:yo,productItem_photo_img:jo,productItem_photo_close:wo,productItem_photo_active:Co,productItem_add:So,productItem_add_text:No,productItem_settings:Io,productItem_left_info:$o,productItem_left_item:Po,productItem_left_item_top:Do,productItem_left_item_top_input:Oo,productItem_left_item_bottom:Fo,productItem_left_form:Ao,productItem_left_form_label:Mo,productItem_left_form_title:Bo,productItem_left_form_input:Lo,productItem_left_form_textarea:qo,productItem_left_form_size:Wo,productItem_right:Eo,productItem_right_item:Uo,productItem_right_top:Ro,productItem_right_title:To,productItem_right_bottom_items:zo,productItem_right_bottom_items_active:Vo,productItem_right_bottom_item:Ko,productItem_right_bottom_row:Ho,productItem_right_bottom_del:Xo,banner_nav_list:Go,banner_nav_link:Zo,banner_nav_link_active:Jo,addingWrapper_title:Qo,addingWrapper_form:Yo,addingWrapper_form_btn:en,addingWrapper_search:tn,addingWrapper_search_input:sn,addingWrapper_search_icon:on,addingWrapper_table:nn,addingWrapper_table_error:an,addingWrapper_thead_tr:rn,addingWrapper_thead_th:cn,addingWrapper_tbody_tr:ln,addingWrapper_tbody_td:_n,addingWrapper_tbody_buttons:dn,addingWrapper_tbody_add:pn,addingWrapper_tbody_del:un,errorWrapper:mn,errorWrapper_block:hn,errorWrapper_block_close:gn,layout_title:vn,layout_buttons:bn,layout_btn:xn,layout_btn_active:fn,editBlock:kn,articleModal:yn,articleModal_block:jn,articleModal_block_nav:wn,articleModal_block_title:Cn,articleModal_block_info:Sn,articleModal_block_info_item:Nn,articleModal_block_recommended:In,articleModal_block_recommended_title:$n,articleModal_block_recommended_item:Pn,articleModal_block_recommended_item_title:Dn,articleModal_block_recommended_content:On,articleModal_block_recommended_img:Fn,articleModal_block_recommended_info:An,articleModal_block_recommended_desc:Mn,articleModal_block_recommended_article:Bn,articleModal_block_search:Ln,articleModal_block_search_box:qn,articleModal_block_search_input:Wn,articleModal_block_search_btn:En,articleModal_block_found:Un,articleModal_block_buttonBox:Rn,articleModal_block_button:Tn,homePage_wrapper_title:zn,homePage_blocks:Vn,homePage_addBlock:Kn,homePage_addBlock_title:Hn,homePage_addBlock_active:Xn,homePage_addBlockItem:Gn,homePage_addBlockItem_close:Zn,homePage_addBlockItem_super:Jn,homePage_addBlockItem_super_title:Qn,homePage_addBlockItem_super_block:Yn,homePage_addBlockItem_super_item:ea,homePage_addBlockItem_content:ta,homePage_addBlockItem_categories:sa,homePage_delModal:oa,homePage_delModal_block:na,homePage_delModal_buttons:aa,homePage_delModal_btn:ra,homePage_delModal_del:ia,homePage_delModal_cancel:ca};function De({width:s=78,color:t="white",backgroundOn:o="rgba(137, 250, 135, 1)",backgroundOff:a="rgba(193, 193, 193, 1)",speed:n=500,scale:l=1.1,status:_=!1}){const r={width:`${s}px`,height:`${s/2-s/20}px`,background:_?o:a,borderRadius:`${s/2}px`,display:"flex",alignItems:"center",transition:`${n}ms`,cursor:"pointer"},i={background:`${t}`,height:`${s/2-s/20}px`,width:`${s/2-s/20}px`,border:`${s/25}px solid ${_?o:a}`,borderRadius:"50%",transition:`${n}ms`,transform:`scale(${l}) translateX(${_?"110%":"0"})`};return e.jsx("div",{style:r,children:e.jsx("div",{style:i})})}const la="_versions_1cgvq_1",_a="_versions_block_1cgvq_6",da="_versions_block_top_1cgvq_11",pa="_versions_block_top_title_1cgvq_21",ua="_versions_block_top_arrow_1cgvq_25",ma="_versions_block_top_arrow_active_1cgvq_34",ha="_versions_block_dropdown_1cgvq_37",ga="_versions_block_dropdown_item_1cgvq_49",va="_versions_block_dropdown_open_1cgvq_60",ba="_versions_block_onOff_1cgvq_66",xa="_versions_block_delivery_1cgvq_66",fa="_versions2_1cgvq_72",ka="_versions2_block_1cgvq_77",ya="_versions2_block_top_1cgvq_82",ja="_versions2_block_top_title_1cgvq_92",wa="_versions2_block_top_arrow_1cgvq_96",Ca="_versions2_block_top_arrow_active_1cgvq_105",Sa="_versions2_block_dropdown_1cgvq_108",Na="_versions2_block_dropdown_item_1cgvq_119",Ia="_versions2_block_dropdown_open_1cgvq_130",$a="_versions2_block_onOff_1cgvq_136",Pa="_versions2_block_delivery_1cgvq_136",Da="_version3_1cgvq_142",Oa="_version3_title_1cgvq_147",Fa="_version3_block_1cgvq_153",Aa="_version3_block_top_1cgvq_158",Ma="_version3_block_top_title_1cgvq_169",Ba="_version3_block_top_arrow_1cgvq_173",La="_version3_block_top_arrow_active_1cgvq_183",qa="_version3_block_dropdown_1cgvq_186",Wa="_version3_block_dropdown_item_1cgvq_197",Ea="_version3_block_dropdown_open_1cgvq_213",Ua="_version3_block_onOff_1cgvq_237",Ra="_version3_block_delivery_1cgvq_237",Ta="_versionExtraOptions_1cgvq_243",za="_versionExtraOptions_title_1cgvq_248",Va="_versionExtraOptions_block_1cgvq_254",Ka="_versionExtraOptions_block_top_1cgvq_259",Ha="_versionExtraOptions_block_top_title_1cgvq_270",Xa="_versionExtraOptions_block_top_arrow_1cgvq_275",Ga="_versionExtraOptions_block_top_arrow_active_1cgvq_285",Za="_versionExtraOptions_block_dropdown_1cgvq_288",Ja="_versionExtraOptions_block_dropdown_item_1cgvq_299",Qa="_versionExtraOptions_block_dropdown_open_1cgvq_316",Ya="_versionExtraOptions_block_onOff_1cgvq_340",er="_versionExtraOptions_block_delivery_1cgvq_340",R={versions:la,versions_block:_a,versions_block_top:da,versions_block_top_title:pa,versions_block_top_arrow:ua,versions_block_top_arrow_active:ma,versions_block_dropdown:ha,versions_block_dropdown_item:ga,versions_block_dropdown_open:va,versions_block_onOff:ba,versions_block_delivery:xa,versions2:fa,versions2_block:ka,versions2_block_top:ya,versions2_block_top_title:ja,versions2_block_top_arrow:wa,versions2_block_top_arrow_active:Ca,versions2_block_dropdown:Sa,versions2_block_dropdown_item:Na,versions2_block_dropdown_open:Ia,versions2_block_onOff:$a,versions2_block_delivery:Pa,version3:Da,version3_title:Oa,version3_block:Fa,version3_block_top:Aa,version3_block_top_title:Ma,version3_block_top_arrow:Ba,version3_block_top_arrow_active:La,version3_block_dropdown:qa,version3_block_dropdown_item:Wa,version3_block_dropdown_open:Ea,version3_block_onOff:Ua,version3_block_delivery:Ra,versionExtraOptions:Ta,versionExtraOptions_title:za,versionExtraOptions_block:Va,versionExtraOptions_block_top:Ka,versionExtraOptions_block_top_title:Ha,versionExtraOptions_block_top_arrow:Xa,versionExtraOptions_block_top_arrow_active:Ga,versionExtraOptions_block_dropdown:Za,versionExtraOptions_block_dropdown_item:Ja,versionExtraOptions_block_dropdown_open:Qa,versionExtraOptions_block_onOff:Ya,versionExtraOptions_block_delivery:er};function ot({color:s="black",title:t="",versionList:o=[{id:"1",title:"версия 1",isActive:!0,navIcon:""},{id:"2",title:"версия 2",isActive:!1,navIcon:""},{id:"3",title:"версия 3",isActive:!1,navIcon:""}],className:a,openBlock:n,currentVersion:l,setOpenBlock:_,setCurrentVersion:r,setVersionList:i}){const c=p=>{r(p.title);const m=o.map(v=>({id:v.id,title:v.title,isActive:!1})),g=m.find(v=>v.id==p.id),h=m.findIndex(v=>v.id==p.id);g&&(g.isActive=!0,m.splice(h,1,g),i(m))};return e.jsxs("div",{className:a??R.versions,children:[e.jsx("span",{children:t}),e.jsxs("div",{className:R.versions_block,children:[e.jsxs("div",{className:R.versions_block_top,children:[e.jsx("h2",{className:R.versions_block_top_title,style:{color:s},children:l}),e.jsx("button",{className:R.versions_block_top_btn,onClick:()=>_(!n),children:e.jsx("div",{className:`${R.versions_block_top_arrow} ${n?R.versions_block_top_arrow_active:""}`,children:e.jsx(E,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${R.versions_block_dropdown} ${n?R.versions_block_dropdown_open:""}`,children:o.map(p=>e.jsx("span",{className:R.versions_block_dropdown_item,onClick:()=>c(p),children:p.title},p.id))})]})]})}function tr(){const{modulesCashRegisterStatus:s,deliveryStatus:t,cashRegisterVersionList:o,cashRegisterCurrentVersion:a,openBlockCashRegister:n,openBlockCashRegisterVersion:l,openBlockCart:_,cartVersionList:r,modulesCartStatus:i,cartCurrentVersion:c,openBlockCartVersion:p,setCartVersionList:m,setCartCurrentVersion:g,setModulesCartStatus:h,setOpenBlockCart:v,setOpenBlockCartVersion:f,setDeliveryStatus:y,setOpenBlockCashRegister:D,setCashRegisterVersionList:C,setModulesCashRegisterStatus:I,setCashRegisterCurrentVersion:j,setOpenBlockCashRegisterVersion:k}=le(),x=()=>{v(!_)},b=()=>{D(!n)};return e.jsxs("div",{className:d.wrapperModules,children:[e.jsxs("div",{className:d.item,children:[e.jsxs("div",{className:d.item_top,onClick:()=>x(),children:[e.jsx("h2",{className:d.item_top_title,children:"Корзина"}),e.jsx("button",{className:d.item_top_btn,onClick:()=>x(),children:e.jsx("div",{className:`${d.item_top_arrow} ${_?d.item_top_arrow_active:""}`,children:e.jsx(E,{name:"ChevronDownIcon",width:15})})})]}),e.jsxs("div",{className:`${d.item_block} ${_?d.item_block_open:""}`,children:[e.jsxs("div",{className:d.item_onOff,children:[e.jsx("span",{children:"Выкл / Вкл"}),e.jsx("div",{className:d.item_shell,onClick:()=>h(!i),children:e.jsx(De,{status:i,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]}),e.jsx(ot,{color:"rgb(137, 250, 135)",openBlock:p,setOpenBlock:f,title:"Выберите версию",versionList:r,currentVersion:c,setCurrentVersion:g,setVersionList:m}),e.jsxs("div",{className:d.item_delivery,children:[e.jsx("span",{children:"Доставка"}),e.jsx("div",{className:d.item_shell,onClick:()=>y(!t),children:e.jsx(De,{status:t,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]})]})]}),e.jsxs("div",{className:d.item,children:[e.jsxs("div",{className:d.item_top,onClick:()=>b(),children:[e.jsx("h2",{className:d.item_top_title,children:"Кacca"}),e.jsx("button",{className:d.item_top_btn,onClick:()=>b(),children:e.jsx("div",{className:`${d.item_top_arrow} ${n?d.item_top_arrow_active:""}`,children:e.jsx(E,{name:"ChevronDownIcon",width:15})})})]}),e.jsxs("div",{className:`${d.item_block} ${n?d.item_block_open:""}`,children:[e.jsxs("div",{className:d.item_onOff,children:[e.jsx("span",{children:"Выкл / Вкл"}),e.jsx("div",{className:d.item_shell,onClick:()=>I(!s),children:e.jsx(De,{status:s,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]}),e.jsx(ot,{color:"rgb(137, 250, 135)",openBlock:l,setOpenBlock:k,title:"Выберите версию",versionList:o,currentVersion:a,setCurrentVersion:j,setVersionList:C})]})]})]})}function sr(){const{templates:s,setTemplates:t}=le(),[o,a]=u.useState([...s]);u.useEffect(()=>{a([...s])},[s]);const n=r=>{const i=o.map(c=>c.id===r?{...c,open:!c.open}:c);a(i)},l=(r,i)=>{const c=o.map(p=>p.id===r?{...p,isActive:!0,templateThemes:p.templateThemes.map(m=>m.id===i?{...m,isActive:!0}:{...m,isActive:!1})}:{...p,isActive:!1,templateThemes:p.templateThemes.map(m=>({...m,isActive:!1}))});a(c)};function _(){t(o)}return e.jsxs("div",{className:d.wrapperModules,children:[o.map(r=>e.jsxs("div",{className:d.item,children:[e.jsxs("div",{className:d.item_top,onClick:()=>n(r.id),children:[e.jsx("h2",{className:d.item_top_title,children:r.title}),e.jsx("button",{className:d.item_top_btn,onClick:()=>n(r.id),children:e.jsx("div",{className:`${d.item_top_arrow} ${r.open?d.item_top_arrow_active:""}`,children:e.jsx(E,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${d.item_block} ${r.open?d.item_block_open:""}`,children:r.templateThemes.map(i=>e.jsxs("div",{className:d.item_onOff,children:[e.jsx("span",{children:i.title}),e.jsx("div",{className:d.item_shell,onClick:()=>l(r.id,i.id),children:e.jsx(De,{status:i.isActive,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]},i.id))})]},r.id)),e.jsxs("div",{className:d.settings_content_buttons,children:[e.jsx("button",{className:`${d.settings_content_btn} ${d.settings_content_btn_cancel}`,children:"Отмена"}),e.jsx("button",{className:`${d.settings_content_btn} ${d.settings_content_btn_save}`,onClick:()=>_(),children:"Сохранить"})]})]})}function or({title:s,setOpenModal:t}){const{currentCategory:o}=le(),[a,n]=u.useState(""),{selectedSuperCategory:l,selectedCategory:_}=He();u.useEffect(()=>{o=="Котегории"&&l&&r(l),o=="Подкотегории"&&_&&r(_)},[o,l,_]);const r=async c=>{try{const m=await(await Ve.get(`https://api.mcrm.uz/api/categories/${c}`)).data;n(m.name.ru)}catch(p){console.error("Ошибка произошла при получении названия варианта категории",p)}},i=()=>{t&&t(!0)};return e.jsxs("div",{className:d.editBlock,onClick:i,children:[a||s,e.jsx(E,{name:"PencilIcon"})]})}const nr="_modalCategory_xzv82_1",ar="_modalCategory_block_xzv82_10",rr="_modalCategory_nav_xzv82_16",ir="_modalCategory_nav_title_xzv82_23",cr="_modalCategory_content_xzv82_29",lr="_modalCategory_content_message_xzv82_36",_r="_modalCategory_content_link_xzv82_44",dr="_modalCategory_content_link_active_xzv82_72",pr="_modalCategory_content_item_xzv82_82",ur="_modalCategory_content_block_xzv82_104",mr="_modalCategory_content_block_title_xzv82_108",hr="_settings_xzv82_115",gr="_settings_title_xzv82_118",vr="_settings_content_xzv82_123",br="_settings_content_top_xzv82_126",xr="_settings_content_buttons_xzv82_129",fr="_settings_content_btn_xzv82_139",kr="_settings_content_btn_cancel_xzv82_151",yr="_settings_content_btn_save_xzv82_154",jr="_settings_tools_xzv82_157",wr="_settings_tools_link_xzv82_162",Cr="_settings_tools_link_active_xzv82_177",ne={modalCategory:nr,modalCategory_block:ar,modalCategory_nav:rr,modalCategory_nav_title:ir,modalCategory_content:cr,modalCategory_content_message:lr,modalCategory_content_link:_r,modalCategory_content_link_active:dr,modalCategory_content_item:pr,modalCategory_content_block:ur,modalCategory_content_block_title:mr,settings:hr,settings_title:gr,settings_content:vr,settings_content_top:br,settings_content_buttons:xr,settings_content_btn:fr,settings_content_btn_cancel:kr,settings_content_btn_save:yr,settings_tools:jr,settings_tools_link:wr,settings_tools_link_active:Cr};function Sr({setCancel:s}){return e.jsxs("div",{className:ne.modalCategory_nav,children:[e.jsx("h2",{className:ne.modalCategory_nav_title,children:"Котегория"}),e.jsx("button",{className:ne.modalCategory_nav_close,onClick:s,children:e.jsx(E,{width:24,height:24,name:"XMarkIcon"})})]})}function Nr({superCategory:s,category:t,setMessageStatus:o,fetchCategories:a}){const{currentCategory:n}=le(),{selectedSuperCategory:l,setSelectedSuperCategory:_}=He(),{setCurrentCategory:r}=be(),[i,c]=u.useState(10),p=(g,h)=>{if(g.preventDefault(),n==="Подкотегории"){a("category",1,10,h.id);const v=t.filter(f=>f.parentId==h.id);r(v),_(h.id),o(!1)}_(h.id)},m=g=>{g.preventDefault();const h=i+10;c(h),a("super",1,h)};return e.jsxs("div",{className:ne.modalCategory_content_block,children:[e.jsx("h2",{className:ne.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:ne.modalCategory_content_item,children:[s.map(g=>e.jsxs(Q,{to:"#",className:`${ne.modalCategory_content_link} ${g.id==l?ne.modalCategory_content_link_active:""} `,onClick:h=>p(h,g),children:[g.name.ru,e.jsx(E,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},g.id)),e.jsx(Q,{to:"#",className:ne.modalCategory_content_link,onClick:g=>m(g),children:"Ещё..."})]})]})}function Ir({categoryId:s,category:t,setCategoryId:o,setSubCategory:a,fetchCategories:n}){const{selectedSuperCategory:l}=He(),[_,r]=u.useState(10),i=p=>{p.preventDefault();const m=_+10;r(m),n("category",1,m,l)},c=(p,m)=>{a(p,m),o(m.id)};return t.length>0&&e.jsxs("div",{className:ne.modalCategory_content_block,children:[e.jsx("h2",{className:ne.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:ne.modalCategory_content_item,children:[t==null?void 0:t.map(p=>e.jsxs(Q,{to:"#",className:`${ne.modalCategory_content_link} ${p.id==s?ne.modalCategory_content_link_active:""} `,onClick:m=>c(m,p),children:[p.name.ru,e.jsx(E,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},p.id)),e.jsx(Q,{to:"#",className:ne.modalCategory_content_link,onClick:p=>i(p),children:"Ещё..."})]})]})}function $r({setSettings:s,setCancel:t}){return e.jsxs("div",{className:ne.settings_content_buttons,children:[e.jsx("button",{className:`${ne.settings_content_btn} ${ne.settings_content_btn_cancel}`,onClick:t,children:"Отмена"}),e.jsx(Q,{to:"#",className:`${ne.settings_content_btn} ${ne.settings_content_btn_save}`,onClick:s,children:"Сохранить"})]})}function Pr({setOpenModal:s}){const{currentCategory:t}=le(),{selectedSuperCategory:o,setSelectedSuperCategory:a,selectedCategory:n,setSelectedCategory:l}=He(),[_,r]=u.useState(0),[i,c]=u.useState(!1),[p,m]=u.useState("Выберите категорию"),[g,h]=u.useState([]),[v,f]=u.useState([]);u.useEffect(()=>{I("super",1,10),n&&r(n)},[]);const y=(k,x)=>{k.preventDefault(),I("subCategory",1,10,x.id),c(!1)},D=()=>{t=="Котегории"?a(o):t=="Подкотегории"&&l(_),C()},C=()=>{c(!1),m("Выберите категорию"),s(!1)},I=async(k,x,b,S)=>{try{const w=k=="super"?`https://api.mcrm.uz/api/categories?&page=${x}&perPage=${b}`:`https://api.mcrm.uz/api/categories?parentId=${S}&page=${x}&perPage=${b}`,B=(await Ve.get(w)).data.data.map(q=>({...q,label:k==="super"?"Супер категория":k==="category"?"Категория":"Субкатегория"}));k==="super"&&h([...B]),k==="category"&&f([...B])}catch(w){console.error(`Ошибка произошла при получении ${k} категорий`,w)}},j=()=>{s(!1)};return e.jsx("div",{className:ne.modalCategory,onClick:j,children:e.jsxs("div",{className:ne.modalCategory_block,onClick:k=>k.stopPropagation(),children:[e.jsx(Sr,{setCancel:C}),e.jsx("p",{className:ne.modalCategory_content_message,children:i?p:""}),e.jsxs("div",{className:ne.modalCategory_content,children:[e.jsx(Nr,{superCategory:g,category:v,setMessageStatus:c,fetchCategories:I}),t==="Подкотегории"&&e.jsx(Ir,{categoryId:_,category:v,setCategoryId:r,setSubCategory:y,fetchCategories:I}),e.jsx($r,{setSettings:D,setCancel:C})]})]})})}function Dr(){const[s,t]=u.useState(!1),[o,a]=u.useState(!1),{currentCategory:n,categoriesStatus:l,categories:_,setCategoriesStatus:r,setCurrentCategory:i}=le();u.useEffect(()=>{t(n==="Котегории"||n==="Подкотегории")},[n]);const c=p=>{i(p.title),p.title==="Котегории"||p.title==="Подкотегории"?t(!0):t(!1)};return e.jsxs("div",{className:d.categoriesDropDown,children:[e.jsx("h2",{className:d.categoriesDropDown_title,children:"Настройки каталога"}),o&&e.jsx(Pr,{setOpenModal:a}),e.jsxs("div",{className:d.categoriesDropDown_item,children:[e.jsxs("div",{className:d.categoriesDropDown_item_top,onClick:()=>r(!l),children:[e.jsx("h2",{className:d.categoriesDropDown_item_top_title,children:n}),e.jsx("button",{className:d.categoriesDropDown_item_top_btn,onClick:()=>r(!l),children:e.jsx("div",{className:`${d.categoriesDropDown_item_top_arrow} ${l?d.categoriesDropDown_item_top_arrow_active:""}`,children:e.jsx(E,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${d.categoriesDropDown_item_block} ${l?d.categoriesDropDown_item_block_open:""}`,children:_.map(p=>e.jsx("div",{className:`${d.categoriesDropDown_item_block_line} ${p.title==n?d.categoriesDropDown_item_block_active:""}`,onClick:()=>c(p),children:p.title},p.id))})]}),s&&e.jsx(or,{title:"Выберите вариант",setOpenModal:a})]})}const Or="_banner_1eodh_1",Fr="_banner_title_1eodh_5",Ar="_products_banner_1eodh_10",Mr="_products_banner_wrap_1eodh_13",Br="_products_banner_wrap_btn_1eodh_19",Lr="_products_banner_wrap_filter_1eodh_30",qr="_products_banner_wrap_filter_text_1eodh_40",Wr="_products_banner_form_1eodh_48",Er="_products_banner_form_wrap_1eodh_53",Ur="_products_banner_form_wrap_btn_1eodh_59",Rr="_products_banner_form_wrap_input_1eodh_75",Tr="_products_banner_form_wrap_icon_1eodh_83",zr="_table_1eodh_87",Vr="_table_tbody_1eodh_92",Kr="_table_tbody_tr_1eodh_97",Hr="_table_tbody_tr_active_1eodh_100",Xr="_table_tbody_img_1eodh_103",Gr="_table_tr_1eodh_108",Zr="_table_th_1eodh_111",Jr="_table_td_1eodh_122",Qr="_table_td_edit_1eodh_130",Yr="_table_btn_1eodh_136",ei="_versions_1eodh_144",ti="_versions_block_1eodh_149",si="_versions_block_top_1eodh_154",oi="_versions_block_top_title_1eodh_164",ni="_versions_block_top_arrow_1eodh_168",ai="_versions_block_top_arrow_active_1eodh_177",ri="_versions_block_dropdown_1eodh_180",ii="_versions_block_dropdown_item_1eodh_195",ci="_versions_block_dropdown_open_1eodh_206",li="_add_banner_1eodh_213",_i="_add_banner_header_1eodh_221",di="_add_banner_header_title_1eodh_225",pi="_add_banner_content_1eodh_229",ui="_add_banner_content_product_1eodh_232",mi="_add_banner_content_link_1eodh_254",hi="_add_banner_content_info_1eodh_262",gi="_add_banner_content_info_text_1eodh_266",vi="_add_banner_content_download_1eodh_272",bi="_add_banner_content_download_link_1eodh_281",xi="_add_banner_content_btns_1eodh_293",fi="_add_banner_content_btn_1eodh_293",ki="_category_wrap_1eodh_311",yi="_modalCategory_1eodh_315",ji="_modalCategory_block_1eodh_323",wi="_modalCategory_nav_1eodh_328",Ci="_modalCategory_nav_title_1eodh_335",Si="_modalCategory_content_1eodh_341",Ni="_modalCategory_content_message_1eodh_348",Ii="_modalCategory_content_link_1eodh_356",$i="_modalCategory_content_link_active_1eodh_384",Pi="_modalCategory_content_item_1eodh_394",Di="_modalCategory_content_block_1eodh_416",Oi="_modalCategory_content_block_title_1eodh_420",Fi="_add_link_1eodh_427",Ai="_add_link_title_1eodh_430",Mi="_add_link_input_1eodh_434",Bi="_modal_btn_1eodh_443",F={banner:Or,banner_title:Fr,products_banner:Ar,products_banner_wrap:Mr,products_banner_wrap_btn:Br,products_banner_wrap_filter:Lr,products_banner_wrap_filter_text:qr,products_banner_form:Wr,products_banner_form_wrap:Er,products_banner_form_wrap_btn:Ur,products_banner_form_wrap_input:Rr,products_banner_form_wrap_icon:Tr,table:zr,table_tbody:Vr,table_tbody_tr:Kr,table_tbody_tr_active:Hr,table_tbody_img:Xr,table_tr:Gr,table_th:Zr,table_td:Jr,table_td_edit:Qr,table_btn:Yr,versions:ei,versions_block:ti,versions_block_top:si,versions_block_top_title:oi,versions_block_top_arrow:ni,versions_block_top_arrow_active:ai,versions_block_dropdown:ri,versions_block_dropdown_item:ii,versions_block_dropdown_open:ci,add_banner:li,add_banner_header:_i,add_banner_header_title:di,add_banner_content:pi,add_banner_content_product:ui,add_banner_content_link:mi,add_banner_content_info:hi,add_banner_content_info_text:gi,add_banner_content_download:vi,add_banner_content_download_link:bi,add_banner_content_btns:xi,add_banner_content_btn:fi,category_wrap:ki,modalCategory:yi,modalCategory_block:ji,modalCategory_nav:wi,modalCategory_nav_title:Ci,modalCategory_content:Si,modalCategory_content_message:Ni,modalCategory_content_link:Ii,modalCategory_content_link_active:$i,modalCategory_content_item:Pi,modalCategory_content_block:Di,modalCategory_content_block_title:Oi,add_link:Fi,add_link_title:Ai,add_link_input:Mi,modal_btn:Bi};function mt({color:s="black",title:t="",versionList:o=[],className:a,openBlock:n,setOpenBlock:l,setVersionList:_}){const[r,i]=u.useState(o[0].title),{setChangeCategoryStyles:c}=me(),p=m=>{const g=o.map(h=>({...h,isOpen:h.id===m.id}));m.title=="Категория"&&c(!0),i(m.title),_(g),l(!1)};return e.jsxs("div",{className:a??F.versions,children:[e.jsx("span",{children:t}),e.jsxs("div",{className:F.versions_block,children:[e.jsxs("div",{className:F.versions_block_top,children:[e.jsx("h2",{className:F.versions_block_top_title,style:{color:s},children:r}),e.jsx("button",{className:F.versions_block_top_btn,onClick:()=>l(!n),children:e.jsx("div",{className:`${F.versions_block_top_arrow} ${n?F.versions_block_top_arrow_active:""}`,children:e.jsx(E,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${F.versions_block_dropdown} ${n?F.versions_block_dropdown_open:""}`,children:o.map(m=>e.jsx("span",{className:F.versions_block_dropdown_item,onClick:()=>p(m),children:m.title},m.id))})]})]})}function Ze({width:s=78,color:t="white",backgroundOn:o="rgba(137, 250, 135, 1)",backgroundOff:a="rgba(193, 193, 193, 1)",speed:n=500,scale:l=1.1,status:_=!1,disabled:r=!1}){const i={width:`${s}px`,height:`${s/2-s/20}px`,background:_?o:a,borderRadius:`${s/2}px`,display:"flex",alignItems:"center",transition:`${n}ms`,cursor:"pointer",opacity:r?1:.3},c={background:`${t}`,height:`${s/2-s/20}px`,width:`${s/2-s/20}px`,border:`${s/25}px solid ${_?o:a}`,borderRadius:"50%",transition:`${n}ms`,transform:`scale(${l}) translateX(${_?"110%":"0"})`};return e.jsx("div",{style:i,children:e.jsx("div",{style:c})})}const Ee=({arr:s=[{id:"1",title:"Заголовок"},{id:"2",title:"Цена"},{id:"3",title:"Кол-во"},{id:"4",title:""}],arrToUse:t,selectionMode:o,isActive:a=!1,isEdit:n=!1,isCategory:l,isLinks:_,setPickedProduct:r,setPickedProductActive:i})=>{const{bannersArr:c,selectedProductEdit:p,imageUrlEditBanner:m,bannersArrProduct:g,bannersArrLink:h,setBannersArrLink:v,setSelectedProductEdit:f,setImageUrlEditBanner:y,setCurrentProductOpen:D,clearPickedProductsArr:C,setBannersArrProduct:I,setBannersArr:j,setBannersArrCategory:k}=me(),[x,b]=u.useState("");u.useState(new Set);const S=N=>c.some(W=>W.title===N&&W.isBannerActive),w=(N,W)=>{if(o==="byId"&&(r==null||r(N)),n&&W){const T={id:oe(),bannerUrl:m,title:W.title,isProductBanner:!0,isBannerActive:!0,toggleSwitcher:!0};T.title!=null&&!S(T.title)?(I(g.map(A=>A.id===p?T:A)),j(c.map(A=>A.id===p?T:A)),D(!1)):console.warn("Объект с таким brandName уже существует.")}b(N)},O=(N,W)=>{o==="productId"&&(i==null||i(N),w==null||w(N),b(N),C(),W.id&&f(W.id),W.bannerUrl&&y(W.bannerUrl))},B=(N,W,T)=>{if(N.stopPropagation(),T.isBannerActive)a&&(I(t.map(A=>A.id===W?{...A,toggleSwitcher:!A.toggleSwitcher}:A)),j(c.map(A=>A.id===W?{...A,toggleSwitcher:!A.toggleSwitcher}:A))),l&&(k(t.map(A=>A.id===W?{...A,toggleSwitcher:!A.toggleSwitcher}:A)),j(c.map(A=>A.id===W?{...A,toggleSwitcher:!A.toggleSwitcher}:A))),_&&(v(t.map(A=>A.id===W?{...A,toggleSwitcher:!A.toggleSwitcher}:A)),j(c.map(A=>A.id===W?{...A,toggleSwitcher:!A.toggleSwitcher}:A)));else return},q=N=>N.id!==void 0,V=(N,W)=>{N.stopPropagation(),I(t.map(T=>T.id===W.id?{...T,isBannerActive:!1,title:"-"}:T)),j(c.map(T=>T.id===W.id?{...T,isBannerActive:!1,title:"-"}:T))};return e.jsxs("table",{className:F.table,children:[e.jsx("thead",{className:F.table_thead,children:e.jsx("tr",{className:F.table_tr,children:s.map(N=>e.jsx("th",{className:F.table_th,children:N.title},N.id))})}),e.jsx("tbody",{className:F.table_tbody,children:t==null?void 0:t.map(N=>{var W;return e.jsxs("tr",{className:`${F.table_tbody_tr} ${!n&&x==N.id?F.table_tbody_tr_active:""}`,style:{cursor:a||l||_?"pointer":"default"},onClick:()=>O(N.id,N),children:[e.jsxs("td",{className:F.table_td,children:[o==="byId"&&(N==null?void 0:N.title),n?N.title:"",a&&e.jsx("img",{className:F.table_tbody_img,src:N.bannerUrl??"",alt:"Banner"}),l&&e.jsx("img",{className:F.table_tbody_img,src:N.bannerUrl??"",alt:"Banner"}),_&&e.jsx("img",{className:F.table_tbody_img,src:N.bannerUrl??"",alt:"Banner"})]}),e.jsxs("td",{className:F.table_td,children:[l?N.categoryTitle:"",a?N.title:(W=N.nomenclature)==null?void 0:W.price,_&&N.title]}),e.jsx("td",{className:F.table_td,children:a?"":N.crmAmount}),e.jsx("td",{className:F.table_td,children:l?e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:T=>{const A=N;A.id&&B(T,A.id,N)},children:e.jsx(Ze,{width:62,status:q(N)&&N.toggleSwitcher&&N.isBannerActive,disabled:q(N)&&N.isBannerActive})}):a?e.jsxs("div",{className:F.table_td_edit,children:[N.brandName!=="-"&&e.jsx("button",{className:F.table_btn,style:{width:"156px",background:"#FFB5B5"},onClick:T=>V(T,N),children:"Открепить продукт"}),e.jsx("div",{onClick:T=>{const A=N;A.id&&B(T,A.id,N)},children:e.jsx(Ze,{width:62,status:q(N)&&N.toggleSwitcher&&N.isBannerActive,disabled:q(N)&&N.isBannerActive})})]}):_?e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:T=>{const A=N;A.id&&B(T,A.id,N)},children:e.jsx(Ze,{width:62,status:q(N)&&N.toggleSwitcher&&N.isBannerActive,disabled:q(N)&&N.isBannerActive})}):e.jsx("button",{className:F.table_btn,onClick:()=>w(N.id,N),children:n?"Заменить":"Выбрать"})})]},(q(N),N.id))})})]})};function Li({setCancel:s}){return e.jsxs("div",{className:J.modalCategory_nav,children:[e.jsx("h2",{className:J.modalCategory_nav_title,children:"Котегория"}),e.jsx("button",{className:J.modalCategory_nav_close,onClick:s,children:e.jsx(E,{width:24,height:24,name:"XMarkIcon"})})]})}function qi({superCategory:s,category:t,superId:o,setLocalPicked:a,setSuperId:n,setMessageStatus:l,setSubCategories:_,fetchCategories:r,setSuperCategoryObj:i}){const{changeCategoryStyles:c,categoriesArr:p,setCategoriesArr:m,setActiveCategory:g,setActiveCategoryTitle:h}=me(),{setCurrentCategory:v}=be(),[f,y]=u.useState(10),D=(I,j)=>{I.preventDefault(),r("category",1,10,j.id),_([]);const k=t.filter(x=>x.parentId==j.id);if(v(k),a(j),n(j.id),l(!1),c&&j.label&&(g(j.label),h(j.name.ru)),c){const x=p.filter(b=>b.label!==j.label);x.push(j),m(x)}i==null||i(j)},C=()=>{const I=f+10;y(I),r("super",1,I),console.log("addPage",I)};return e.jsxs("div",{className:J.modalCategory_content_block,children:[e.jsx("h2",{className:J.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:J.modalCategory_content_item,children:[s.map(I=>e.jsxs(Q,{to:"#",className:`${J.modalCategory_content_link} ${I.id==o?J.modalCategory_content_link_active:""} `,onClick:j=>D(j,I),children:[I.name.ru,e.jsx(E,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},I.id)),e.jsx(Q,{to:"#",className:J.modalCategory_content_link,onClick:()=>C(),children:"Ещё..."})]})]})}function Wi({superId:s,categoryId:t,category:o,setSubCategory:a,fetchCategories:n}){const[l,_]=u.useState(10),r=()=>{const c=l+10;_(c),n("category",1,c,s),console.log("addPage",c,s)},i=(c,p)=>{a(c,p)};return o.length>0&&e.jsxs("div",{className:J.modalCategory_content_block,children:[e.jsx("h2",{className:J.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:J.modalCategory_content_item,children:[o==null?void 0:o.map(c=>e.jsxs(Q,{to:"#",className:`${J.modalCategory_content_link} ${c.id==t?J.modalCategory_content_link_active:""} `,onClick:p=>i(p,c),children:[c.name.ru,e.jsx(E,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},c.id)),e.jsx(Q,{to:"#",className:J.modalCategory_content_link,onClick:()=>r(),children:"Ещё..."})]})]})}function Ei({subId:s,categoryId:t,subCategories:o,setSubProductsList:a,fetchCategories:n}){const[l,_]=u.useState(10),r=()=>{const i=l+10;_(i),n("subCategory",1,i,t),console.log("addPage",i)};return o.length>0&&e.jsxs("div",{className:J.modalCategory_content_block,children:[e.jsx("h2",{className:J.modalCategory_content_block_title,children:"Подкотегория"}),e.jsxs("div",{className:J.modalCategory_content_item,children:[o==null?void 0:o.map(i=>e.jsxs(Q,{to:"#",className:`${J.modalCategory_content_link} ${i.id==s?J.modalCategory_content_link_active:""} `,onClick:c=>a(c,i),children:[i.name.ru,e.jsx(E,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},i.id)),e.jsx(Q,{to:"#",className:J.modalCategory_content_link,onClick:()=>r(),children:"Ещё..."})]})]})}function Ui({setSettings:s,setCancel:t}){return e.jsxs("div",{className:J.settings_content_buttons,children:[e.jsx("button",{className:`${J.settings_content_btn} ${J.settings_content_btn_cancel}`,onClick:t,children:"Отмена"}),e.jsx("button",{className:`${J.settings_content_btn} ${J.settings_content_btn_save}`,onClick:s,children:"Сохранить"})]})}function Xe({isProduct:s,isCategory:t=!1}){const{setOpenModalCategory:o,setPickedCategory:a,setCurrentCategory:n,setCurrentSubCategory:l}=be(),{changeCategoryStyles:_,categoriesArr:r,pickedProducts:i,setCategoriesArr:c,setPickedProducts:p,setActiveCategory:m,setActiveCategoryTitle:g,setOpenModalCategoryBanner:h}=me(),v=_?F:J;Ke();const[f,y]=u.useState(0),[D,C]=u.useState(0),[I,j]=u.useState(0),[k,x]=u.useState({}),[b,S]=u.useState(!1),[w,O]=u.useState("Выберите категорию"),[B,q]=u.useState([]),[V,N]=u.useState([]),[W,T]=u.useState([]),[A,ye]=u.useState(null),[fe,he]=u.useState(null),[Ce,ke]=u.useState(null);u.useEffect(()=>{console.log("pickedProducts",i)},[i]),u.useEffect(()=>{ee("super",1,10)},[]);const[P]=u.useState(1),[$]=u.useState(10);u.useState([]);const G=(H,X)=>{H.preventDefault(),ee("subCategory",1,10,X.id);const _e=W.filter(ue=>ue.parentId==X.id);if(l(_e),x(X),C(X.id),S(!1),_&&X.label&&(m(X.label),g(X.name.ru)),_){const ue=r.filter(ve=>ve.label!==X.label);ue.push(X),c(ue)}he(X)},Y=(H,X)=>{if(H.preventDefault(),x(X),j(X.id),S(!1),_&&X.label&&(m(X.label),g(X.name.ru)),_){const _e=r.filter(ue=>ue.name.ru!==X.name.ru);_e.push(X),console.log("newCategories",_e),c(_e)}ke(X)};async function ae(H){const X=Ie.get("multi-store");try{const _e=await ce.get(`web-nomenclatures?multiStoreId=${X}&categoryId=${H}&page=${P}&perPage=${$}`);p(_e.data.data)}catch(_e){console.log("error",_e)}}const je=()=>{if(Object.keys(k).length===0){S(!0),O("Выберите Суперкотегорию");return}if(V.length>0&&D===0){S(!0),O("Выберите Категорию");return}if(W.length>0&&I===0){S(!0),O("Выберите Подкотегорию");return}console.log(k),ae(k.id);const H=[];A&&H.push(A),fe&&H.push(fe),Ce&&H.push(Ce),c(H),Se()},Se=()=>{a(k),o(!1),y(0),C(0),j(0),x({}),n([]),l([]),S(!1),O("Выберите категорию"),h(!1)},ee=async(H,X,_e,ue)=>{try{const ve=H=="super"?`https://api.mcrm.uz/api/categories?&page=${X}&perPage=${_e}`:`https://api.mcrm.uz/api/categories?parentId=${ue}&page=${X}&perPage=${_e}`,se=(await Ve.get(ve)).data.data.map(Dt=>({...Dt,label:H==="super"?"Супер категория":H==="category"?"Категория":"Субкатегория"}));H==="super"&&q([...se]),H==="category"&&N([...se]),H==="subCategory"&&T([...se])}catch(ve){console.error(`Ошибка произошла при получении ${H} категорий`,ve)}};return e.jsx("div",{className:v.modalCategory,children:e.jsxs("div",{className:v.modalCategory_block,children:[!_&&e.jsx(Li,{setCancel:Se}),e.jsx("p",{className:v.modalCategory_content_message,children:b?w:""}),e.jsxs("div",{className:v.modalCategory_content,children:[e.jsx(qi,{superId:f,superCategory:B,category:V,setLocalPicked:x,setSuperId:y,setMessageStatus:S,fetchCategories:ee,setSubCategories:T,setSuperCategoryObj:ye}),e.jsx(Wi,{superId:f,categoryId:D,category:V,setSubCategory:G,fetchCategories:ee}),e.jsx(Ei,{subId:I,categoryId:D,subCategories:W,setSubProductsList:Y,fetchCategories:ee}),!t&&e.jsx(Ui,{setSettings:je,setCancel:Se})]})]})})}const Be=({title:s,currentProductEdit:t,isEdit:o,isCategory:a,isLinks:n,linkTextEdit:l,deleteBanner:_,isProduct:r})=>{const{currentProductTable:i,changeCategoryStyles:c,categoriesArr:p,bannersArr:m,linksPageBannerText:g,openLinksPage:h,openProductsPage:v,activeCategory:f,activeCategoryTitle:y,bannersArrProduct:D,bannersArrCategory:C,bannersArrLink:I,setBannersArrLink:j,setCurrentProductOpen:k,clearCategoriesArr:x,addBannerToArr:b,setLinksPageBannerText:S,setBannersArrProduct:w,setBannersArr:O,setBannersArrCategory:B}=me(),[q,V]=u.useState(null),[N,W]=u.useState(null),[T,A]=u.useState(""),ye=P=>{if(P.target.files&&P.target.files[0]){const $=P.target.files[0];console.log("file",$),W($);const G=new FileReader;G.onloadend=()=>{const Y=G.result;V(Y)},G.readAsDataURL($)}},fe=()=>{document.getElementById("upload").click()},he=()=>{if(!N)return;const P=()=>{switch(f){case"Супер категория":return"superCategory";case"Категория":return"bannerCategory";case"Субкатегория":return"subCategory";default:return""}};if(N&&i&&v){const $={id:oe(),bannerUrl:q||"",title:i.title,isProductBanner:!0,isBannerActive:!0,toggleSwitcher:!0};m.some(ae=>ae.title===$.title)||b($),k(!1),V(null),W(null);const Y=document.getElementById("upload");Y&&(Y.value="")}if(c&&h==!1){const $=P(),G={id:oe(),bannerUrl:q||"",categoryLabel:$,categoryTitle:y,isCategoryBanner:!0,isBannerActive:!0,toggleSwitcher:!0};m.some(je=>je.categoryTitle===G.categoryTitle)||b(G),V(null),W(null);const ae=document.getElementById("upload");ae&&(ae.value="")}if(h&&g){const $={id:oe(),bannerUrl:q||"",title:g,isLinkBanner:!0,isBannerActive:!0,toggleSwitcher:!0};m.some(ae=>ae.title===$.title)||(b($),console.log("bannersArr",m)),V(null),W(null),S("");const Y=document.getElementById("upload");Y&&(Y.value="")}},Ce=()=>{q===null?(console.log("bannersArrProduct",D),console.log("bannersArr",m),o&&(a&&(A((()=>{switch(f){case"Супер категория":return"superCategory";case"Категория":return"bannerCategory";case"Субкатегория":return"subCategory";default:return""}})()),B(C.map($=>$.id===(i==null?void 0:i.id)?{...$,categoryTitle:y,activeCategoryEdit:T}:$))),n&&(j(I.map(P=>P.id===(t==null?void 0:t.id)?{...P,title:l}:P)),O(m.map(P=>P.id===(t==null?void 0:t.id)?{...P,title:l}:P))),k(!1))):o&&(r&&(w(D.map(P=>P.id===(t==null?void 0:t.id)?{...P,bannerUrl:q}:P)),O(m.map(P=>P.id===(t==null?void 0:t.id)?{...P,bannerUrl:q}:P))),a&&(B(C.map(P=>P.id===(t==null?void 0:t.id)?{...P,bannerUrl:q,categoryTitle:y}:P)),O(m.map(P=>P.id===(t==null?void 0:t.id)?{...P,bannerUrl:q,categoryTitle:y}:P))),n&&(j(I.map(P=>P.id===(t==null?void 0:t.id)?{...P,bannerUrl:q,title:l}:P)),O(m.map(P=>P.id===(t==null?void 0:t.id)?{...P,bannerUrl:q,title:l}:P))),k(!1))},ke=()=>{_==null||_(t==null?void 0:t.id),k(!1)};return e.jsxs("div",{className:F.add_banner,children:[e.jsx("div",{className:F.add_banner_header,children:e.jsx("h3",{className:F.add_banner_header_title,children:"Баннер"})}),e.jsxs("div",{className:F.add_banner_content,children:[c?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:F.add_banner_content_product,children:[s,":",a&&e.jsxs("span",{children:[" ",t==null?void 0:t.categoryTitle]}),n&&e.jsxs("span",{children:[" ",t==null?void 0:t.title]})]}),p==null?void 0:p.map(P=>e.jsx("span",{className:F.add_banner_content_product,children:P.name.ru},P.name.ru))]}):e.jsx("p",{className:F.add_banner_content_product,children:h?`${s}: ${g}`:`${s}: ${i==null?void 0:i.title}`}),e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},id:"upload",onChange:ye}),e.jsx("label",{htmlFor:"upload",className:F.add_banner_content_link,children:"Загрузить"}),e.jsx("div",{className:F.add_banner_content_info,children:e.jsx("p",{className:F.add_banner_content_info_text,children:"Оптимальный размер картинки 800x800px (прозрачный фон) максимальный размер 10MB"})}),o?e.jsx("div",{className:F.add_banner_content_download,children:e.jsx("img",{src:q||(t==null?void 0:t.bannerUrl),alt:"",style:{width:"555px",height:"229px",objectFit:"cover"}})}):e.jsx("div",{className:F.add_banner_content_download,children:q?e.jsx("img",{src:q,alt:"Uploaded",className:F.add_banner_content_download_image,style:{width:"555px",height:"229px",objectFit:"cover"}}):e.jsxs("a",{className:F.add_banner_content_download_link,onClick:()=>fe(),children:[e.jsx(E,{name:"PhotoIcon",width:72,height:72,color:"#C1C1C1"}),e.jsx("span",{children:"Загрузите баннер"})]})}),o?e.jsxs("div",{className:F.add_banner_content_btns,children:[e.jsx("button",{className:F.add_banner_content_btn,onClick:ke,style:{background:"#FFB5B5"},children:"Удалить"}),e.jsx("button",{className:F.add_banner_content_btn,style:{background:"#01C2EE"},onClick:()=>Ce(),children:"Изменить"})]}):e.jsxs("div",{className:F.add_banner_content_btns,children:[e.jsx("button",{className:F.add_banner_content_btn,onClick:()=>k(!1),children:"Отмена"}),e.jsx("button",{className:F.add_banner_content_btn,onClick:()=>he(),children:"Сохранить"})]})]})]})};function ht({inputText:s,setInputText:t,filteredUsers:o,isProductEdit:a}){const{categoriesArr:n,filteredSubCategory:l,filteredCategory:_,filteredSuperCategory:r,setCurrentProductOpen:i,setChangeCategoryStyles:c,setOpenModalCategoryBanner:p,clearCategoriesArr:m,setFilteredSubCategory:g,setFilteredCategory:h,setFilteredSuperCategory:v}=me(),f=()=>{a&&i(!1),c(!1),p(!0),m()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:F.products_banner_wrap,children:[e.jsx("button",{className:F.products_banner_wrap_btn,onClick:f,children:e.jsx(E,{name:"FunnelIcon",width:20})}),(n==null?void 0:n.length)!==0&&e.jsx("div",{className:F.products_banner_wrap_filter,children:n==null?void 0:n.map(y=>e.jsx("span",{className:F.products_banner_wrap_filter_text,children:y.name.ru},y.id))}),e.jsxs("form",{action:"",className:F.products_banner_form,onSubmit:y=>o==null?void 0:o(y),children:[e.jsxs("div",{className:F.products_banner_form_wrap,children:[e.jsx("input",{type:"text",className:F.products_banner_form_wrap_input,placeholder:"Поиск товаров",value:s,onChange:y=>t==null?void 0:t(y.target.value)}),e.jsx(E,{className:F.products_banner_form_wrap_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:F.products_banner_form_wrap_btn,children:"Найти"})]})]})})}const Ri=[{id:"1",title:"Заголовок"},{id:"2",title:"Цена"},{id:"3",title:"Кол-во"},{id:"4",title:""}],Ti=()=>{const{openModalCategoryBanner:s,currentProductOpen:t,searchTextBanner:o,pickedProducts:a,webProductsArr:n,setCurrentProductTable:l,clearCategoriesArr:_,setSearchTextBanner:r,clearPickedProductsArr:i,setOpenLinksPage:c,setOpenProductsPage:p,setCurrentProductOpen:m,setOpenModalCategoryBanner:g}=me(),[h,v]=u.useState(""),f=j=>{j.preventDefault(),r(h),_()},y=j=>{const k=n.find(x=>x.id===j);k&&(console.log("currentProduct",k),l(k),m(!0))},[D,C]=u.useState([]);u.useEffect(()=>{let j=n;j=j==null?void 0:j.filter(k=>{var x;return(x=k.title)==null?void 0:x.toLowerCase().includes(o.toLowerCase())}),C(j)},[o,n]);const I=o?D:a;return u.useEffect(()=>{h===""&&(r(""),i(),m(!1)),s&&v("")},[h,s]),u.useEffect(()=>{m(!1),c(!1),p(!0),g(!1),_()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:F.products_banner,style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(ht,{inputText:h,setInputText:v,filteredUsers:f}),e.jsx(Ee,{arrToUse:I,arr:Ri,setPickedProduct:y,selectionMode:"byId"})]}),s&&e.jsx(Xe,{isProduct:!0}),t&&e.jsx(Be,{title:"Товар"})]})},zi=()=>{const{categoriesArr:s,setOpenLinksPage:t,setChangeCategoryStyles:o,setOpenProductsPage:a}=me();return u.useEffect(()=>{t(!1),o(!0),a(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:F.category_wrap,children:e.jsx(Xe,{isCategory:!0})}),e.jsx(Be,{title:"Каталог",categories:s})]})},Vi=()=>{const{linksPageBannerText:s,setLinksPageBannerText:t,setOpenLinksPage:o,setChangeCategoryStyles:a,setOpenProductsPage:n}=me();return u.useEffect(()=>{o(!0),a(!1),t(""),n(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:F.add_link,children:[e.jsx("h3",{className:F.add_link_title,children:"Ссылка на станицу"}),e.jsx("input",{className:F.add_link_input,type:"text",value:s,onChange:l=>t(l.target.value)})]}),e.jsx(Be,{title:"Страница"})]})};function Ki(){const{bannerDropdownOptions:s,openBannerDropdown:t,setBannerDropdownOptions:o,setOpenBannerDropdown:a,resetDropdownToDefault:n}=me(),l=()=>{const _=s.find(r=>r.isOpen);if(!_)return null;switch(_.title){case"Продукт":return e.jsx(Ti,{});case"Категория":return e.jsx(zi,{});case"Страница":return e.jsx(Vi,{});default:return null}};return u.useEffect(()=>{n()},[]),e.jsxs("div",{className:F.banner,children:[e.jsx("h3",{className:F.banner_title,children:"Выберите вариант куда прикрепить баннер"}),e.jsx(mt,{openBlock:t,setOpenBlock:a,versionList:s,setVersionList:o}),e.jsx("div",{className:F.banner_content,children:l()})]})}const Hi=[{id:"1",title:"Баннер"},{id:"2",title:"Продукт"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],Xi=()=>{const{pickedProducts:s,currentProductOpen:t,openModalCategoryBanner:o,bannersArr:a,searchTextBanner:n,currentProductTable:l,bannersArrProduct:_,webProductsArr:r,clearPickedProductsArr:i,clearCategoriesArr:c,setCurrentProductOpen:p,setCurrentProductTable:m,setSearchTextBanner:g,setOpenLinksPage:h,setOpenProductsPage:v,setOpenModalCategoryBanner:f,setBannersArrProduct:y,setBannersArr:D}=me(),[C,I]=u.useState(""),[j,k]=u.useState([]),x=O=>{O.preventDefault(),g(C),c()},b=O=>{const B=_.find(q=>q.id===O);B&&(m(B),p(!0))};u.useEffect(()=>{let O=r;O=O==null?void 0:O.filter(B=>{var q;return(q=B.title)==null?void 0:q.toLowerCase().includes(n.toLowerCase())}),k(O)},[n,r]);const S=O=>{y(_.filter(B=>B.id!=O)),D(a.filter(B=>B.id!==O))},w=n?j:s;return u.useEffect(()=>{p(!1),h(!1),v(!0),f(!1),c()},[p,h,v,f,c]),u.useEffect(()=>{C===""&&(g(""),i())},[C]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(Ee,{arrToUse:_,arr:Hi,setPickedProductActive:b,selectionMode:"productId",isActive:!0}),t&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(ht,{filteredUsers:x,setInputText:I}),e.jsx(Ee,{arrToUse:w,isEdit:!0,selectionMode:"mxikCode"}),e.jsx(Be,{title:"Продукт",currentProductEdit:l,isEdit:!0,isProduct:!0,deleteBanner:S})]})]}),o&&e.jsx(Xe,{})]})},Gi=[{id:"1",title:"Баннер"},{id:"2",title:"Каталог"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],Zi=()=>{const{bannersArr:s,bannersArrCategory:t,currentProductTable:o,currentProductOpen:a,setCurrentProductOpen:n,setBannersArr:l,setCurrentProductTable:_,setBannersArrCategory:r}=me(),i=p=>{const m=t.find(g=>g.id===p);m&&(_(m),n(!0),console.log("currentProductTable",o))},c=p=>{r(t.filter(m=>m.id!=p)),l(s.filter(m=>m.id!==p))};return u.useEffect(()=>{n(!1)},[]),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(Ee,{arr:Gi,arrToUse:t,selectionMode:"productId",isCategory:!0,setPickedProductActive:i}),a&&e.jsx(Xe,{isCategory:!0}),a&&e.jsx(Be,{title:"Каталог",currentProductEdit:o,isEdit:!0,isCategory:!0,deleteBanner:c})]})},Ji=({setLinkText:s,currentProductEdit:t})=>{me();const[o,a]=u.useState(t.brandName||""),n=l=>{a(l),s(l)};return u.useEffect(()=>{a(t.brandName||"")},[t.brandName]),e.jsxs("div",{children:[e.jsx("p",{className:F.add_link_title,children:"Ссылка на страницу"}),e.jsx("input",{className:F.add_link_input,type:"text",onChange:l=>n(l.target.value),value:o})]})},Qi=[{id:"1",title:"Баннер"},{id:"2",title:"Страницы"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],Yi=()=>{const{bannersArr:s,bannersArrLink:t,currentProductOpen:o,currentProductTable:a,setBannersArr:n,setBannersArrLink:l,setCurrentProductTable:_,setCurrentProductOpen:r}=me(),[i,c]=u.useState(""),p=g=>{const h=t.find(v=>v.id===g);h&&(_(h),console.log("currentProductTable",a),r(!0))},m=g=>{l(t.filter(h=>h.id!=g)),n(s.filter(h=>h.id!==g))};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(Ee,{arr:Qi,arrToUse:t,selectionMode:"productId",setPickedProductActive:p,isLinks:!0}),o&&e.jsxs(e.Fragment,{children:[e.jsx(Ji,{setLinkText:c,currentProductEdit:a}),e.jsx(Be,{title:"Страница",currentProductEdit:a,deleteBanner:m,isLinks:!0,isEdit:!0,linkTextEdit:i})]})]})};function ec(){const{bannerDropdownOptions:s,openBannerDropdown:t,bannersArr:o,bannersArrProduct:a,bannersArrCategory:n,bannersArrLink:l,setBannerDropdownOptions:_,setOpenBannerDropdown:r,resetDropdownToDefault:i,setBannersArrProduct:c,setBannersArrCategory:p,setBannersArrLink:m}=me();u.useEffect(()=>{c(o.filter(h=>h.isProductBanner===!0)),p(o.filter(h=>h.isCategoryBanner===!0)),m(o.filter(h=>h.isLinkBanner===!0))},[]);const g=()=>{const h=s.find(v=>v.isOpen);if(!h)return null;switch(h.title){case"Продукт":return e.jsx(Xi,{});case"Категория":return e.jsx(Zi,{});case"Страница":return e.jsx(Yi,{});default:return null}};return u.useEffect(()=>{i()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h3",{className:F.banner_title,children:"Выберите вариант редактирования баннера"}),e.jsx(mt,{openBlock:t,setOpenBlock:r,versionList:s,setVersionList:_})]}),e.jsx("div",{className:F.banner_content,children:g()})]})}const tc=[{id:1,title:"Новый",href:"/admin/settings/banner"},{id:2,title:"Активные",href:"/admin/settings/banner/activeBanner"}];function sc(){const[s]=u.useState(1),[t]=u.useState(10),a=ie().pathname,{setCurrentProductOpen:n,setWebProductsArr:l}=me();u.useEffect(()=>{n(!1)},[]);async function _(){const r=Ie.get("multi-store");try{const i=await ce.get(`web-nomenclatures?multiStoreId=${r}&page=${s}&perPage=${t}`);l(i.data.data)}catch(i){console.log("error",i)}}return u.useEffect(()=>{_()},[]),e.jsx("div",{className:d.banner,children:e.jsxs("div",{className:d.banner_nav,children:[e.jsx("ul",{className:d.banner_nav_list,children:tc.map(r=>e.jsx("li",{children:e.jsx(Q,{to:r.href,className:`${d.banner_nav_link} ${r.href==a?d.banner_nav_link_active:""}`,children:r.title})},r.id))}),a.startsWith("/admin/settings/banner")&&e.jsxs("div",{className:d.settings_content_base,children:[a=="/admin/settings/banner"&&e.jsx(Ki,{}),a=="/admin/settings/banner/activeBanner"&&e.jsx(ec,{})]})]})})}const oc="_contacts_mxkpi_1",nc="_contacts_content_mxkpi_4",ac="_contacts_nav_mxkpi_7",rc="_contacts_nav_list_mxkpi_10",ic="_contacts_nav_link_mxkpi_15",cc="_contacts_nav_link_active_mxkpi_30",lc="_contacts_btn_mxkpi_34",_c="_socials_mxkpi_55",dc="_socials_title_mxkpi_60",pc="_socials_content_mxkpi_65",uc="_socials_content_wrap_mxkpi_70",mc="_socials_content_wrap_input_mxkpi_75",hc="_aboutUs_mxkpi_84",gc="_aboutUs_add_image_mxkpi_87",vc="_aboutUs_content_mxkpi_90",bc="_aboutUs_image_wrap_mxkpi_95",xc="_aboutUs_download_mxkpi_104",fc="_aboutUs_text_mxkpi_112",kc="_aboutUs_inputs_mxkpi_120",yc="_aboutUs_inputs_wrap_mxkpi_126",jc="_aboutUs_inputs_wrap_title_mxkpi_130",wc="_aboutUs_inputs_wrap_input_mxkpi_136",Cc="_aboutUs_inputs_wrap_textarea_mxkpi_144",Sc="_aboutUs_btn_mxkpi_152",Nc="_aboutUs_week_info_mxkpi_172",Ic="_aboutUs_week_info_text_mxkpi_178",$c="_aboutUs_week_content_mxkpi_183",Pc="_aboutUs_week_wrap_mxkpi_189",Dc="_aboutUs_week_wrap_colored_mxkpi_193",Oc="_aboutUs_week_wrap_colored_active_mxkpi_203",Fc="_aboutUs_week_wrap_colored_last_mxkpi_206",Ac="_aboutUs_week_wrap_day_mxkpi_209",Mc="_aboutUs_week_wrap_schedule_mxkpi_215",Bc="_aboutUs_week_wrap_input_mxkpi_221",Lc="_custom_checkbox_mxkpi_241",qc="_custom_checkbox_input_mxkpi_247",Wc="_custom_checkbox_box_mxkpi_252",Ec="_custom_checkbox_box_icon_mxkpi_261",U={contacts:oc,contacts_content:nc,contacts_nav:ac,contacts_nav_list:rc,contacts_nav_link:ic,contacts_nav_link_active:cc,contacts_btn:lc,socials:_c,socials_title:dc,socials_content:pc,socials_content_wrap:uc,socials_content_wrap_input:mc,aboutUs:hc,aboutUs_add_image:gc,aboutUs_content:vc,aboutUs_image_wrap:bc,aboutUs_download:xc,aboutUs_text:fc,aboutUs_inputs:kc,aboutUs_inputs_wrap:yc,aboutUs_inputs_wrap_title:jc,aboutUs_inputs_wrap_input:wc,aboutUs_inputs_wrap_textarea:Cc,aboutUs_btn:Sc,aboutUs_week_info:Nc,aboutUs_week_info_text:Ic,aboutUs_week_content:$c,aboutUs_week_wrap:Pc,aboutUs_week_wrap_colored:Dc,aboutUs_week_wrap_colored_active:Oc,aboutUs_week_wrap_colored_last:Fc,aboutUs_week_wrap_day:Ac,aboutUs_week_wrap_schedule:Mc,aboutUs_week_wrap_input:Bc,custom_checkbox:Lc,custom_checkbox_input:qc,custom_checkbox_box:Wc,custom_checkbox_box_icon:Ec},Uc=({temporaryImageUrl:s,setTemporaryImageUrl:t})=>{Je();const[o,a]=u.useState(null),[n,l]=u.useState(null);u.useEffect(()=>{const i=localStorage.getItem("savedLogoImageUrl");i&&(a(i),t(i))},[t]);const _=i=>{if(i.target.files&&i.target.files[0]){const c=i.target.files[0];l(c);const p=new FileReader;p.onloadend=()=>{const m=p.result;a(m),t(m),localStorage.setItem("savedLogoImageUrl",m)},p.readAsDataURL(c)}},r=()=>{document.getElementById("upload").click()};return e.jsxs("div",{className:U.aboutUs_add_image,children:[e.jsx("div",{className:U.aboutUs_image_wrap,children:o||s?e.jsx("img",{src:s||o,alt:"Uploaded",style:{width:"60px",height:"60px",objectFit:"contain"}}):e.jsx("a",{style:{cursor:"pointer"},onClick:()=>r(),children:e.jsx(E,{name:"PhotoIcon",width:33,height:33,color:"#C1C1C1"})})}),e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},id:"upload",onChange:_}),e.jsx("label",{htmlFor:"upload",className:U.aboutUs_download,children:"Загрузить"}),e.jsx("p",{className:U.aboutUs_text,children:"Оптимальный размер картинки 500x500px (прозрачный фон) максимальный размер 10MB"})]})};function Oe(){return Oe=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},Oe.apply(this,arguments)}const gt=(s,t)=>{const o={};for(const a in s)t.indexOf(a)===-1&&(o[a]=s[a]);return o},vt=re.createContext(null),Ge=re.createContext(null),Rc=s=>t=>re.createElement(Ge.Consumer,null,o=>re.createElement(s,Oe({parent:o},t))),Tc=(s=[])=>{const[t,o]=u.useState(!1),a=u.useRef(s),n=(()=>{const _=u.useContext(vt);if(_===null)throw new Error("Couldn't find Yandex.Maps API in the context. Make sure that hook useYMaps is inside <YMaps /> provider");return _})(),l=n.getApi();return u.useEffect(()=>{n.load().then(()=>Promise.all(a.current.map(n.loadModule))).then(()=>o(!0))},[]),t&&l?l:null},zc=()=>{},Vc=["onLoad","onError","modules","apiLoader"];function bt(s,t=!1,o=[]){return a=>{const{width:n,height:l,modules:_=[],onLoad:r=zc}=a,i=Tc(o.concat(_)),c=!t||!!i,p=gt(a,Vc);return u.useEffect(()=>i?r(i):void 0,[i]),c?re.createElement(s,Oe({ymaps:i},p)):re.createElement("div",{style:{width:n,height:l}})}}const Kc=typeof window<"u",nt={lang:"ru_RU",load:"",ns:"",mode:"release"},Hc=s=>{const{version:t="2.1",enterprise:o=!1,query:a={lang:"ru_RU",load:"",ns:""},preload:n=!1,children:l}=s,_=u.useRef((r=>{const{query:i=nt}=r,c=Date.now().toString(32),p=i.ns||"",m="__yandex-maps-api-onload__$$"+c,g="__yandex-maps-api-onerror__$$"+c,h=Kc?window:{},v={};let f;const y=()=>p?h[p]:f,D=()=>{delete h[m],delete h[g]};return{load:()=>{if(y())return Promise.resolve(f);if(v[p])return v[p];const C={onload:m,onerror:g,...nt,...i},I=Object.keys(C).map(k=>`${k}=${C[k]}`).join("&"),j=[`https://${r.enterprise?"enterprise.":""}api-maps.yandex.ru`,r.version,"?"+I].join("/");return v[p]=new Promise((k,x)=>{h[m]=b=>{D(),b.ready(()=>{f=b,k(b)})},h[g]=b=>{D(),x(b)},(b=>new Promise((S,w)=>{const O=document.createElement("script");O.type="text/javascript",O.onload=S,O.onerror=w,O.src=b,O.async=!0,document.head.appendChild(O)}))(j).catch(h[g])}),v[p]},getApi:y,loadModule:C=>new Promise((I,j)=>{f.modules.require(C).done(k=>{k.forEach(x=>{((b,S,w,O=!1)=>{const B=typeof S=="string"?S.split("."):S.slice();let q,V=b;for(;B.length>1;)q=B.shift(),V[q]||(V[q]={}),V=V[q];const N=B[0];V[N]=O===!0&&V[N]||w})(f,C,x,!0)}),I(f)},j)})}})({version:t,enterprise:o,query:a,preload:n}));return u.useEffect(()=>{n&&_.current.load()},[_.current]),re.createElement(vt.Provider,{value:_.current},l)},at=/^on(?=[A-Z])/;function te(s){return Object.keys(s).reduce((t,o)=>{if(at.test(o)){const a=o.replace(at,"").toLowerCase();t._events[a]=s[o]}else t[o]=s[o];return t},{_events:{}})}function Ae(s,t,o){typeof o=="function"&&s.events.add(t,o)}function Me(s,t,o){typeof o=="function"&&s.events.remove(t,o)}function Le(s,t,o){Object.keys(Object.assign({},t,o)).forEach(a=>{t[a]!==o[a]&&(Me(s,a,t[a]),Ae(s,a,o[a]))})}const xt=s=>"default"+s.charAt(0).toUpperCase()+s.slice(1);function de(s,t){return s[t]!==void 0||s[xt(t)]===void 0}function M(s,t,o){return(de(s,t)?s[t]:s[xt(t)])||o}function pe(s,t,o=null){if(s!==t){if(s&&("current"in s?s.current=null:typeof s=="function"&&s(null)),!t)return;"current"in t?t.current=o:typeof t=="function"&&t(o)}}function ft(s){const{width:t,height:o,style:a,className:n}=s;return a!==void 0||n!==void 0?Object.assign({},a&&{style:a},n&&{className:n}):{style:{width:t,height:o}}}class Xc extends re.Component{constructor(t){super(t),this.state={error:null,errorInfo:null}}componentDidCatch(t,o){const{onError:a=()=>{}}=this.props;a(t),this.setState({error:t,errorInfo:o})}render(){return this.state.error?null:this.props.children}}const kt=s=>({onError:t,...o})=>re.createElement(Xc,{onError:t},re.createElement(s,o));class qe extends re.Component{constructor(){super(),this.instance=null,this.state={instance:null},this._parentElement=null,this._getRef=t=>{this._parentElement=t}}componentDidMount(){this.instance=qe.mountObject(this._parentElement,this.props.ymaps.Map,this.props),this.setState({instance:this.instance})}componentDidUpdate(t){this.instance!==null&&qe.updateObject(this.instance,t,this.props)}componentWillUnmount(){qe.unmountObject(this.instance,this.props)}render(){const t=ft(this.props),o=te(this.props),a=gt(o,["_events","state","defaultState","options","defaultOptions","instanceRef","ymaps","children","width","height","style","className"]);return re.createElement(Ge.Provider,{value:this.state.instance},re.createElement("div",Oe({ref:this._getRef},t,a),this.props.children))}static mountObject(t,o,a){const{instanceRef:n,_events:l}=te(a),_=new o(t,M(a,"state"),M(a,"options"));return Object.keys(l).forEach(r=>Ae(_,r,l[r])),pe(null,n,_),_}static updateObject(t,o,a){const{_events:n,instanceRef:l}=te(a),{_events:_,instanceRef:r}=te(o);if(de(a,"state")){const i=M(o,"state",{}),c=M(a,"state",{});i.type!==c.type&&t.setType(c.type),i.behaviors!==c.behaviors&&(i.behaviors&&t.behaviors.disable(i.behaviors),c.behaviors&&t.behaviors.enable(c.behaviors)),c.zoom&&i.zoom!==c.zoom&&t.setZoom(c.zoom),c.center&&i.center!==c.center&&t.setCenter(c.center),c.bounds&&i.bounds!==c.bounds&&t.setBounds(c.bounds)}if(de(a,"options")){const i=M(o,"options"),c=M(a,"options",{});i!==c&&t.options.set(c)}M(o,"width")===M(a,"width")&&M(o,"height")===M(a,"height")||t.container.fitToViewport(),Le(t,_,n),pe(r,l,t)}static unmountObject(t,o){const{instanceRef:a,_events:n}=te(o);t!==null&&(Object.keys(n).forEach(l=>Me(t,l,n[l])),t.destroy(),pe(a))}}const yt=kt(bt(qe,!0,["Map"]));yt.defaultProps={width:320,height:240};class Ue extends re.Component{constructor(){super(),this.state={instance:null},this._parentElement=null,this._getRef=t=>{this._parentElement=t}}componentDidMount(){this._mounted=!0,this.props.ymaps.panorama.isSupported()&&Ue.mountObject(this._parentElement,this.props.ymaps.panorama,this.props).then(t=>this._mounted&&this.setState({instance:t}))}componentDidUpdate(t){this.state.instance!==null&&Ue.updateObject(this.state.instance,t,this.props)}componentWillUnmount(){this._mounted=!1,Ue.unmountObject(this.state.instance,this.props)}render(){const t=ft(this.props);return re.createElement("div",Oe({ref:this._getRef},t))}static mountObject(t,o,a){const{instanceRef:n,_events:l}=te(a),_=M(a,"point"),r=M(a,"locateOptions"),i=M(a,"options");return new Promise((c,p)=>{o.locate(_,r).done(m=>{if(m.length>0){const g=new o.Player(t,m[0],i);pe(null,n,g),Object.keys(l).forEach(h=>Ae(g,h,l[h])),c(g)}},p)})}static updateObject(t,o,a){const{_events:n,instanceRef:l}=te(a),{_events:_,instanceRef:r}=te(o);if(de(a,"options")){const i=M(o,"options"),c=M(a,"options");i!==c&&t.options.set(c)}if(de(a,"point")){const i=M(a,"point"),c=M(o,"point"),p=M(a,"locateOptions");i!==c&&t.moveTo(i,p)}Le(t,_,n),pe(r,l,t)}static unmountObject(t,o){const{instanceRef:a,_events:n}=te(o);t!==null&&(Object.keys(n).forEach(l=>Me(t,l,n[l])),pe(a))}}class We extends re.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const t=We.mountControl(this.props.ymaps.control[this.props.name],this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.instance!==null&&We.updateControl(this.instance,t,this.props)}componentWillUnmount(){We.unmountControl(this.instance,this.props)}render(){return re.createElement(Ge.Provider,{value:this.state.instance},this.props.children)}static mountControl(t,o){const{instanceRef:a,parent:n,lazy:l,_events:_}=te(o),r=new t({data:M(o,"data"),options:M(o,"options"),state:M(o,"state"),mapTypes:M(o,"mapTypes"),lazy:l});if(Object.keys(_).forEach(i=>Ae(r,i,_[i])),n&&n.controls&&typeof n.controls.add=="function")n.controls.add(r);else{if(!n||!n.add||typeof n.add!="function")throw new Error(`No parent found to mount ${o.name}`);n.add(r)}return pe(null,a,r),r}static updateControl(t,o,a){const{_events:n,instanceRef:l}=te(a),{_events:_,instanceRef:r}=te(o);if(de(a,"options")){const i=M(o,"options"),c=M(a,"options");i!==c&&t.options.set(c)}if(de(a,"data")){const i=M(o,"data"),c=M(a,"data");i!==c&&t.data.set(c)}if(de(a,"state")){const i=M(o,"state"),c=M(a,"state");i!==c&&t.state.set(c)}if(de(a,"mapTypes")){const i=M(o,"mapTypes"),c=M(a,"mapTypes");i!==c&&(t.removeAllMapTypes(),c.forEach(p=>t.addMapType(p)))}Le(t,_,n),pe(r,l,t)}static unmountControl(t,o){const{instanceRef:a,parent:n,_events:l}=te(o);t!==null&&(Object.keys(l).forEach(_=>Me(t,_,l[_])),n.controls&&typeof n.controls.remove=="function"?n.controls.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),pe(a))}}var Gc=kt(Rc(bt(s=>re.createElement(We,Oe({},s,{name:"ZoomControl"})),!0,["control.ZoomControl"])));class Re extends re.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const t=Re.mountObject(this.props.ymaps.Clusterer,this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.state.instance!==null&&Re.updateObject(this.instance,t,this.props)}componentWillUnmount(){Re.unmountObject(this.instance,this.props)}render(){return re.createElement(Ge.Provider,{value:this.state.instance},this.props.children)}static mountObject(t,o){const{instanceRef:a,parent:n,_events:l}=te(o),_=new t(M(o,"options"));if(Object.keys(l).forEach(r=>Ae(_,r,l[r])),n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(_);else{if(!n.add||typeof n.add!="function")throw new Error("No parent found to mount Clusterer");n.add(_)}return pe(null,a,_),_}static updateObject(t,o,a){const{_events:n,instanceRef:l}=te(a),{_events:_,instanceRef:r}=te(o);if(de(a,"options")){const i=M(o,"options"),c=M(a,"options");i!==c&&t.options.set(c)}Le(t,_,n),pe(r,l,t)}static unmountObject(t,o){const{instanceRef:a,parent:n,_events:l}=te(o);t!==null&&(Object.keys(l).forEach(_=>Me(t,_,l[_])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),pe(a))}}class Te extends re.Component{constructor(){super(),this.state={instance:null}}componentDidMount(){const t=Te.mountObject(this.props.ymaps.ObjectManager,this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.instance!==null&&Te.updateObject(this.instance,t,this.props)}componentWillUnmount(){Te.unmountObject(this.instance,this.props)}render(){return null}static mountObject(t,o){const{instanceRef:a,parent:n,_events:l}=te(o),_=M(o,"options",{}),r=M(o,"features",{}),i=M(o,"filter",null),c=M(o,"objects",{}),p=M(o,"clusters",{}),m=new t(_);if(m.add(r||[]),m.setFilter(i),m.objects.options.set(c),m.clusters.options.set(p),Object.keys(l).forEach(g=>Ae(m,g,l[g])),n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(m);else{if(!n.add||typeof n.add!="function")throw new Error("No parent found to mount ObjectManager");n.add(m)}return pe(null,a,m),m}static updateObject(t,o,a){const{_events:n,instanceRef:l}=te(a),{_events:_,instanceRef:r}=te(o);if(de(a,"options")){const i=M(o,"options"),c=M(a,"options");i!==c&&t.options.set(c)}if(de(a,"objects")){const i=M(o,"objects"),c=M(a,"objects");i!==c&&t.objects.options.set(c)}if(de(a,"clusters")){const i=M(o,"clusters"),c=M(a,"clusters");i!==c&&t.clusters.options.set(c)}if(de(a,"filter")){const i=M(o,"filter"),c=M(a,"filter");i!==c&&t.setFilter(c)}if(de(a,"features")){const i=M(o,"features"),c=M(a,"features");i!==c&&(t.remove(i),t.add(c))}Le(t,_,n),pe(r,l,t)}static unmountObject(t,o){const{instanceRef:a,parent:n,_events:l}=te(o);t!==null&&(Object.keys(l).forEach(_=>Me(t,_,l[_])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),pe(a))}}class ze extends re.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const{name:t,ymaps:o,dangerZone:a}=this.props,n=ze.mountObject(a&&typeof a.modifyConstructor=="function"?a.modifyConstructor(o[t]):o[t],this.props);this.instance=n,this.setState({instance:n})}componentDidUpdate(t){this.instance!==null&&ze.updateObject(this.instance,t,this.props)}componentWillUnmount(){ze.unmountObject(this.instance,this.props)}render(){return null}static mountObject(t,o){const{instanceRef:a,parent:n,_events:l}=te(o),_=new t(M(o,"geometry"),M(o,"properties"),M(o,"options"));if(Object.keys(l).forEach(r=>Ae(_,r,l[r])),n&&n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(_);else{if(!n||!n.add||typeof n.add!="function")throw new Error(`No parent found to mount ${o.name}`);n.add(_)}return pe(null,a,_),_}static updateObject(t,o,a){const{_events:n,instanceRef:l}=te(a),{_events:_,instanceRef:r}=te(o);if(de(a,"geometry")){const i=M(o,"geometry",{}),c=M(a,"geometry",{});Array.isArray(c)&&c!==i?Array.isArray(c[0])&&typeof c[1]=="number"?(t.geometry.setCoordinates(c[0]),t.geometry.setRadius(c[1])):t.geometry.setCoordinates(c):typeof c=="object"&&(c.coordinates!==i.coordinates&&t.geometry.setCoordinates(c.coordinates),c.radius!==i.radius&&t.geometry.setRadius(c.radius))}if(de(a,"properties")){const i=M(o,"properties"),c=M(a,"properties");i!==c&&t.properties.set(c)}if(de(a,"options")){const i=M(o,"options"),c=M(a,"options");i!==c&&t.options.set(c)}Le(t,_,n),pe(r,l,t)}static unmountObject(t,o){const{instanceRef:a,parent:n,_events:l}=te(o);t!==null&&(Object.keys(l).forEach(_=>Me(t,_,l[_])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),pe(a))}}const Zc=()=>{const s=u.useRef(null);return e.jsx(Hc,{children:e.jsx("div",{children:e.jsx(yt,{defaultState:{center:[41.32,69.27],zoom:12,controls:[]},width:500,instanceRef:t=>{s.current=t,t&&t.behaviors.disable("scrollZoom")},children:e.jsx(Gc,{options:{position:{bottom:20,right:20}}})})})})},Jc=({temporarySocialPlatforms:s,setTemporarySocialPlatforms:t})=>{const o=(a,n)=>{t(l=>l.map(_=>_.id===n?{..._,text:a}:_))};return e.jsxs("div",{className:U.aboutUs_inputs,children:[s.map(a=>e.jsx("div",{className:U.aboutUs_inputs_wrap,children:a.type=="isTextarea"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:U.aboutUs_inputs_wrap_title,children:a.title}),e.jsx("textarea",{className:U.aboutUs_inputs_wrap_textarea,onChange:n=>o(n.target.value,a.id),value:a.text})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:U.aboutUs_inputs_wrap_title,children:a.title}),e.jsx("input",{className:U.aboutUs_inputs_wrap_input,type:a.type==="isPhone"?"number":a.type==="isEmail"?"email":"text",onChange:n=>o(n.target.value,a.id),value:a.text})]})},a.id)),e.jsx(Zc,{})]})},Qc=({id:s,checked:t,onChange:o})=>{const a=n=>{o(s,n.target.checked)};return e.jsxs("label",{className:U.custom_checkbox,children:[e.jsx("input",{className:U.custom_checkbox_input,type:"checkbox",checked:t,onChange:a}),e.jsx("span",{className:U.custom_checkbox_box,children:e.jsx(E,{name:"CheckIcon",width:18,height:18,className:U.custom_checkbox_box_icon})})]})},Yc=({temporaryContactsSchedule:s,setTemporaryContactsSchedule:t})=>{const o=r=>{const i=r.replace(/\D/g,"");return i.length<=2?i:`${i.slice(0,2)}:${i.slice(2,4)}`},a=(r,i,c,p)=>{if(!p.isActive)return;const m=o(c);t(g=>g.map(h=>h.id===r?{...h,workHours:{...h.workHours,[i]:m}}:h))},n=(r,i)=>{t(c=>c.map(p=>p.id===r?{...p,isActive:i,workHours:i?p.workHours:{start:"",end:""}}:p))},l=u.useRef({}),_=u.useRef({});return u.useEffect(()=>{s.forEach(r=>{var i;r.isActive&&l.current[r.id]&&!_.current[r.id]&&((i=l.current[r.id])==null||i.focus(),_.current[r.id]=!0)})},[s]),e.jsxs("div",{className:U.aboutUs_week,children:[e.jsxs("div",{className:U.aboutUs_week_info,children:[e.jsx("span",{className:U.aboutUs_week_info_text,children:"Рабочие дни:"}),e.jsx("span",{className:U.aboutUs_week_info_text,children:"Рабочие время:"})]}),e.jsx("div",{className:U.aboutUs_week_content,children:s.map((r,i)=>{const c=i===s.length-1,p=c&&r.isActive?U.aboutUs_week_wrap_colored_active:"";return e.jsxs("div",{className:U.aboutUs_week_wrap,children:[e.jsxs("div",{className:`
                  ${U.aboutUs_week_wrap_colored} 
                  ${r.isActive?U.aboutUs_week_wrap_colored_active:""} 
                  ${c?U.aboutUs_week_wrap_colored_last:""} 
                  ${p}
                `,children:[e.jsx("span",{className:U.aboutUs_week_wrap_day,children:r.day}),e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{className:U.aboutUs_week_wrap_schedule,children:"c:"}),e.jsx("input",{ref:m=>l.current[r.id]=m,className:U.aboutUs_week_wrap_input,type:"text",placeholder:"00:00",onChange:m=>a(r.id,"start",m.target.value,r),value:r.workHours.start}),e.jsx("span",{className:U.aboutUs_week_wrap_schedule,children:"до:"}),e.jsx("input",{className:U.aboutUs_week_wrap_input,type:"text",placeholder:"00:00",onChange:m=>a(r.id,"end",m.target.value,r),value:r.workHours.end})]})]}),e.jsx(Qc,{id:r.id,checked:r.isActive,onChange:n})]},r.id)})})]})},el=()=>{const{contactsFormInputsArr:s,setContactsFormInputsArr:t,contactsSchedule:o,setContactsSchedule:a,setImageUrlLogo:n}=Je(),[l,_]=u.useState(s),[r,i]=u.useState(""),[c,p]=u.useState(o),m=()=>{t(l),n(r);const g=c.map(h=>h.workHours&&h.workHours.start===""&&h.workHours.end===""?{...h,isActive:!1}:h);a(g)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:U.aboutUs,children:[e.jsx(Uc,{temporaryImageUrl:r,setTemporaryImageUrl:i}),e.jsxs("div",{className:U.aboutUs_content,children:[e.jsx(Jc,{temporarySocialPlatforms:l,setTemporarySocialPlatforms:_}),e.jsx(Yc,{temporaryContactsSchedule:c,setTemporaryContactsSchedule:p})]})]}),e.jsx("button",{className:U.aboutUs_btn,onClick:m,children:"Сохранить"})]})};function tl({width:s=78,color:t="white",backgroundOn:o="rgba(137, 250, 135, 1)",backgroundOff:a="rgba(193, 193, 193, 1)",speed:n=500,scale:l=1.1,status:_=!1,disabled:r=!1}){const i={width:`${s}px`,height:`${s/2-s/20}px`,background:_?o:a,borderRadius:`${s/2}px`,display:"flex",alignItems:"center",transition:`${n}ms`,cursor:"pointer"},c={background:`${t}`,height:`${s/2-s/20}px`,width:`${s/2-s/20}px`,border:`${s/25}px solid ${_?o:a}`,borderRadius:"50%",transition:`${n}ms`,transform:`scale(${l}) translateX(${_?"110%":"0"})`};return e.jsx("div",{style:i,children:e.jsx("div",{style:c})})}const sl=({temporarySocialPlatforms:s,setTemporarySocialPlatforms:t})=>{const o=(n,l)=>{t(_=>_.map(r=>r.id===n?{...r,url:l,isActive:l===""?!1:r.isActive}:r))},a=(n,l)=>{n.url!==""&&t(_=>_.map(r=>r.id===l?{...r,isActive:!r.isActive,url:n.isActive?"":n.url}:r))};return e.jsx(e.Fragment,{children:s.map(n=>e.jsxs("div",{className:U.socials_content_wrap,children:[e.jsx("img",{src:n.icon,alt:n.alt}),e.jsx("input",{type:"text",className:U.socials_content_wrap_input,value:n.url||"",onChange:l=>o(n.id,l.target.value)}),e.jsx("div",{onClick:()=>a(n,n.id),children:e.jsx(tl,{status:n.isActive})})]},n.id))})},ol=()=>{const{socialPlatforms:s,setSocialPlatforms:t,setActiveSocials:o}=Je(),[a,n]=u.useState(s);async function l(){const r=Ie.get("multi-store"),i=await ce.get(`web-credentials/${r}`);if(i){const c=Object.entries(i.data.social).filter(([m,g])=>g.isActive).map(([m,g])=>({name:m,...g})),p=s.filter(m=>c.some(g=>g.name===m.name)).map(m=>{const g=c.find(h=>h.name===m.name);return{...m,...g,isActive:!0}});o(p)}}async function _(){t(a);const r=Ie.get("multi-store"),i=a.reduce((c,p)=>(c[p.name]={url:p.url,isActive:p.isActive},c),{});try{const c=await ce.patch(`web-credentials/${r}`,{social:i});l()}catch(c){console.log("error",c)}}return e.jsxs("div",{className:U.socials,children:[e.jsx("h3",{className:U.socials_title,children:"Соц-сети"}),e.jsx("div",{className:U.socials_content,children:e.jsx(sl,{temporarySocialPlatforms:a,setTemporarySocialPlatforms:n})}),e.jsx("button",{className:U.contacts_btn,onClick:_,children:"Сохранить"})]})},nl=[{id:oe(),title:"Соц-сети",href:"/admin/settings/contacts"},{id:oe(),title:"О нас",href:"/admin/settings/contacts/aboutUs"}];function al(){const t=ie().pathname;return e.jsx("div",{className:U.contacts,children:e.jsxs("div",{className:U.contacts_content,children:[e.jsx("div",{className:U.contacts_nav,children:e.jsx("ul",{className:U.contacts_nav_list,children:nl.map(o=>e.jsx(Q,{to:o.href,className:`${U.contacts_nav_link} ${o.href==t?U.contacts_nav_link_active:""}`,children:o.title},o.id))})}),t==="/admin/settings/contacts"&&e.jsx(ol,{}),t==="/admin/settings/contacts/aboutUs"&&e.jsx(el,{})]})})}const rl="_radioLabel_1w8t1_1",il="_radioLabel_selected_1w8t1_7",cl="_radioLabel_radio_1w8t1_7",ll="_radioLabel_input_1w8t1_15",_l="_radioLabel_text_1w8t1_28",dl="_storeBtn_1w8t1_34",pl="_storeBtn_active_1w8t1_48",ul="_deliveryInput_text_1w8t1_53",ml="_deliveryInput_wrap_1w8t1_58",hl="_deliveryInput_wrap_input_1w8t1_66",gl="_version3_1w8t1_74",vl="_version3_title_1w8t1_79",bl="_version3_block_1w8t1_85",xl="_version3_block_top_1w8t1_90",fl="_version3_block_top_title_1w8t1_102",kl="_version3_block_top_arrow_1w8t1_106",yl="_version3_block_top_arrow_active_1w8t1_119",jl="_version3_block_dropdown_1w8t1_122",wl="_version3_block_dropdown_item_1w8t1_133",Cl="_version3_block_dropdown_open_1w8t1_149",Sl="_version3_block_onOff_1w8t1_173",Nl="_version3_block_delivery_1w8t1_173",Il="_version3_pickedWrap_1w8t1_178",$l="_version3_pickedWrap_item_1w8t1_189",Pl="_kilometerPricing_1w8t1_205",Dl="_kilometerPricing_wrap_1w8t1_210",Ol="_kilometerPricing_wrap_input_1w8t1_219",Fl="_textarea_1w8t1_225",Al="_textarea_title_1w8t1_230",Ml="_textarea_text_1w8t1_236",Bl="_textarea_count_1w8t1_243",z={radioLabel:rl,radioLabel_selected:il,radioLabel_radio:cl,radioLabel_input:ll,radioLabel_text:_l,storeBtn:dl,storeBtn_active:pl,deliveryInput_text:ul,deliveryInput_wrap:ml,deliveryInput_wrap_input:hl,version3:gl,version3_title:vl,version3_block:bl,version3_block_top:xl,version3_block_top_title:fl,version3_block_top_arrow:kl,version3_block_top_arrow_active:yl,version3_block_dropdown:jl,version3_block_dropdown_item:wl,version3_block_dropdown_open:Cl,version3_block_onOff:Sl,version3_block_delivery:Nl,version3_pickedWrap:Il,version3_pickedWrap_item:$l,kilometerPricing:Pl,kilometerPricing_wrap:Dl,kilometerPricing_wrap_input:Ol,textarea:Fl,textarea_title:Al,textarea_text:Ml,textarea_count:Bl},Ne=({id:s,value:t,checked:o,onChange:a,label:n})=>e.jsxs("label",{className:`${z.radioLabel} ${o?z.radioLabel_selected:""}`,children:[e.jsx("input",{type:"radio",id:s,value:t,checked:o,onChange:a,className:z.radioLabel_input}),e.jsx("span",{className:z.radioLabel_radio}),e.jsx("span",{className:z.radioLabel_text,children:n})]}),Qe=(s,t)=>{const o=Fe();return ie(),{handleChange:u.useCallback(n=>{const l=n.target.value;s(l);const _=t[l];_&&o(_)},[o,t,s])}},Ll="_delivery_vkjtc_1",ql="_delivery_title_vkjtc_5",Wl="_delivery_main_vkjtc_10",El="_delivery_btn_vkjtc_16",Ul="_deliveryOrg_vkjtc_28",Rl="_deliveryOrg_radios_vkjtc_31",Tl="_deliveryOrg_children_vkjtc_37",zl="_deliveryOrg_children_wrap_vkjtc_40",Vl="_storeDelivery_vkjtc_46",Kl="_storeDelivery_stores_vkjtc_49",Hl="_storeDelivery_radios_vkjtc_55",Z={delivery:Ll,delivery_title:ql,delivery_main:Wl,delivery_btn:El,deliveryOrg:Ul,deliveryOrg_radios:Rl,deliveryOrg_children:Tl,deliveryOrg_children_wrap:zl,storeDelivery:Vl,storeDelivery_stores:Kl,storeDelivery_radios:Hl},we=({text:s,placeholder:t,value:o,setValue:a})=>e.jsxs("div",{className:z.deliveryInput,children:[e.jsx("p",{className:z.deliveryInput_text,children:s}),e.jsxs("div",{className:z.deliveryInput_wrap,children:[e.jsx("input",{className:z.deliveryInput_wrap_input,type:"number",placeholder:t,value:o,onChange:n=>a(n.target.value)}),e.jsx("span",{className:z.deliveryInput_wrap_input_text,children:"UZS"})]})]}),xe=Ot()(Ft(At(s=>({deliveryStoresArr:[{id:oe(),name:"Магазин1",location:"",deliveryFree:[],deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]},{id:oe(),name:"Магазин2",location:"",deliveryFree:[],deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]},{id:oe(),name:"Магазин3",location:"",deliveryFree:[],deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]}],setDeliveryStoresArr:t=>s({deliveryStoresArr:t}),isActiveStoreId:"",setIsActiveStoreId:t=>s({isActiveStoreId:t}),citiesDelivery:[{id:oe(),city:"Ташкент"},{id:oe(),city:"Бухара"},{id:oe(),city:"Самарканд"}],setCitiesDelivery:t=>s({citiesDelivery:t}),selectedOption:"",setSelectedOption:t=>s({selectedOption:t}),selectedOrganizationOption:"",setSelectedOrganizationOption:t=>s({selectedOrganizationOption:t}),selectedStoreOption:"",setSelectedStoreOption:t=>s({selectedStoreOption:t}),saveLocation:"",setSaveLocation:t=>s({saveLocation:t}),savePathStore:"",setSavePathStore:t=>s({savePathStore:t}),saveLocationStore:[],setSaveLocationStore:t=>s({saveLocationStore:t}),pickedCitiesFreeDelivery:[],setPickedCitiesFreeDelivery:t=>s({pickedCitiesFreeDelivery:t}),inputSumFree:"",setInputSumFree:t=>s({inputSumFree:t}),pickedCitiesFixedDelivery:[],setPickedCitiesFixedDelivery:t=>s({pickedCitiesFixedDelivery:t}),inputSumFixed:"",setInputSumFixed:t=>s({inputSumFixed:t}),inputFixedPrice:"",setInputFixedPrice:t=>s({inputFixedPrice:t}),pickedCitiesFlexibleDelivery:[],setPickedCitiesFlexibleDelivery:t=>s({pickedCitiesFlexibleDelivery:t}),inputSumFlexible:"",setInputSumFlexible:t=>s({inputSumFlexible:t}),inputFirstKm:"",setInputFirstKm:t=>s({inputFirstKm:t}),inputLastKm:"",setInputLastKm:t=>s({inputLastKm:t}),inputExtraKm:"",setInputExtraKm:t=>s({inputExtraKm:t}),pickedCitiesOwnDelivery:[],setPickedCitiesOwnDelivery:t=>s({pickedCitiesOwnDelivery:t}),inputSumOwn:"",setInputSumOwn:t=>s({inputSumOwn:t}),textareaVal:"",setTextareaVal:t=>s({textareaVal:t}),openCountriesDropdown:!1,setOpenCountriesDropdown:t=>s({openCountriesDropdown:t})}),{name:"delivery-store",partialize:s=>({...s})})));function $e({citiesArrDelivery:s,setCitiesArrDelivery:t,pickedCities:o,setPickedCities:a}){const{openCountriesDropdown:n,setOpenCountriesDropdown:l}=xe(),_=i=>{o.some(c=>c.id===i.id)||a([...o,i]),l(!1)},r=(i,c)=>{c.stopPropagation(),a(o.filter(p=>p.id!==i.id))};return e.jsxs("div",{className:z.version3,children:[e.jsx("span",{className:z.version3_title,children:"Города"}),e.jsxs("div",{className:z.version3_block,children:[e.jsxs("div",{className:`${o.length>0?z.version3_pickedWrap:z.version3_block_top}`,onClick:()=>l(!n),children:[o.length>0?o.map(i=>e.jsxs("div",{className:z.version3_pickedWrap_item,children:[e.jsx("h2",{className:z.version3_block_top_title,children:i.city}),e.jsx("button",{onClick:c=>r(i,c),children:e.jsx(E,{name:"XMarkIcon",width:15})})]},i.id)):e.jsx("h2",{className:z.version3_block_top_title,children:"Выберите город"}),e.jsx("button",{className:z.version3_block_top_btn,onClick:()=>l(!n),children:e.jsx("div",{className:`${z.version3_block_top_arrow} ${n&&s.length>0?z.version3_block_top_arrow_active:""}`,children:e.jsx(E,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${z.version3_block_dropdown} ${n&&s.length>0?z.version3_block_dropdown_open:""}`,children:s==null?void 0:s.map(i=>e.jsx("span",{className:z.version3_block_dropdown_item,onClick:()=>_(i),children:i.city},i.id))})]})]})}const Pe=()=>{const{setPickedCitiesFreeDelivery:s,setInputSumFree:t,setPickedCitiesFixedDelivery:o,setInputSumFixed:a,setInputFixedPrice:n,setPickedCitiesFlexibleDelivery:l,setInputSumFlexible:_,setInputFirstKm:r,setInputLastKm:i,setInputExtraKm:c,setPickedCitiesOwnDelivery:p,setInputSumOwn:m,setTextareaVal:g}=xe();return{resetOrg:v=>{v!=="free"&&(s([]),t("")),v!=="fixed"&&(o([]),a(""),n("")),v!=="flexible"&&(l([]),_(""),r(""),i(""),c("")),v!=="own"&&(p([]),m(""),g("")),v==="all"&&(s([]),t(""),o([]),a(""),n(""),l([]),_(""),r(""),i(""),c(""),p([]),m(""),g(""))}}},Xl=()=>{const{setInputSumFree:s,citiesDelivery:t,setCitiesDelivery:o,pickedCitiesFreeDelivery:a,inputSumFree:n,setPickedCitiesFreeDelivery:l,deliveryStoresArr:_,setDeliveryStoresArr:r,setOpenCountriesDropdown:i,setSaveLocation:c,setSaveLocationStore:p}=xe(),m=ie(),[g,h]=u.useState(a),[v,f]=u.useState(n);u.useEffect(()=>{i(!1)},[]);const{resetOrg:y}=Pe(),D=()=>{y("free");const C=g,I=v;l(C),s(I);const j=[{cities:C,minPrice:I}],k=_.map(x=>({...x,location:"storeFreeDelivery",deliveryFree:j,deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]}));console.log("deliveryStoresArr",_),r(k),c(m.pathname),p([]),i(!1)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(we,{text:"Минимальная сумма заказа",placeholder:"0",value:v,setValue:f}),e.jsx($e,{citiesArrDelivery:t,setCitiesArrDelivery:o,pickedCities:g,setPickedCities:h}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>D(),children:"Сохранить"})]})},Gl=()=>{const{resetOrg:s}=Pe(),{inputSumFixed:t,setInputSumFixed:o,inputFixedPrice:a,setInputFixedPrice:n,citiesDelivery:l,setCitiesDelivery:_,pickedCitiesFixedDelivery:r,setPickedCitiesFixedDelivery:i,deliveryStoresArr:c,setDeliveryStoresArr:p,setOpenCountriesDropdown:m,setSaveLocation:g,setSaveLocationStore:h}=xe(),[v,f]=u.useState(r),[y,D]=u.useState(t),[C,I]=u.useState(a);u.useEffect(()=>{m(!1)},[]);const j=()=>{s("fixed");const k=v,x=y,b=C;i(k),o(x),n(b);const S=[{cities:k,minPrice:x,fixedPrice:b}],w=c.map(O=>({...O,location:"storeFixedPriceDelivery",deliveryFree:[],deliveryFixed:S,deliveryFlexible:[],deliveryOwn:[]}));p(w),g(location.pathname),h([]),console.log("deliveryStoresArr",c),m(!1)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(we,{text:"Минимальная сумма заказа",placeholder:"0",value:y,setValue:D}),e.jsx(we,{text:"Цена за доставку",placeholder:"0",value:C,setValue:I}),e.jsx($e,{citiesArrDelivery:l,setCitiesArrDelivery:_,pickedCities:v,setPickedCities:f}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>j(),children:"Сохранить"})]})},jt=({valueFirst:s,setValueFirst:t,valueLast:o,setValueLast:a})=>e.jsxs("div",{className:z.kilometerPricing,children:[e.jsx("span",{className:z.deliveryInput_text,children:"Первые"}),e.jsxs("div",{className:z.kilometerPricing_wrap,children:[e.jsx("input",{className:z.kilometerPricing_wrap_input,type:"number",value:s,placeholder:"0",onChange:n=>t(n.target.value)}),e.jsx("span",{children:"KM"})]}),e.jsx("span",{className:z.deliveryInput_text,children:"по"}),e.jsxs("div",{className:z.kilometerPricing_wrap,children:[e.jsx("input",{className:z.kilometerPricing_wrap_input,type:"number",value:o,placeholder:"0",onChange:n=>a(n.target.value)}),e.jsx("span",{children:"KM"})]})]}),Zl=()=>{const{deliveryStoresArr:s,citiesDelivery:t,setCitiesDelivery:o,setDeliveryStoresArr:a,pickedCitiesFlexibleDelivery:n,setPickedCitiesFlexibleDelivery:l,inputSumFlexible:_,setInputSumFlexible:r,inputFirstKm:i,setInputFirstKm:c,inputLastKm:p,setInputLastKm:m,inputExtraKm:g,setInputExtraKm:h,setOpenCountriesDropdown:v,setSaveLocation:f,setSaveLocationStore:y}=xe(),[D,C]=u.useState(n),[I,j]=u.useState(_),[k,x]=u.useState(i),[b,S]=u.useState(p),[w,O]=u.useState(g),{resetOrg:B}=Pe(),q=()=>{B("flexible");const V=D,N=I,W=k,T=b,A=w;l(V),r(N),c(W),m(T),h(A);const ye=[{cities:V,minPrice:N,pricingPerKm:{firstKm:W,lastKm:T},extraPricing:A}],fe=s.map(he=>({...he,location:"storeFlexibleDelivery",deliveryFree:[],deliveryFixed:[],deliveryFlexible:ye,deliveryOwn:[]}));a(fe),f(location.pathname),y([]),v(!1)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(we,{text:"Минимальная сумма заказа",placeholder:"0",value:I,setValue:j}),e.jsx(jt,{valueFirst:k,setValueFirst:x,valueLast:b,setValueLast:S}),e.jsx(we,{text:"За каждый следующий км",placeholder:"0",value:w,setValue:O}),e.jsx($e,{citiesArrDelivery:t,setCitiesArrDelivery:o,pickedCities:D,setPickedCities:C}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>q(),children:"Сохранить"})]})},wt=({value:s,setValue:t})=>{const[a,n]=u.useState(400),l=_=>{const r=_.target.value;t(r),r.length<=400&&n(400-r.length)};return e.jsxs("div",{className:z.textarea,children:[e.jsx("span",{className:z.textarea_title,children:"Текст для пояснения"}),e.jsx("textarea",{className:z.textarea_text,maxLength:400,onChange:l,value:s}),e.jsxs("span",{className:z.textarea_count,children:[a,"/",400]})]})},Jl=()=>{const{deliveryStoresArr:s,citiesDelivery:t,setCitiesDelivery:o,setDeliveryStoresArr:a,pickedCitiesOwnDelivery:n,setPickedCitiesOwnDelivery:l,inputSumOwn:_,setInputSumOwn:r,textareaVal:i,setTextareaVal:c,setSaveLocation:p,setSaveLocationStore:m}=xe(),[g,h]=u.useState(n),[v,f]=u.useState(_),[y,D]=u.useState(i),{resetOrg:C}=Pe(),I=()=>{C("own");const j=g,k=v,x=y;l(j),r(k),c(x);const b=[{cities:j,minPrice:k,description:x}],S=s.map(w=>({...w,location:"storeOwnVersionDelivery",deliveryFree:[],deliveryFixed:[],deliveryFlexible:[],deliveryOwn:b}));a(S),p(location.pathname),m([])};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(we,{text:"Минимальная сумма заказа",placeholder:"0",value:v,setValue:f}),e.jsx(wt,{value:y,setValue:D}),e.jsx($e,{citiesArrDelivery:t,setCitiesArrDelivery:o,pickedCities:g,setPickedCities:h}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>I(),children:"Сохранить"})]})},Ql=()=>{const{selectedOrganizationOption:s,saveLocation:t,setSelectedOrganizationOption:o}=xe(),a=ie(),n=Fe(),l={freeDelivery:"/admin/settings/delivery/forOrganization/freeDelivery",fixedPriceDelivery:"/admin/settings/delivery/forOrganization/fixedPriceDelivery",flexibleDelivery:"/admin/settings/delivery/forOrganization/flexibleDelivery",ownVersionDelivery:"/admin/settings/delivery/forOrganization/ownVersionDelivery"};u.useEffect(()=>{t?n(t):o("")},[t,n]),u.useEffect(()=>{const r=a.pathname,i=Object.keys(l).find(c=>l[c]===r);i&&o(i)},[a.pathname,o]);const{handleChange:_}=Qe(o,l);return e.jsxs("div",{className:Z.deliveryOrg,children:[e.jsx("h4",{className:Z.delivery_title,children:"Выберите вид доставки"}),e.jsxs("div",{className:Z.deliveryOrg_radios,children:[e.jsx(Ne,{id:"freeDelivery",value:"freeDelivery",checked:s==="freeDelivery",onChange:_,label:"Бесплатная доставка"}),e.jsx(Ne,{id:"fixedPriceDelivery",value:"fixedPriceDelivery",checked:s==="fixedPriceDelivery",onChange:_,label:"Фиксированная цена"}),e.jsx(Ne,{id:"flexibleDelivery",value:"flexibleDelivery",checked:s==="flexibleDelivery",onChange:_,label:"Гибкая доставка"}),e.jsx(Ne,{id:"ownVersionDelivery",value:"ownVersionDelivery",checked:s==="ownVersionDelivery",onChange:_,label:"Свой вариант"})]}),e.jsxs("div",{className:Z.deliveryOrg_children,children:[a.pathname.startsWith("/admin/settings/delivery/forOrganization/freeDelivery")&&e.jsx(Xl,{}),a.pathname.startsWith("/admin/settings/delivery/forOrganization/fixedPriceDelivery")&&e.jsx(Gl,{}),a.pathname.startsWith("/admin/settings/delivery/forOrganization/flexibleDelivery")&&e.jsx(Zl,{}),a.pathname.startsWith("/admin/settings/delivery/forOrganization/ownVersionDelivery")&&e.jsx(Jl,{})]})]})},Yl=({text:s,isActive:t,onClick:o,href:a})=>e.jsx(Q,{className:`${z.storeBtn} ${t?z.storeBtn_active:""}`,onClick:o,to:`settings/delivery/forStore/${a}/settingsSave`,children:s}),e_=()=>{const{isActiveStoreId:s,deliveryStoresArr:t,setDeliveryStoresArr:o,citiesDelivery:a,setCitiesDelivery:n,saveLocationStore:l,setSaveLocationStore:_,setSaveLocation:r,setSavePathStore:i}=xe(),c=ie(),[p,m]=u.useState([]),[g,h]=u.useState("");u.useEffect(()=>{var D,C;const y=t.find(I=>I.id===s);y&&y.deliveryFree?(m(((D=y.deliveryFree[0])==null?void 0:D.cities)||[]),h(((C=y.deliveryFree[0])==null?void 0:C.minPrice)||"")):(m([]),h(""))},[s]);const{resetOrg:v}=Pe(),f=()=>{v("all");const C=[{cities:p,minPrice:g}],I=t.map(x=>x.id===s?{...x,deliveryFree:C,deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]}:x);o(I);const j=[...l],k=j.findIndex(x=>x.id===s);k>=0?j[k].location=c.pathname:j.push({id:s,location:c.pathname}),_(j),console.log("saveLocationStore",l),r(""),i(c.pathname)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(we,{text:"Минимальная сумма заказа",placeholder:"0",value:g,setValue:h}),e.jsx($e,{citiesArrDelivery:a,setCitiesArrDelivery:n,pickedCities:p,setPickedCities:m}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>f(),children:"Сохранить"})]})},t_=()=>{const{isActiveStoreId:s,deliveryStoresArr:t,setDeliveryStoresArr:o,citiesDelivery:a,setCitiesDelivery:n,saveLocationStore:l,setSaveLocationStore:_,setSaveLocation:r,setSavePathStore:i}=xe(),c=ie(),[p,m]=u.useState([]),[g,h]=u.useState(""),[v,f]=u.useState("");u.useEffect(()=>{var I,j,k;const C=t.find(x=>x.id===s);C&&C.deliveryFixed?(m(((I=C.deliveryFixed[0])==null?void 0:I.cities)||[]),h(((j=C.deliveryFixed[0])==null?void 0:j.minPrice)||""),f(((k=C.deliveryFixed[0])==null?void 0:k.fixedPrice)||"")):(m([]),h(""),f(""))},[s]);const{resetOrg:y}=Pe(),D=()=>{y("all");const k=[{cities:p,minPrice:g,fixedPrice:v}],x=t.map(w=>w.id===s?{...w,deliveryFixed:k,deliveryFree:[],deliveryFlexible:[],deliveryOwn:[]}:w);o(x);const b=[...l],S=b.findIndex(w=>w.id===s);S>=0?b[S].location=c.pathname:b.push({id:s,location:c.pathname}),_(b),r(""),i(c.pathname)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(we,{text:"Минимальная сумма заказа",placeholder:"0",value:g,setValue:h}),e.jsx(we,{text:"Цена за доставку",placeholder:"0",value:v,setValue:f}),e.jsx($e,{citiesArrDelivery:a,setCitiesArrDelivery:n,pickedCities:p,setPickedCities:m}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>D(),children:"Сохранить"})]})},s_=()=>{const{isActiveStoreId:s,deliveryStoresArr:t,setDeliveryStoresArr:o,citiesDelivery:a,setCitiesDelivery:n,saveLocationStore:l,setSaveLocationStore:_,setSaveLocation:r,setSavePathStore:i}=xe(),c=ie(),[p,m]=u.useState([]),[g,h]=u.useState(""),[v,f]=u.useState(""),[y,D]=u.useState(""),[C,I]=u.useState("");u.useEffect(()=>{var b,S,w,O,B,q,V;const x=t.find(N=>N.id===s);x&&x.deliveryFlexible?(m(((b=x.deliveryFlexible[0])==null?void 0:b.cities)||[]),h(((S=x.deliveryFlexible[0])==null?void 0:S.minPrice)||""),f(((O=(w=x.deliveryFlexible[0])==null?void 0:w.pricingPerKm)==null?void 0:O.firstKm)||""),D(((q=(B=x.deliveryFlexible[0])==null?void 0:B.pricingPerKm)==null?void 0:q.lastKm)||""),I(((V=x.deliveryFlexible[0])==null?void 0:V.extraPricing)||"")):(m([]),h(""),f(""),D(""),I(""))},[s]);const{resetOrg:j}=Pe(),k=()=>{j("all");const B=[{cities:p,minPrice:g,pricingPerKm:{firstKm:v,lastKm:y},extraPricing:C}],q=t.map(W=>W.id===s?{...W,deliveryFlexible:B,deliveryFree:[],deliveryFixed:[],deliveryOwn:[]}:W);o(q);const V=[...l],N=V.findIndex(W=>W.id===s);N>=0?V[N].location=c.pathname:V.push({id:s,location:c.pathname}),_(V),r(""),i(c.pathname)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(we,{text:"Минимальная сумма заказа",placeholder:"0",value:g,setValue:h}),e.jsx(jt,{valueFirst:v,setValueFirst:f,valueLast:y,setValueLast:D}),e.jsx(we,{text:"За каждый следующий км",placeholder:"0",value:C,setValue:I}),e.jsx($e,{citiesArrDelivery:a,setCitiesArrDelivery:n,pickedCities:p,setPickedCities:m}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>k(),children:"Сохранить"})]})},o_=()=>{const{isActiveStoreId:s,deliveryStoresArr:t,setDeliveryStoresArr:o,citiesDelivery:a,setCitiesDelivery:n,saveLocationStore:l,setSaveLocationStore:_,setSaveLocation:r,setSavePathStore:i}=xe(),c=ie(),[p,m]=u.useState([]),[g,h]=u.useState(""),[v,f]=u.useState("");u.useEffect(()=>{var I,j,k;const C=t.find(x=>x.id===s);C&&C.deliveryOwn?(m(((I=C.deliveryOwn[0])==null?void 0:I.cities)||[]),h(((j=C.deliveryOwn[0])==null?void 0:j.minPrice)||""),f(((k=C.deliveryOwn[0])==null?void 0:k.description)||"")):(m([]),h(""),f(""))},[s]);const{resetOrg:y}=Pe(),D=()=>{y("all");const k=[{cities:p,minPrice:g,description:v}],x=t.map(w=>w.id===s?{...w,deliveryOwn:k,deliveryFree:[],deliveryFixed:[],deliveryFlexible:[]}:w);o(x);const b=[...l],S=b.findIndex(w=>w.id===s);S>=0?b[S].location=c.pathname:b.push({id:s,location:c.pathname}),_(b),r(""),i(c.pathname)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(we,{text:"Минимальная сумма заказа",placeholder:"0",value:g,setValue:h}),e.jsx(wt,{value:v,setValue:f}),e.jsx($e,{citiesArrDelivery:a,setCitiesArrDelivery:n,pickedCities:p,setPickedCities:m}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>D(),children:"Сохранить"})]})},n_=()=>{const{deliveryStoresArr:s,selectedStoreOption:t,isActiveStoreId:o,saveLocationStore:a,setSelectedStoreOption:n}=xe(),l=ie(),_=Fe(),r={storeFreeDelivery:`/admin/settings/delivery/forStore/${o}/settingsSave/storeFreeDelivery`,storeFixedPriceDelivery:`/admin/settings/delivery/forStore/${o}/settingsSave/storeFixedPriceDelivery`,storeFlexibleDelivery:`/admin/settings/delivery/forStore/${o}/settingsSave/storeFlexibleDelivery`,storeOwnVersionDelivery:`/admin/settings/delivery/forStore/${o}/settingsSave/storeOwnVersionDelivery`},{handleChange:i}=Qe(n,r);return u.useEffect(()=>{const c=a.find(g=>g.id===o),p=Object.keys(r).find(g=>r[g]===(c==null?void 0:c.location)),m=s[0].location;console.log("option",p),a.length>0&&c?(_(c.location),n(p)):(_(`/admin/settings/delivery/forStore/${o}/settingsSave/${m||""}`),n(m))},[o,a]),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h4",{className:Z.delivery_title,children:"Выберите вид доставки"}),e.jsxs("div",{className:Z.storeDelivery_radios,children:[e.jsx(Ne,{id:"storeFreeDelivery",value:"storeFreeDelivery",checked:t==="storeFreeDelivery",onChange:i,label:"Бесплатная доставка"}),e.jsx(Ne,{id:"storeFixedPriceDelivery",value:"storeFixedPriceDelivery",checked:t==="storeFixedPriceDelivery",onChange:i,label:"Фиксированная цена"}),e.jsx(Ne,{id:"storeFlexibleDelivery",value:"storeFlexibleDelivery",checked:t==="storeFlexibleDelivery",onChange:i,label:"Гибкая доставка"}),e.jsx(Ne,{id:"storeOwnVersionDelivery",value:"storeOwnVersionDelivery",checked:t==="storeOwnVersionDelivery",onChange:i,label:"Свой вариант"})]})]}),e.jsxs("div",{className:Z.deliveryOrg_children,children:[l.pathname.startsWith(`/admin/settings/delivery/forStore/${o}/settingsSave/storeFreeDelivery`)&&e.jsx(e_,{}),l.pathname.startsWith(`/admin/settings/delivery/forStore/${o}/settingsSave/storeFixedPriceDelivery`)&&e.jsx(t_,{}),l.pathname.startsWith(`/admin/settings/delivery/forStore/${o}/settingsSave/storeFlexibleDelivery`)&&e.jsx(s_,{}),l.pathname.startsWith(`/admin/settings/delivery/forStore/${o}/settingsSave/storeOwnVersionDelivery`)&&e.jsx(o_,{})]})]})},a_=()=>{const{deliveryStoresArr:s,isActiveStoreId:t,setIsActiveStoreId:o,savePathStore:a}=xe(),n=r=>{o(r)};u.useEffect(()=>{a&&_(a)},[]);const l=ie(),_=Fe();return e.jsxs("div",{className:Z.storeDelivery,children:[e.jsx("h4",{className:Z.delivery_title,children:"Выберите магазин "}),e.jsx("div",{className:Z.storeDelivery_stores,children:s.map(r=>e.jsx(Yl,{text:r.name,isActive:r.id===t,onClick:()=>n(r.id),href:r.id},r.id))}),l.pathname.startsWith(`/admin/settings/delivery/forStore/${t}/settingsSave`)&&e.jsx(n_,{})]})},r_=()=>{const{selectedOption:s,setSelectedOption:t,saveLocationStore:o,savePathStore:a,saveLocation:n}=xe(),l=ie(),_=Fe(),r={forOrganization:"/admin/settings/delivery/forOrganization",forStore:"/admin/settings/delivery/forStore"};u.useEffect(()=>{n!==""?(_(n),t("forOrganization")):o.some(c=>c.location)&&(_(a),t(o[0].location),t("forStore"))},[]);const{handleChange:i}=Qe(t,r);return e.jsxs("div",{className:Z.delivery,children:[e.jsx("h3",{className:Z.delivery_title,children:"Выберите версию настройки доставки"}),e.jsxs("div",{className:Z.delivery_main,children:[e.jsx(Ne,{id:"forOrganization",value:"forOrganization",checked:s==="forOrganization",onChange:i,label:"Для организации"}),e.jsx(Ne,{id:"forStore",value:"forStore",checked:s==="forStore",onChange:i,label:"Для каждого магазина"})]}),l.pathname.startsWith("/admin/settings/delivery/forOrganization")&&e.jsx(Ql,{}),l.pathname.startsWith("/admin/settings/delivery/forStore")&&e.jsx(a_,{})]})};function i_({name:s="HandRaisedIcon",width:t=30,height:o=30,color:a="black",background:n="transparent",transition:l=500,className:_,onClick:r}){const i={width:`${t}px`,height:`${o||t}px`,color:a,transition:`${l}ms`,background:n};return e.jsxs(e.Fragment,{children:[s=="HandRaisedIcon"&&e.jsx(Lt,{className:_,style:i,onClick:r}),s=="UserIcon"&&e.jsx(qt,{className:_,style:i,onClick:r}),s=="HeartIcon"&&e.jsx(Wt,{className:_,style:i,onClick:r}),s=="AdjustmentsHorizontalIcon"&&e.jsx(Et,{className:_,style:i,onClick:r}),s=="BanknotesIcon"&&e.jsx(Ut,{className:_,style:i,onClick:r}),s=="ShoppingBagIcon"&&e.jsx(Rt,{className:_,style:i,onClick:r}),s=="CogIcon"&&e.jsx(Tt,{className:_,style:i,onClick:r}),s=="ShoppingCartIcon"&&e.jsx(zt,{className:_,style:i,onClick:r}),s=="UsersIcon"&&e.jsx(Vt,{className:_,style:i,onClick:r}),s=="ChevronDownIcon"&&e.jsx(Kt,{className:_,style:i,onClick:r}),s=="Cog8ToothIcon"&&e.jsx(Ht,{className:_,style:i,onClick:r}),s=="EyeIcon"&&e.jsx(Xt,{className:_,style:i,onClick:r}),s=="EyeSlashIcon"&&e.jsx(Gt,{className:_,style:i,onClick:r}),s=="IdentificationIcon"&&e.jsx(Zt,{className:_,style:i,onClick:r}),s=="WrenchScrewdriverIcon"&&e.jsx(Jt,{className:_,style:i,onClick:r}),s=="XMarkIcon"&&e.jsx(Qt,{className:_,style:i,onClick:r}),s=="PhoneXMarkIcon"&&e.jsx(Yt,{className:_,style:i,onClick:r}),s=="Bars3Icon"&&e.jsx(es,{className:_,style:i,onClick:r}),s=="AdjustmentsVerticalIcon"&&e.jsx(ts,{className:_,style:i,onClick:r}),s=="TrashIcon"&&e.jsx(ss,{className:_,style:i,onClick:r}),s=="BackspaceIcon"&&e.jsx(os,{className:_,style:i,onClick:r}),s=="QueueListIcon"&&e.jsx(ns,{className:_,style:i,onClick:r}),s=="ChevronRightIcon"&&e.jsx(as,{className:_,style:i,onClick:r}),s=="MagnifyingGlassIcon"&&e.jsx(rs,{className:_,style:i,onClick:r}),s=="ArrowLeftStartOnRectangleIcon"&&e.jsx(is,{className:_,style:i,onClick:r}),s=="BuildingStorefrontIcon"&&e.jsx(cs,{className:_,style:i,onClick:r}),s=="BuildingLibraryIcon"&&e.jsx(ls,{className:_,style:i,onClick:r}),s=="ArrowLeftEndOnRectangleIcon"&&e.jsx(_s,{className:_,style:i,onClick:r}),s=="UserPlusIcon"&&e.jsx(ds,{className:_,style:i,onClick:r}),s=="PlusIcon"&&e.jsx(ps,{className:_,style:i,onClick:r}),s=="FolderOpenIcon"&&e.jsx(us,{className:_,style:i,onClick:r}),s=="FunnelIcon"&&e.jsx(ms,{className:_,style:i,onClick:r}),s=="PhotoIcon"&&e.jsx(hs,{className:_,style:i,onClick:r})]})}function c_(){const{addBlockStatus:s,setAddBlockStatus:t,setAddBlockProducts:o}=le();u.useEffect(()=>{o([])},[]);const a=n=>{n.stopPropagation(),t(!s)};return e.jsxs("button",{className:`${d.homePage_addBlock} ${s?d.homePage_addBlock_active:""}`,onClick:n=>a(n),children:[e.jsx("span",{className:d.homePage_addBlock_title,children:"Добавить блок"}),e.jsx(i_,{name:"PlusIcon"})]})}function l_({setSure:s,setDelModalStatus:t}){return e.jsx("div",{className:d.homePage_delModal,onClick:()=>t(!1),children:e.jsxs("div",{className:d.homePage_delModal_block,onClick:o=>o.stopPropagation(),children:[e.jsx("h3",{children:"Вы уверены что хотите удалить блок ?"}),e.jsxs("div",{className:d.homePage_delModal_buttons,children:[e.jsx("button",{className:`${d.homePage_delModal_btn} ${d.homePage_delModal_del}`,onClick:()=>s(!0),children:"удалить"}),e.jsx("button",{className:`${d.homePage_delModal_btn} ${d.homePage_delModal_cancel}`,onClick:()=>t(!1),children:"отмена"})]})]})})}function __({item:s,delModalStatus:t,setDelModalStatus:o}){const{addBlockStatus:a,homePageBlock:n,setHomePageBlock:l,addBlockProducts:_}=le(),[r,i]=u.useState(!1),c=h=>{const v=n.filter(f=>f.id!=h);l([...v]),i(!1)};u.useEffect(()=>{r&&(c(s.id),o(!1))},[r]);const[p,m]=u.useState("");u.useEffect(()=>{m(s.title)},[]);const g=h=>{const v=n.map(f=>f.id==h.id?{id:h.id,title:p,superCategory:h.superCategory,category:h.category,subCategory:h.subCategory,products:h.products}:{...f});l([...v])};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:d.homePage_wrapper,draggable:!t,children:[t&&e.jsx("div",{onDragStart:h=>h.stopPropagation(),onDragOver:h=>h.stopPropagation(),children:e.jsx(l_,{setSure:i,setDelModalStatus:o})}),e.jsxs("div",{className:d.homePage_wrapper_title,children:[e.jsx("input",{type:"text",value:p,onChange:h=>m(h.target.value),onBlur:()=>g(s)}),e.jsx(E,{name:"PencilIcon",width:20,height:20})]}),e.jsxs("div",{className:`${d.homePage_addBlockItem} ${a?d.homePage_addBlockItem_active:""}`,children:[e.jsx("button",{className:d.homePage_addBlockItem_close,onClick:()=>o(!0),children:e.jsx(E,{name:"XMarkIcon"})}),e.jsxs("p",{className:d.homePage_addBlockItem_categories,children:[e.jsxs("span",{children:[s.superCategory.name.ru," / "]}),e.jsxs("span",{children:[s.category.name.ru," / "]}),e.jsx("span",{children:s.subCategory.name.ru})]}),e.jsx("h2",{className:d.homePage_addBlockItem_super_title,children:"Продукты"}),e.jsx("div",{className:d.homePage_addBlockItem_content,children:s.products.map(h=>{var v,f;return e.jsx("div",{className:d.homePage_addBlockItem_super_item,children:e.jsx("span",{children:(f=(v=h.nomenclature)==null?void 0:v.name)==null?void 0:f.ru})},h.id)})})]})]})})}const d_="_modalCategory_6mlu2_1",p_="_modalCategory_block_6mlu2_10",u_="_modalCategory_block_createTitle_6mlu2_16",m_="_modalCategory_nav_6mlu2_33",h_="_modalCategory_nav_title_6mlu2_40",g_="_modalCategory_content_6mlu2_46",v_="_modalCategory_content_message_6mlu2_53",b_="_modalCategory_content_allActive_6mlu2_61",x_="_modalCategory_content_more_6mlu2_61",f_="_modalCategory_content_link_6mlu2_76",k_="_modalCategory_content_link_product_6mlu2_76",y_="_modalCategory_content_link_active_6mlu2_111",j_="_modalCategory_content_link_product_active_6mlu2_111",w_="_modalCategory_content_item_6mlu2_124",C_="_modalCategory_content_block_6mlu2_146",S_="_modalCategory_content_block_title_6mlu2_150",N_="_settings_6mlu2_157",I_="_settings_title_6mlu2_160",$_="_settings_content_6mlu2_165",P_="_settings_content_top_6mlu2_168",D_="_settings_content_buttons_6mlu2_171",O_="_settings_content_btn_6mlu2_181",F_="_settings_content_btn_cancel_6mlu2_193",A_="_settings_content_btn_save_6mlu2_196",M_="_settings_tools_6mlu2_199",B_="_settings_tools_link_6mlu2_204",L_="_settings_tools_link_active_6mlu2_219",q_="_blink_6mlu2_1",K={modalCategory:d_,modalCategory_block:p_,modalCategory_block_createTitle:u_,modalCategory_nav:m_,modalCategory_nav_title:h_,modalCategory_content:g_,modalCategory_content_message:v_,modalCategory_content_allActive:b_,modalCategory_content_more:x_,modalCategory_content_link:f_,modalCategory_content_link_product:k_,modalCategory_content_link_active:y_,modalCategory_content_link_product_active:j_,modalCategory_content_item:w_,modalCategory_content_block:C_,modalCategory_content_block_title:S_,settings:N_,settings_title:I_,settings_content:$_,settings_content_top:P_,settings_content_buttons:D_,settings_content_btn:O_,settings_content_btn_cancel:F_,settings_content_btn_save:A_,settings_tools:M_,settings_tools_link:B_,settings_tools_link_active:L_,blink:q_};function W_({superCategory:s,category:t,superId:o,moreSuperStatus:a,setSubId:n,setLocalPicked:l,setSuperId:_,setMessageStatus:r,setSubCategories:i,fetchCategories:c}){const{setCurrentCategory:p}=be(),[m,g]=u.useState(10),h=(f,y)=>{f.preventDefault(),c("category",1,10,y.id),i([]);const D=t.filter(C=>C.parentId==y.id);p(D),l(y),_(y.id),r(!1),n(0)},v=f=>{f.preventDefault();const y=m+10;g(y),c("super",1,y)};return e.jsxs("div",{className:K.modalCategory_content_block,children:[e.jsx("h2",{className:K.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:K.modalCategory_content_item,children:[s.map(f=>e.jsxs("div",{className:`${K.modalCategory_content_link} ${f.id==o?K.modalCategory_content_link_active:""} `,onClick:y=>h(y,f),children:[e.jsx("span",{children:f.name.ru}),e.jsx(E,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},f.id)),a&&e.jsx("span",{className:K.modalCategory_content_more,onClick:f=>v(f),children:"Ещё..."})]})]})}function E_({superId:s,categoryId:t,setCategoryId:o,category:a,moreStatus:n,setMoreStatus:l,setSubId:_,setSubCategory:r,fetchCategories:i}){const[c,p]=u.useState(10);u.useEffect(()=>{p(10),l(!0),o(0)},[s]);const m=h=>{h.preventDefault();const v=c+10;p(v),i("category",1,v,s)},g=(h,v)=>{_(0),r(h,v)};return e.jsxs("div",{className:K.modalCategory_content_block,children:[e.jsx("h2",{className:K.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:K.modalCategory_content_item,children:[a==null?void 0:a.map(h=>e.jsxs("div",{className:`${K.modalCategory_content_link} ${h.id==t?K.modalCategory_content_link_active:""} `,onClick:v=>g(v,h),children:[e.jsx("span",{children:h.name.ru}),e.jsx(E,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},h.id)),n&&e.jsx("span",{className:K.modalCategory_content_more,onClick:h=>m(h),children:"Ещё..."})]})]})}function U_({subId:s,setSubId:t,categoryId:o,moreSubStatus:a,setMoreSubStatus:n,subCategories:l,setSubProductsList:_,fetchCategories:r}){le();const[i]=u.useState(1),[c,p]=u.useState(10);u.useEffect(()=>{n(!0)},[o]);const m=h=>{h.preventDefault();const v=c+10;p(v),r("subCategory",i,v,o)},g=async(h,v)=>{_(h,v),t(v.id)};return e.jsxs("div",{className:K.modalCategory_content_block,children:[e.jsx("h2",{className:K.modalCategory_content_block_title,children:"Подкотегория"}),e.jsxs("div",{className:K.modalCategory_content_item,children:[l==null?void 0:l.map(h=>e.jsxs("div",{className:`${K.modalCategory_content_link} ${h.id==s?K.modalCategory_content_link_active:""} `,onClick:v=>g(v,h),children:[e.jsx("span",{children:h.name.ru}),e.jsx(E,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},h.id)),a&&e.jsx("span",{className:K.modalCategory_content_more,onClick:h=>m(h),children:"Ещё..."})]})]})}function R_({setSettings:s,setCancel:t}){const{setAddBlockStatus:o}=le(),a=()=>{t(),o(!1)};return e.jsxs("div",{className:K.settings_content_buttons,children:[e.jsx("button",{className:`${K.settings_content_btn} ${K.settings_content_btn_cancel}`,onClick:a,children:"Отмена"}),e.jsx(Q,{to:"#",className:`${K.settings_content_btn} ${K.settings_content_btn_save}`,onClick:n=>s(n),children:"Сохранить"})]})}function T_({subId:s}){const{addBlockProducts:t,setAddBlockProducts:o}=le(),[a,n]=u.useState(!1),[l,_]=u.useState([]),[r,i]=u.useState([]),[c]=u.useState(1),[p,m]=u.useState(10),[g,h]=u.useState(!0);u.useEffect(()=>{o([]),i([]),n(!1),_([]),s!=0&&I(s,p)},[s]);const v=u.useRef([]),f=u.useRef(null),y=(k,x)=>{if(k){_([...l,x]);const b=r.filter(S=>S.id==x)[0];o([...t,b])}else if(!k&&f.current){const b=l.filter(w=>w!=x);_([...b]);const S=t.filter(w=>w.id!=x);o([...S]),n(!1),f.current.checked=!1}f.current&&k&&l.length+1==r.length&&(n(!0),f.current.checked=!0,o([...r]))},D=k=>{k.preventDefault();const x=p+10;m(x),j(s,x)},C=k=>{if(n(k),k){v.current.forEach(b=>{b&&(b.checked=k)});const x=r.map(b=>b.id);_([...x]),o([...r])}else _([]),v.current.forEach(x=>{x&&(x.checked=k)}),o([])};async function I(k,x){const b=await j(k,x);i([...b])}const j=async(k,x)=>{const b=Ie.get("multi-store");try{const S=await ce.get(`web-nomenclatures?multiStoreId=${b}&categoryId=${k}&page=${c}&perPage=${x}`),w=await S.data.data,O=await S.data.pagination;return w.length<O.total?i([...w]):w.length==O.total&&(i([...w]),h(!1)),S.data.data}catch(S){console.log("Ошибка при получении продуктов по id",S)}};return e.jsxs("div",{className:K.modalCategory_content_block,children:[e.jsx("h2",{className:K.modalCategory_content_block_title,children:"Подкотегория"}),e.jsxs("div",{className:K.modalCategory_content_item,children:[r.length>1&&e.jsxs("label",{className:K.modalCategory_content_allActive,children:[e.jsx("input",{type:"checkbox",onChange:k=>C(k.target.checked),ref:f}),e.jsx("span",{children:a?"Отключить все":"Выбрать все"})]}),r==null?void 0:r.map((k,x)=>{var b,S;return e.jsxs("label",{className:`
              ${K.modalCategory_content_link_product}
              ${a||l.includes(k.id)?K.modalCategory_content_link_active:""}
              `,children:[e.jsx("input",{type:"checkbox",onChange:w=>y(w.target.checked,k.id),ref:w=>{v.current[x]=w}}),e.jsx("span",{children:(S=(b=k==null?void 0:k.nomenclature)==null?void 0:b.name)==null?void 0:S.ru})]},k.id)}),g&&e.jsx("span",{className:K.modalCategory_content_more,onClick:k=>D(k),children:"Ещё..."})]})]})}function z_(){const{TemporaryData:s,currentProduct:t,setCurrentCategory:o,setPickedCategory:a,setCurrentSubCategory:n,setTemporaryData:l,setOpenModalCategory:_,setCurrentProduct:r}=be(),{homePageBlock:i,setHomePageBlock:c,setAddBlockStatus:p,homePageBlockName:m,setHomePageBlockName:g,setAddBlockStatusItem:h,addBlockProducts:v,setAddBlockProducts:f}=le(),[y,D]=u.useState(0),[C,I]=u.useState(0),[j,k]=u.useState(0),[x,b]=u.useState({}),[S,w]=u.useState(!1),[O,B]=u.useState("Выберите категорию"),[q,V]=u.useState(!0),[N,W]=u.useState(!0),[T,A]=u.useState(!0),[ye,fe]=u.useState([]),[he,Ce]=u.useState([]),[ke,P]=u.useState([]);u.useEffect(()=>{je("super",1,10)},[]);const $=(ee,H)=>{ee.preventDefault(),je("subCategory",1,10,H.id);const X=ke.filter(_e=>_e.parentId==H.id);n(X),b(H),I(H.id),w(!1)},G=(ee,H)=>{ee.preventDefault(),b(H),k(H.id),w(!1)},Y=async ee=>{if(ee.preventDefault(),Object.keys(x).length===0){w(!0),B("Выберите Суперкотегорию");return}if(he.length>0&&C===0){w(!0),B("Выберите Категорию");return}if(ke.length>0&&j===0){w(!0),B("Выберите Подкотегорию");return}if(m==""){w(!0),B("Введите название блока");return}if(j){h(!0);const H=ye.filter(se=>se.id==y)[0],X=he.filter(se=>se.id==C)[0],_e=ke.filter(se=>se.id==j)[0],ue={id:oe(),title:m||"Заголовок не добавлен",superCategory:H,category:X,subCategory:_e,products:v};c([ue,...i]);const ve=s.find(se=>se.mxikCode==(t==null?void 0:t.mxikCode)),ge=s.findIndex(se=>se.mxikCode==(t==null?void 0:t.mxikCode));ve&&(ve.crmCategory=x,s.splice(ge,1,ve),l([...s]))}ae()},ae=()=>{a(x),_(!1),D(0),I(0),r({}),k(0),b({}),o([]),n([]),f([]),w(!1),B("Выберите категорию"),p(!1),g("")},je=async(ee,H,X,_e)=>{try{const ue=ee=="super"?`https://api.mcrm.uz/api/categories?&page=${H}&perPage=${X}`:`https://api.mcrm.uz/api/categories?parentId=${_e}&page=${H}&perPage=${X}`,ve=await Ve.get(ue),ge=ve.data.data.map(se=>({...se,label:ee==="super"?"Супер категория":ee==="category"?"Категория":"Субкатегория"}));if(ee==="super"){const se=await ve.data.pagination;ge.length<se.total?fe([...ge]):ge.length==se.total&&(fe([...ge]),V(!1))}if(ee==="category"){const se=await ve.data.pagination;ge.length<se.total?Ce([...ge]):ge.length==se.total&&(Ce([...ge]),W(!1))}if(ee==="subCategory"){const se=await ve.data.pagination;ge.length<se.total?P([...ge]):ge.length==se.total&&(P([...ge]),A(!1))}}catch(ue){console.error(`Ошибка произошла при получении ${ee} категорий`,ue)}},Se=u.useRef(null);return u.useEffect(()=>{Se.current&&Se.current.focus()},[Se]),e.jsx("div",{className:K.modalCategory,onClick:ee=>ee.stopPropagation(),children:e.jsxs("div",{className:K.modalCategory_block,children:[e.jsx("p",{className:K.modalCategory_content_message,children:S?O:""}),e.jsxs("div",{className:`${K.modalCategory_block_createTitle}`,children:[e.jsx("input",{ref:Se,type:"text",value:m,onChange:ee=>g(ee.target.value),placeholder:"Заголовок  блока"}),e.jsx(E,{name:"PencilIcon",width:20,height:20})]}),e.jsxs("div",{className:K.modalCategory_content,children:[e.jsx(W_,{moreSuperStatus:q,superId:y,setSubId:k,superCategory:ye,category:he,setLocalPicked:b,setSuperId:D,setMessageStatus:w,fetchCategories:je,setSubCategories:P}),he.length>0&&e.jsx(E_,{setSubId:k,setCategoryId:I,setMoreStatus:W,moreStatus:N,superId:y,categoryId:C,category:he,setSubCategory:$,fetchCategories:je}),ke.length>0&&e.jsx(U_,{subId:j,setSubId:k,moreSubStatus:T,categoryId:C,subCategories:ke,setSubProductsList:G,setMoreSubStatus:A,fetchCategories:je}),j!=0&&e.jsx(T_,{subId:j}),e.jsx(R_,{setSettings:Y,setCancel:ae})]})]})})}function V_(){const{addBlockStatus:s,homePageBlock:t,setHomePageBlock:o}=le(),[a,n]=u.useState(null),[l,_]=u.useState([]),[r,i]=u.useState(!1);u.useEffect(()=>{const h=l.length>0?l.reduce((f,y)=>y.order>f?y.order:f,-1/0):0,v=t.map((f,y)=>({...f,order:h+y+1}));_([...v])},[t]),u.useEffect(()=>{},[]);function c(h,v){n(v),h.target.style.cursor=r?"default":"grabbing"}function p(h){h.target.style.cursor=r?"default":"grab"}function m(h){h.preventDefault()}function g(h,v){h.preventDefault();const f=l&&l.map(y=>y.id===v.id?{...y,order:(a==null?void 0:a.order)||y.order}:y.id===(a==null?void 0:a.id)?{...y,order:v.order}:y).sort((y,D)=>(y&&y.order)-(D&&D.order));f&&(_(f),o(f)),n(null)}return e.jsxs("div",{className:d.homePage,children:[e.jsx(c_,{}),s&&e.jsx(z_,{}),e.jsx("div",{className:d.homePage_blocks,children:l.length>0&&l.map(h=>e.jsx("div",{draggable:!r,onDragStart:v=>c(v,h),onDragLeave:v=>p(v),onDragEnd:v=>p(v),onDragOver:v=>m(v),onDrop:v=>g(v,h),children:e.jsx(__,{item:h,delModalStatus:r,setDelModalStatus:i})},h.id))})]})}const K_=[{id:"1",label:"Модули",href:"/admin/settings/modules"},{id:"2",label:"Шаблоны",href:"/admin/settings/templates"},{id:"3",label:"Категории",href:"/admin/settings/categories"},{id:"4",label:"Баннер",href:"/admin/settings/banner"},{id:"5",label:"Основные",href:"/admin/settings/contacts"},{id:"6",label:"Доставка",href:"/admin/settings/delivery"},{id:"7",label:"Главная страница",href:"/admin/settings/homePage"}];function H_(){const t=ie().pathname,{setAddBlockStatus:o}=le();return e.jsx("div",{className:d.settings,onClick:()=>o(!1),children:e.jsxs("div",{className:d.settings_content,children:[e.jsx("div",{className:d.settings_content_top,children:e.jsx("ul",{className:d.settings_tools,children:K_.map(a=>e.jsx("li",{children:e.jsx(Q,{to:a.href,className:`${d.settings_tools_link} ${t.startsWith(a.href)?d.settings_tools_link_active:""}`,children:a.label})},a.id))})}),t=="/admin/settings/modules"&&e.jsx(tr,{}),t=="/admin/settings/templates"&&e.jsx(sr,{}),t=="/admin/settings/categories"&&e.jsx(Dr,{}),t.startsWith("/admin/settings/banner")&&e.jsx(sc,{}),t.startsWith("/admin/settings/contacts")&&e.jsx(al,{}),t.startsWith("/admin/settings/delivery")&&e.jsx(r_,{}),t.startsWith("/admin/settings/homePage")&&e.jsx(V_,{})]})})}const rt=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Статус"},{id:4,title:"Акции"},{id:5,title:""}];function X_(){const[s,t]=u.useState(""),[o]=u.useState(1),[a]=u.useState(10),[n,l]=u.useState({status:!1,message:""}),[_,r]=u.useState([]);u.useEffect(()=>{s||(r([]),l({status:!1,message:""}))},[s]);async function i(c){c.preventDefault();const p=Ie.get("multi-store");try{const g=await(await ce.get(`nomenclatures?multiStoreId=${p}&name=${s}&page=${o}&perPage=${a}`)).data.data;g.length>0?(r([...g]),l({status:!1,message:""})):(r([]),l({status:!0,message:"Совпадений не найдено"}))}catch(m){console.log("Ошибка произошла при поиске продуктов на складе",m)}}return e.jsxs("div",{className:d.addingWrapper,children:[e.jsxs("form",{action:"",className:d.addingWrapper_form,onSubmit:c=>i(c),children:[e.jsxs("div",{className:d.addingWrapper_search,children:[e.jsx("input",{type:"text",className:d.addingWrapper_search_input,placeholder:"Поиск товара",onChange:c=>t(c.target.value),value:s}),e.jsx(E,{className:d.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:d.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:d.addingWrapper_table,children:[e.jsx("thead",{className:d.addingWrapper_thead,children:e.jsx("tr",{className:d.addingWrapper_thead_tr,children:rt.map(c=>e.jsx("th",{className:d.addingWrapper_thead_th,children:c.title},c.id))})}),e.jsx("tbody",{className:d.addingWrapper_tbody,children:_==null?void 0:_.map(c=>e.jsxs("tr",{className:d.addingWrapper_tbody_tr,children:[rt.map(p=>{var m;return e.jsxs("td",{className:d.addingWrapper_tbody_td,children:[p.title=="Наименование"?e.jsx("span",{children:(m=c==null?void 0:c.name)==null?void 0:m.ru}):"",p.title=="Штрих-код"?e.jsx("span",{children:c.mxik}):"",p.title=="Статус"?e.jsx("span",{children:"Статус"}):""]},p.id)}),!c.hasWebNomenclature&&e.jsx("td",{className:d.addingWrapper_tbody_td,children:e.jsx(Q,{to:`/admin/stock-product/${c.id}`,className:d.addingWrapper_tbody_add,children:"Добавить"})})]},c==null?void 0:c.mxik))})]}),n.status&&e.jsx("span",{className:d.addingWrapper_table_error,children:n.message})]})}const it=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Статус"},{id:4,title:"Акции"}];function G_(){const[s,t]=u.useState(""),[o,a]=u.useState({status:!1,message:""}),[n,l]=u.useState([]),[_]=u.useState(1),[r]=u.useState(10);u.useEffect(()=>{s||(l([]),a({status:!1,message:""}))},[s]);async function i(){const g=Ie.get("multi-store");try{console.log(222,"searchText",s);const v=(await ce.get(`web-nomenclatures?multiStoreId=${g}&title=${s}&page=${_}&perPage=${r}`)).data.data;console.log(999,"data",v),v.length>0?(l([...v]),a({status:!1,message:""})):(l([]),a({status:!0,message:"Совпадений не найдено"}))}catch(h){console.log("Ошибка произошла при поиске продуктов на вебсайте по заголовку",h)}}async function c(g,h){g.preventDefault();try{const v=await ce.patch(`web-nomenclatures/${h}`,{isActive:!1});t(""),l([]),console.log("Продукт успешно отключен с веб сайта",v)}catch(v){console.log("Ошибка произошла при удалении продукта с вебсайта",v)}}async function p(g,h){g.preventDefault();try{const v=await ce.patch(`web-nomenclatures/${h}`,{isActive:!0});t(""),l([]),console.log("Продукт успешно включен на веб сайта",v)}catch(v){console.log("Ошибка произошла при удалении продукта с вебсайта",v)}}const m=async g=>{g.preventDefault(),i()};return e.jsxs("div",{className:d.addingWrapper,children:[e.jsxs("form",{action:"",className:d.addingWrapper_form,onSubmit:g=>m(g),children:[e.jsxs("div",{className:d.addingWrapper_search,children:[e.jsx("input",{type:"text",className:d.addingWrapper_search_input,placeholder:"Поиск товара",onChange:g=>t(g.target.value),value:s}),e.jsx(E,{className:d.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:d.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:d.addingWrapper_table,children:[e.jsx("thead",{className:d.addingWrapper_thead,children:e.jsxs("tr",{className:d.addingWrapper_thead_tr,children:[it.map(g=>e.jsx("th",{className:d.addingWrapper_thead_th,children:g.title},g.id)),e.jsx("th",{className:d.addingWrapper_thead_th})]})}),e.jsx("tbody",{className:d.addingWrapper_tbody,children:n==null?void 0:n.map(g=>e.jsxs("tr",{className:d.addingWrapper_tbody_tr,children:[it.map(h=>e.jsxs("td",{className:d.addingWrapper_tbody_td,children:[h.title=="Наименование"?e.jsx("span",{children:g.title}):"",h.title=="Статус"?e.jsx("span",{children:"Статус"}):""]},h.id)),e.jsx("td",{className:d.addingWrapper_tbody_td,children:e.jsxs("div",{className:d.addingWrapper_tbody_buttons,children:[g.isActive&&e.jsx(Q,{to:"#",className:d.addingWrapper_tbody_del,onClick:h=>c(h,g.id),children:"Отключить"}),!g.isActive&&e.jsx(Q,{to:"#",className:d.addingWrapper_tbody_del,onClick:h=>p(h,g.id),children:"Включить"}),e.jsx(Q,{to:`/admin/website-product/${g.id}`,className:d.addingWrapper_tbody_add,children:"Изменить"})]})})]},g==null?void 0:g.id))})]}),o.status&&e.jsx("span",{className:d.addingWrapper_table_error,children:o.message})]})}const Z_=[{id:1,title:"На складе",href:"/admin/product/adding/stock"},{id:2,title:"На сайте",href:"/admin/product/adding/website"}];function J_(){const t=ie().pathname;return e.jsxs("div",{className:d.products,children:[e.jsx("div",{className:d.products_buttons,children:Z_.map(o=>e.jsx(Q,{to:o.href,className:`${d.products_btn} ${o.href==t?d.products_btn_active:""}`,children:o.title},o.id))}),t=="/admin/product/adding/stock"&&e.jsx(X_,{}),t=="/admin/product/adding/website"&&e.jsx(G_,{})]})}const Q_=[{id:1,title:"Добавление",href:"/addingProducts"},{id:2,title:"Добавление на сайт",href:"/admin/product/adding"},{id:3,title:"Списание",href:"/admin/product/write-off"}];function Y_(){const t=ie().pathname;return e.jsxs("div",{className:d.products,children:[e.jsx("div",{className:d.products_buttons,children:Q_.map(o=>e.jsx(Q,{to:o.href,className:`${d.products_btn} ${t.startsWith(`${o.href}`)||t.startsWith("/admin/product-item")?d.products_btn_active:""}`,children:o.title},o.id))}),t.startsWith("/admin/product/adding")&&e.jsx(J_,{})]})}const ed="_user_title_1uizv_1",td="_user_list_1uizv_6",sd="_user_list_link_1uizv_12",od="_user_list_link_active_1uizv_26",nd="_user_form_1uizv_30",ad="_user_form_btn_1uizv_35",rd="_user_form_wrap_1uizv_51",id="_user_form_input_1uizv_57",cd="_user_form_icon_1uizv_65",ld="_user_table_1uizv_68",_d="_user_table_tbody_1uizv_71",dd="_user_table_tr_1uizv_74",pd="_user_table_th_1uizv_77",ud="_user_table_td_1uizv_85",md="_user_table_btns_1uizv_89",hd="_user_table_btn_1uizv_89",gd="_user_table_btn_blocked_1uizv_107",vd="_modal_1uizv_111",bd="_modal_active_1uizv_120",xd="_modal_wrap_1uizv_123",fd="_modal_wrap_header_1uizv_131",kd="_modal_wrap_stores_1uizv_143",yd="_modal_wrap_stores_text_1uizv_165",jd="_modal_btns_1uizv_169",wd="_modal_btn_1uizv_169",Cd="_modal_content_1uizv_193",Sd="_modal_content_text_1uizv_197",Nd="_versions_1uizv_206",Id="_versions_block_1uizv_211",$d="_versions_block_top_1uizv_216",Pd="_versions_block_top_title_1uizv_226",Dd="_versions_block_top_arrow_1uizv_230",Od="_versions_block_top_arrow_active_1uizv_239",Fd="_versions_block_dropdown_1uizv_242",Ad="_versions_block_dropdown_item_1uizv_257",Md="_versions_block_dropdown_open_1uizv_268",Bd="_shop_header_1uizv_275",Ld="_shop_header_title_1uizv_282",L={user_title:ed,user_list:td,user_list_link:sd,user_list_link_active:od,user_form:nd,user_form_btn:ad,user_form_wrap:rd,user_form_input:id,user_form_icon:cd,user_table:ld,user_table_tbody:_d,user_table_tr:dd,user_table_th:pd,user_table_td:ud,user_table_btns:md,user_table_btn:hd,user_table_btn_blocked:gd,modal:vd,modal_active:bd,modal_wrap:xd,modal_wrap_header:fd,modal_wrap_stores:kd,modal_wrap_stores_text:yd,modal_btns:jd,modal_btn:wd,modal_content:Cd,modal_content_text:Sd,versions:Nd,versions_block:Id,versions_block_top:$d,versions_block_top_title:Pd,versions_block_top_arrow:Dd,versions_block_top_arrow_active:Od,versions_block_dropdown:Fd,versions_block_dropdown_item:Ad,versions_block_dropdown_open:Md,shop_header:Bd,shop_header_title:Ld},Ye=({headers:s})=>e.jsx("thead",{className:L.user_table_thead,children:e.jsx("tr",{className:L.user_table_tr,children:s.map(t=>e.jsx("th",{className:L.user_table_th,children:t.title},t.id))})}),et=()=>{const[s,t]=u.useState(""),{setUserSearch:o}=le(),a=n=>{n.preventDefault(),o(s)};return u.useEffect(()=>{s==""&&o("")},[s]),e.jsxs("form",{action:"",className:L.user_form,children:[e.jsxs("div",{className:L.user_form_wrap,children:[e.jsx("input",{type:"text",className:L.user_form_input,placeholder:"Поиск пользователей",onChange:n=>t(n.target.value),value:s}),e.jsx(E,{className:L.user_form_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:L.user_form_btn,onClick:n=>a(n),children:"Найти"})]})},tt=({arr:s,showStore:t})=>{const{usersList:o,userSearch:a,openModalAdmin:n,openAppointUser:l,shopListAdmin:_,setOpenAppointUser:r,setOpenModalAdmin:i,setUsersList:c,setEditUserAdmin:p,setShopListDropdownAdmin:m,setCloseBlock:g,setFilteredShopListAdmin:h}=le(),f=ie().pathname,[y,D]=u.useState([]);u.useEffect(()=>{let x=s;f==="/clients"?x=s.filter(b=>b.isUser):f==="/employees"&&(x=s.filter(b=>!b.isUser)),x=x==null?void 0:x.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())),D(x)},[a,o,s,f]);const C=x=>{const b=o.map(S=>S.id===x?{...S,isBlocked:!S.isBlocked}:S);c(b)},I=x=>{i(!0),g(!0);const b=o.find(O=>O.id==x),S=[{id:oe(),title:"Магазин 1",order:1},{id:oe(),title:"Магазин 2",order:2},{id:oe(),title:"Магазин 3",order:3}],w=S.filter(O=>!(b!=null&&b.shopList.some(B=>B.title===O.title)));console.log("editUser",b),console.log("shopListAdminArr",S),b&&(m(b.shopList),p(b),h(w))},j=x=>{r(!0),g(!0),m([]),h(_);const b=o.find(S=>S.id==x);b&&p(b)},k=n||l;return e.jsx(e.Fragment,{children:e.jsx("tbody",{className:L.user_table_tbody,children:y.map(x=>e.jsxs("tr",{children:[e.jsx("td",{className:L.user_table_td,children:x.name}),e.jsx("td",{className:L.user_table_td,children:t?x.shopList.map(b=>e.jsxs("p",{children:[b.title," ",`(${b.position})`]},b.id)):e.jsx("p",{children:x.isEmployes?"сотрудник":"пользователь"})}),e.jsx("td",{className:L.user_table_td,children:t?"Админ 1":x.registerDate}),e.jsx("td",{className:L.user_table_btns,children:x!=null&&x.isUser?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`${L.user_table_btn} ${x.isBlocked?L.user_table_btn_blocked:""}`,onClick:()=>C(x.id),children:x.isBlocked?"Разблокировать":"Заблокировать"}),e.jsx("button",{className:L.user_table_btn,onClick:()=>j(x.id),disabled:k,children:"Назначить"})]}):e.jsx("button",{className:L.user_table_btn,onClick:()=>I(x.id),style:{background:"#B5FFC7"},disabled:k,children:"Изменить"})})]},x.id))})})};function ct({color:s="black",className:t,header:o,isEnabled:a,dropdownItem:n,margin:l,versionList:_,closeBlock:r}){const{shopListAdmin:i,shopListDropdownAdmin:c,filteredShopListAdmin:p,setShopListDropdownAdmin:m,setShopListAdmin:g}=le(),[h,v]=u.useState("Выберете должность"),[f,y]=u.useState("Выберете магазин"),[D,C]=u.useState(!1);u.useEffect(()=>{n!=null&&n.position?v(n.position):v("Выберете должность")},[n==null?void 0:n.position]),u.useEffect(()=>{r||C(!1)},[r]);const I=(b,S)=>{if(n){v(b.title);const w=c.filter(B=>B.title==n.title),O=c.findIndex(B=>B.title==n.title);w[0].position=b.title,c.splice(O,1,w[0]),m(c)}else y(b.title);if(a&&!c.some(w=>w.title==b.title)){v("Выберете должность");const w={...b,originalIndex:S};m([...c,w]),g(p.filter((O,B)=>B!==S))}C(!1)},j=b=>{const S=c.filter(w=>w.id!==b.id);if(m(S),b.originalIndex!==void 0){const w=[...i];w.splice(b.originalIndex,0,b),g(w)}else{const w=[...p,b].sort((O,B)=>O.order!==void 0&&B.order!==void 0?O.order-B.order:0);g(w),console.log("arr",w)}},k=()=>{C(!D)};function x(b,S){return b.order&&S.order&&(b==null?void 0:b.order)>(S==null?void 0:S.order)?1:-1}return e.jsx("div",{className:t??L.versions,style:{marginBottom:l},children:e.jsxs("div",{className:L.versions_block,children:[o&&e.jsxs("div",{className:L.shop_header,children:[e.jsx("p",{className:L.shop_header_title,children:n==null?void 0:n.title}),e.jsx("button",{onClick:()=>n&&j(n),children:e.jsx(E,{name:"XMarkIcon",width:16})})]}),e.jsxs("div",{className:L.versions_block_top,children:[e.jsx("h2",{className:L.versions_block_top_title,style:{color:s},children:n?h:f}),e.jsx("button",{className:L.versions_block_top_btn,onClick:()=>k(),children:e.jsx("div",{className:`${L.versions_block_top_arrow} ${D?L.versions_block_top_arrow_active:""}`,children:e.jsx(E,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${L.versions_block_dropdown} ${D?L.versions_block_dropdown_open:""}`,children:_==null?void 0:_.sort(x).map((b,S)=>e.jsx("span",{className:L.versions_block_dropdown_item,onClick:()=>I(b,S),children:b.title},S))})]})})}const st=()=>{const{currentShopModal:s,shopListDropdownAdmin:t,shopListPositionAdmin:o,isEnabled:a,openModalAdmin:n,editUserAdmin:l,shopListAdmin:_,usersList:r,openAppointUser:i,closeBlock:c,filteredShopListAdmin:p,setCurrentShopModal:m,setShopListPositionAdmin:g,setCurrentShopPosition:h,setOpenModalAdmin:v,setShopListAdmin:f,setUsersList:y,setOpenAppointUser:D,setCloseBlock:C,setFilteredShopListAdmin:I}=le();u.useEffect(()=>{},[p]);const j=()=>{const w=r.findIndex(O=>O.id==(l==null?void 0:l.id));l&&t.every(O=>"position"in O)&&(l.shopList=t,r.splice(w,1,l),y(r),f(_),console.log("filteredShopListAdmin",p)),console.log("shopListAdmin",_),b(),t.length==0&&k()},k=()=>{if(l){l.isUser=!0,l.isEmployes=!1,l.shopList=[];const w={id:oe(),title:"",position:"пользователь"};l.shopList=[{...w}]}b()},x=()=>{const w=r.findIndex(O=>O.id==(l==null?void 0:l.id));if(l&&(l.shopList=t,r.splice(w,1,l),l.isUser=!1,l.isEmployes=!0,y(r),D(!1),!(l!=null&&l.shopList.some(O=>"position"in O)))){l.isUser=!0,l.shopList=[];const O={id:oe(),title:"",position:"пользователь"};l.shopList=[{...O}]}},b=()=>{f(_),I([]),v(!1),D(!1),C(!1),console.log("close modal")},S=u.useRef(null);return u.useEffect(()=>{const w=O=>{var B;S.current&&!((B=S==null?void 0:S.current)!=null&&B.contains(O.target))&&b()};return n||i?document.addEventListener("mousedown",w):document.removeEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[n,i]),e.jsx("div",{className:`${L.modal} ${n?L.modal_active:""} ${i?L.modal_active:""}`,children:e.jsxs("div",{ref:S,className:L.modal_wrap,children:[e.jsxs("div",{className:L.modal_wrap_header,children:[e.jsx("h3",{children:"Редактирование должность"}),e.jsx("button",{onClick:()=>b(),children:e.jsx(E,{name:"XMarkIcon",width:24})})]}),e.jsxs("div",{className:L.modal_content,children:[e.jsxs("p",{className:L.modal_content_text,children:["Логин: ",l==null?void 0:l.name]}),e.jsxs("p",{className:L.modal_content_text,children:["Статус:",l==null?void 0:l.shopList.map(w=>e.jsx("span",{children:w.position},w.id))]}),e.jsx(ct,{color:"#717171",setVersionList:f,currentVersion:s,setCurrentVersion:m,isEnabled:a,versionList:p||_,closeBlock:c}),e.jsxs("div",{className:L.modal_wrap_stores,children:[e.jsx("p",{className:L.modal_wrap_stores_text,children:"Выбрано магазинов: "}),t==null?void 0:t.map((w,O)=>e.jsx(ct,{dropdownItem:w,margin:"12px",color:"#717171",versionList:o,setVersionList:g,setCurrentVersion:h,header:!0,closeBlock:c},O))]}),e.jsx("div",{className:L.modal_btns,children:i?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:L.modal_btn,onClick:()=>b(),style:{background:"#fff"},children:"Отмена"}),e.jsx("button",{className:L.modal_btn,onClick:()=>x(),children:"Сохранить"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:L.modal_btn,onClick:()=>k(),children:"Уволить"}),e.jsx("button",{className:L.modal_btn,onClick:()=>j(),children:"Сохранить"})]})})]})]})})},qd=[{id:"1",title:"Логин"},{id:"2",title:"Группа"},{id:"3",title:"Дата регистрации"},{id:"4",title:""}],Wd=()=>{const{usersList:s}=le();return e.jsxs(e.Fragment,{children:[e.jsx(et,{}),e.jsxs("table",{className:L.user_table,children:[e.jsx(Ye,{headers:qd}),e.jsx(tt,{arr:s})]}),e.jsx(st,{})]})},Ed=[{id:1,title:"Логин"},{id:2,title:"Группа"},{id:3,title:"Дата регистрации"},{id:4,title:""}],Ud=()=>{const{usersList:s}=le(),t=s.filter(o=>o.isUser==!0);return e.jsxs(e.Fragment,{children:[e.jsx(et,{}),e.jsxs("table",{className:L.user_table,children:[e.jsx(Ye,{headers:Ed}),e.jsx(tt,{arr:t})]}),e.jsx(st,{})]})},Rd=[{id:1,title:"Логин"},{id:2,title:"Магазины"},{id:3,title:"Кто назначил"},{id:4,title:"Дата назначение"}],Td=()=>{const{usersList:s}=le(),t=s.filter(o=>o.isUser!==!0);return e.jsxs(e.Fragment,{children:[e.jsx(et,{}),e.jsxs("table",{className:L.user_table,children:[e.jsx(Ye,{headers:Rd}),e.jsx(tt,{arr:t,showStore:!0})]}),e.jsx(st,{})]})},zd=[{id:1,title:"Все",href:"/admin/users/all"},{id:2,title:"Клиенты",href:"/admin/users/clients"},{id:3,title:"Сотрудники",href:"/admin/users/employees"}],Vd=()=>{const t=ie().pathname;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:L.users,children:e.jsxs("div",{className:L.users_header,children:[e.jsx("h2",{className:L.user_title,children:"Пользователи"}),e.jsx("ul",{className:L.user_list,children:zd.map(o=>e.jsx("li",{children:e.jsx(Q,{className:`${L.user_list_link} ${t==o.href?L.user_list_link_active:""}`,to:o.href,children:o.title})},o.id))})]})}),e.jsxs("div",{children:[t=="/admin/users/all"&&e.jsx(Wd,{}),t=="/admin/users/clients"&&e.jsx(Ud,{}),t=="/admin/users/employees"&&e.jsx(Td,{})]})]})},lt=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Фото"}];function Kd(){const[s,t]=u.useState(""),[o]=u.useState(1),[a]=u.useState(10),[n,l]=u.useState([]);u.useEffect(()=>{_()},[s]);async function _(){const r=Ie.get("multi-store");try{const i=await ce.get(`nomenclatures?multiStoreId=${r}&page=${o}&perPage=${a}`),c=await i.data.data;console.log("res",i),l([...c])}catch(i){console.log("Ошибка произошла при получении всх продуктов со склада",i)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:d.addingWrapper,children:[e.jsxs("h2",{className:d.addingWrapper_title,children:["Всего товара: ",n.length]}),e.jsxs("form",{action:"",className:d.addingWrapper_form,children:[e.jsxs("div",{className:d.addingWrapper_search,children:[e.jsx("input",{type:"text",className:d.addingWrapper_search_input,placeholder:"Поиск товара",onChange:r=>t(r.target.value),value:s}),e.jsx(E,{className:d.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:d.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:d.addingWrapper_table,children:[e.jsx("thead",{className:d.addingWrapper_thead,children:e.jsx("tr",{className:d.addingWrapper_thead_tr,children:lt.map(r=>e.jsx("th",{className:d.addingWrapper_thead_th,children:r.title},r.id))})}),e.jsx("tbody",{className:d.addingWrapper_tbody,children:n&&(n==null?void 0:n.map(r=>e.jsx("tr",{className:d.addingWrapper_tbody_tr,children:lt.map(i=>{var c,p;return e.jsxs("td",{className:d.addingWrapper_tbody_td,children:[i.title=="Наименование"?e.jsx("span",{children:((c=r==null?void 0:r.name)==null?void 0:c.ru)&&((p=r==null?void 0:r.name)==null?void 0:p.ru)}):"",i.title=="Штрих-код"?e.jsx("span",{children:r==null?void 0:r.barcode}):""]},i.id)})},r==null?void 0:r.id)))})]})]})})}const _t=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Фото"}];function Hd(){const[s,t]=u.useState(""),[o]=u.useState(1),[a]=u.useState(10),[n,l]=u.useState([]);u.useEffect(()=>{_()},[s]);async function _(){const r=Ie.get("multi-store");try{const i=await ce.get(`web-nomenclatures?multiStoreId=${r}&page=${o}&perPage=${a}`),c=await i.data.data;console.log("res",i),l([...c])}catch(i){console.log("Ошибка произошла при получении всх продуктов со склада",i)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:d.addingWrapper,children:[e.jsxs("h2",{className:d.addingWrapper_title,children:["Всего товара: ",n.length]}),e.jsxs("form",{action:"",className:d.addingWrapper_form,children:[e.jsxs("div",{className:d.addingWrapper_search,children:[e.jsx("input",{type:"text",className:d.addingWrapper_search_input,placeholder:"Поиск товара",onChange:r=>t(r.target.value),value:s}),e.jsx(E,{className:d.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:d.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:d.addingWrapper_table,children:[e.jsx("thead",{className:d.addingWrapper_thead,children:e.jsx("tr",{className:d.addingWrapper_thead_tr,children:_t.map(r=>e.jsx("th",{className:d.addingWrapper_thead_th,children:r.title},r.id))})}),e.jsx("tbody",{className:d.addingWrapper_tbody,children:n==null?void 0:n.map(r=>e.jsx("tr",{className:d.addingWrapper_tbody_tr,children:_t.map(i=>e.jsx("td",{className:d.addingWrapper_tbody_td,children:i.title=="Наименование"?e.jsx("span",{children:r==null?void 0:r.title}):""},i.id))},r==null?void 0:r.id))})]})]})})}function Xd(){const t=ie().pathname,{shopsStocks:o}=Ke();return e.jsxs("div",{className:d.layout,children:[e.jsx("ul",{className:d.layout_buttons,children:o.map(a=>e.jsx("li",{children:e.jsx(Q,{to:`/admin/shops/shop/${a.url}`,className:`${d.layout_btn} ${t==`/admin/shops/shop/${a.url}`?d.layout_btn_active:""}`,children:a.title})},a.id))}),e.jsxs("div",{className:d.layout_content,children:[t==="/admin/shops/shop/stock"&&e.jsx(Kd,{}),t==="/admin/shops/shop/website"&&e.jsx(Hd,{})]})]})}function Gd(){const{shopsAmount:s,currentShop:t,setCurrentShop:o}=Ke(),n=ie().pathname;return e.jsxs("div",{className:d.layout,children:[e.jsx("h2",{className:d.layout_title,children:"Магазины"}),e.jsx("ul",{className:d.layout_buttons,children:s.map(l=>e.jsx("li",{children:e.jsx(Q,{to:"/admin/shops/shop",className:`${d.layout_btn} ${t==l.url?d.layout_btn_active:""}`,onClick:()=>o(l.url),children:l.title})},l.id))}),n.startsWith("/admin/shops/shop")&&e.jsx("div",{className:d.layout_content,children:e.jsx(Xd,{})})]})}function Zd({item:s}){const{setErrorModal:t}=be(),o=a=>{a.stopPropagation()};return e.jsx("div",{className:d.errorWrapper,onClick:()=>t({status:!1,message:""}),children:e.jsxs("div",{className:d.errorWrapper_block,onClick:o,children:[e.jsx("button",{className:d.errorWrapper_block_close,onClick:()=>t({status:!1,message:""}),children:e.jsx(E,{name:"XMarkIcon",width:25,height:25})}),e.jsx("span",{children:s.message})]})})}function Jd({localNewImage:s,setLocalNewImage:t}){const[o,a]=u.useState(null);function n(p,m){return p.order>m.order?1:-1}function l(p,m){a(m)}function _(p){p.target.style.background="white"}function r(p){p.preventDefault(),p.target.style.background="lightgray"}function i(p,m){p.preventDefault(),p.target.style.background="white";const g=s&&s.map(h=>h.id===m.id?{...h,order:(o==null?void 0:o.order)||h.order}:h.id===(o==null?void 0:o.id)?{...h,order:m.order}:h).sort((h,v)=>h.order-v.order);console.log(555,"newImages",g),g&&t(g),a(null)}const c=p=>{const m=s.filter(g=>g.id!==p);t([...m])};return u.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:s&&s.sort(n).map((p,m)=>e.jsxs("div",{className:`${d.productItem_photo} ${m==0?d.productItem_photo_active:""}`,draggable:!0,onDragStart:g=>l(g,p),onDragLeave:g=>_(g),onDragEnd:g=>_(g),onDragOver:g=>r(g),onDrop:g=>i(g,p),children:[e.jsx("div",{className:d.productItem_photo_img,children:e.jsx("img",{src:p.src?`https://api.mcrm.uz/${p.src}`:p.localSrc?p.localSrc:"/add.webp",width:100,height:140,alt:"img"})}),e.jsx("div",{className:d.productItem_photo_close,onClick:()=>c(p.id),children:e.jsx(E,{width:18,height:18,name:"XMarkIcon"})})]},p.id))})}function Ct({stockName:s,myMxikCode:t,localNewImage:o,setLocalNewImage:a,setLocalFormData:n,localFormData:l}){const{errorModal:_}=be(),r=u.useRef(null),i=()=>{r.current!=null&&r.current.click()},c=async p=>{var g,h;const m=(h=(g=p==null?void 0:p.target)==null?void 0:g.files)==null?void 0:h[0];if(m&&["image/jpeg","image/png","image/webp"].includes(m.type)){console.log(2,"выбрал новую картинку и она прошла проверку на рассширение files",m);const v=new FormData;v.append("files[]",m),console.log(3,"создал и инициализировал formData и сохранил в setLocalFormData(formData) formData",v),m&&n([...l,m]);const f=o&&(o==null?void 0:o.length)>0?o.reduce((D,C)=>C.order>D?C.order:D,-1/0):1,y=new FileReader;y.onload=D=>{var C;if((C=D.target)!=null&&C.result){const I={id:oe(),order:f?f+1:1,localSrc:URL.createObjectURL(m)},j=[...o,I];console.log(4,"создал новый объект {id,order,localSrc} и localSrc добавил выбранную картинку files newImages",j),a&&a([...j]),console.log(5,"сохранил этот объект в массив setLocalNewImage")}},y.readAsDataURL(m),console.log(6,"отрисовал выбранную картинку files",m),r.current&&(r.current.value="")}};return e.jsxs("div",{className:d.productItem_top,children:[_.status&&e.jsx(Zd,{item:_}),e.jsx("h1",{className:d.productItem_title,children:"Добавление объявления"}),e.jsx("h4",{className:d.productItem_basePhoto,children:o&&o.length>0?"Главное фото":""}),e.jsxs("div",{className:d.productItem_photos,children:[e.jsx(Jd,{stockName:s,myMxikCode:t,localNewImage:o,setLocalNewImage:a}),e.jsxs("div",{className:`${d.productItem_photo} ${d.productItem_add}`,onClick:i,children:[e.jsx(E,{width:24,height:24,name:"PlusIcon",color:"rgba(191, 187, 187, 1)"}),e.jsx("span",{className:d.productItem_add_text,children:"Добавить еще"}),e.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",style:{display:"none"},onChange:c,ref:r})]})]}),e.jsx("p",{className:d.productItem_photos_desc,children:"Переместите фото чтоб поменят их порядок вывода"})]})}function St({localCategory:s,productName:t,productDescription:o,setProductDescription:a,setProductName:n,myBarcode:l,vendorCode:_,setVendorCode:r,myPrice:i}){var y,D,C,I;const{pickedCategory:c,currentProduct:p,setArticleModal:m,setOpenModalCategory:g}=be();u.useEffect(()=>{(c||s)&&f()},[c,s]);const[h,v]=u.useState(""),f=async()=>{try{const k=(await ce.get(`categories/${c.id?c.id:s}`)).data;v(k.name.ru)}catch(j){console.log("Ошибка произошла при получении категонии по id",j)}};return e.jsxs("div",{className:d.productItem_left,children:[e.jsxs("div",{className:d.productItem_left_info,children:[e.jsxs("div",{className:d.productItem_left_item,children:[e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"Артикул"}),e.jsx("input",{type:"text",placeholder:"например:  #DF156651",className:d.productItem_left_item_top_input,value:_||"",onChange:j=>r(j.target.value)})]}),e.jsx("div",{className:d.productItem_left_item_bottom,children:e.jsx("button",{className:d.productItem_left_item_button,onClick:()=>m(!0),children:"Изменить"})})]}),e.jsxs("div",{className:d.productItem_left_item,children:[e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"Категория:"}),e.jsx("span",{children:h||((D=(y=p==null?void 0:p.category)==null?void 0:y.name)!=null&&D.ru?(I=(C=p==null?void 0:p.category)==null?void 0:C.name)==null?void 0:I.ru:"")})]}),e.jsx("div",{className:d.productItem_left_item_bottom,children:e.jsx("button",{className:d.productItem_left_item_button,onClick:()=>g(!0),children:c!=null&&c.name||p!=null&&p.category?"Изменить":"Выбрать"})})]}),e.jsx("div",{className:d.productItem_left_item,children:e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"Штрих-код"}),e.jsx("span",{children:l})]})}),e.jsx("div",{className:d.productItem_left_item,children:e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"Цена:"}),e.jsx("span",{children:i})]})}),e.jsx("div",{className:d.productItem_left_item,children:e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"PDF:"}),e.jsx("button",{className:d.productItem_left_item_button,children:"Загрузить"})]})})]}),e.jsxs("form",{className:d.productItem_left_form,children:[e.jsxs("label",{className:d.productItem_left_form_label,children:[e.jsx("span",{className:d.productItem_left_form_title,children:"Заголовок"}),e.jsx("input",{className:d.productItem_left_form_input,type:"text",value:t||"",onChange:j=>n(j.target.value)})]}),e.jsxs("label",{className:d.productItem_left_form_label,children:[e.jsx("span",{className:d.productItem_left_form_title,children:"Описание товара"}),e.jsx("textarea",{onChange:j=>a(j.target.value),value:o||"",className:d.productItem_left_form_textarea}),e.jsx("p",{className:d.productItem_left_form_size,children:e.jsx("span",{children:"200/200"})})]})]})]})}function Qd({color:s="black",title:t="",extraOptionsList:o,className:a,openBlock:n,setOpenBlock:l,setExtraOptionsList:_}){const r=u.useRef([]);u.useEffect(()=>{r.current.length>0&&i()},[o]);const i=()=>{o&&o.forEach(p=>{r.current.forEach(m=>{m.name==p.title&&(m.checked=p.isActive)})})},c=(p,m)=>{const g=JSON.parse(JSON.stringify(o));g.forEach(h=>{h.title==m&&(h.isActive=!h.isActive)}),_&&_(g)};return e.jsxs("div",{className:a??R.versionExtraOptions,children:[t&&e.jsx("span",{className:R.versionExtraOptions_title,children:t}),e.jsxs("div",{className:R.versionExtraOptions_block,children:[e.jsxs("div",{className:R.versionExtraOptions_block_top,onClick:()=>l&&l(!n),children:[e.jsx("h2",{className:R.versionExtraOptions_block_top_title,style:{color:s},children:t||"Выберите параметры"}),e.jsx("button",{className:R.versionExtraOptions_block_top_btn,children:e.jsx("div",{className:`${R.versionExtraOptions_block_top_arrow} ${n?R.versionExtraOptions_block_top_arrow_active:""}`,children:e.jsx(E,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${R.versionExtraOptions_block_dropdown} ${n?R.versionExtraOptions_block_dropdown_open:""}`,children:o&&o.map((p,m)=>e.jsxs("label",{className:R.versionExtraOptions_block_dropdown_item,children:[p.title,e.jsx("input",{ref:g=>{g&&(r.current[m]=g)},type:"checkbox",name:p.title,"data-type":p.title,onChange:g=>c(g,p.title)})]},p.id))})]})]})}function Yd({color:s="black",title:t="",versionList:o,className:a}){const[n,l]=u.useState(!1),[_,r]=u.useState("");u.useEffect(()=>{o==null||o.forEach(p=>{p.isActive&&r(p.title)})},[]);const i=()=>{l(!n)},c=p=>{o==null||o.forEach(m=>m.isActive=!1),o==null||o.forEach(m=>{m.title==p.title&&(m.isActive=!0,r(m.title))}),i()};return e.jsxs("div",{className:a??R.version3,children:[e.jsx("span",{className:R.version3_title,children:t}),e.jsxs("div",{className:R.version3_block,children:[e.jsxs("div",{className:R.version3_block_top,onClick:()=>i(),children:[e.jsx("h2",{className:R.version3_block_top_title,style:{color:s},children:_||"Выбрать"}),e.jsx("button",{className:R.version3_block_top_btn,children:e.jsx("div",{className:`${R.version3_block_top_arrow} ${n?R.version3_block_top_arrow_active:""}`,children:e.jsx(E,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${R.version3_block_dropdown} ${n?R.version3_block_dropdown_open:""}`,style:{height:`${o&&o.length==1?"50px":""}`},children:o&&o.map(p=>e.jsx("span",{className:R.version3_block_dropdown_item,onClick:()=>c(p),children:o.length>1?p.title:e.jsx("input",{type:"text",placeholder:"Введите вруччную",style:{width:"120px"}})},p.id))})]})]})}function ep({extraOptionsStatus:s,localCategory:t,setExtraOptionsStatus:o,extraOptions:a}){const[n,l]=u.useState(!1);return u.useEffect(()=>{},[t]),e.jsxs("div",{className:d.productItem_right_item,children:[e.jsxs("div",{className:d.productItem_right_top,onClick:()=>o(!s),children:[e.jsx("h5",{className:d.productItem_right_title,children:"Доп. параметры"}),e.jsx(De,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)",status:s})]}),e.jsxs("div",{className:`${d.productItem_right_bottom_items} ${s?d.productItem_right_bottom_items_active:""}`,children:[e.jsx("div",{className:d.productItem_right_bottom_item,children:e.jsx(Qd,{color:"",extraOptionsList:a,openBlock:n,setOpenBlock:l})}),a.map(_=>{if(_.isActive)return e.jsxs("div",{className:d.productItem_right_bottom_item,children:[e.jsx(Yd,{color:"",title:_.title,versionList:_.type}),e.jsx("button",{className:d.productItem_right_bottom_del,children:"Удалить"})]},_.id)})]})]})}function dt({color:s="black",title:t="",versionList:o=[{id:"1",title:"версия 1",isActive:!0,navIcon:""},{id:"2",title:"версия 2",isActive:!1,navIcon:""},{id:"3",title:"версия 3",isActive:!1,navIcon:""}],className:a,openBlock:n,currentVersion:l,setOpenBlock:_,setCurrentVersion:r,setVersionList:i}){const c=p=>{r&&r(p.title);const m=o.map(v=>({id:v.id,title:v.title,isActive:!1})),g=m.find(v=>v.id==p.id),h=m.findIndex(v=>v.id==p.id);g&&(g.isActive=!0,m.splice(h,1,g),i&&i(m))};return e.jsxs("div",{className:a??R.version3,children:[e.jsx("span",{className:R.version3_title,children:t}),e.jsxs("div",{className:R.version3_block,children:[e.jsxs("div",{className:R.version3_block_top,children:[e.jsx("h2",{className:R.version3_block_top_title,style:{color:s},children:l}),e.jsx("button",{className:R.version3_block_top_btn,onClick:()=>_&&_(!n),children:e.jsx("div",{className:`${R.version3_block_top_arrow} ${n?R.version3_block_top_arrow_active:""}`,children:e.jsx(E,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${R.version3_block_dropdown} ${n?R.version3_block_dropdown_open:""}`,children:o.map(p=>e.jsx("span",{className:R.version3_block_dropdown_item,onClick:()=>c(p),children:p.title},p.id))})]})]})}function tp({brieflyProductStatus:s,setBrieflyProductStatus:t}){return e.jsxs("div",{className:d.productItem_right_item,children:[e.jsxs("div",{className:d.productItem_right_top,onClick:()=>t(!s),children:[e.jsx("h5",{className:d.productItem_right_title,children:"Коротко о товаре"}),e.jsx(De,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)",status:s})]}),e.jsx("div",{className:`${d.productItem_right_bottom_items} ${s?d.productItem_right_bottom_items_active:""}`,children:e.jsxs("div",{className:`${d.productItem_right_bottom_item} ${d.productItem_right_bottom_row}`,children:[e.jsx(dt,{color:"",title:"Объем, л"}),e.jsx(dt,{color:"",title:"Кол-во в упаковке"})]})})]})}function Nt({currentProduct:s,extraOptionsStatus:t,setExtraOptionsStatus:o,brieflyProductStatus:a,setBrieflyProductStatus:n,localCategory:l,extraOptions:_,setExtraOptions:r}){return e.jsxs("div",{className:d.productItem_right,children:[e.jsx("div",{className:d.productItem_right_item,children:e.jsxs("div",{className:d.productItem_right_top,children:[e.jsx("h5",{className:d.productItem_right_title,children:"Коментарии"}),e.jsx(De,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)"})]})}),e.jsx(ep,{extraOptionsStatus:t,setExtraOptionsStatus:o,localCategory:l,extraOptions:_,setExtraOptions:r,currentProduct:s}),e.jsx(tp,{brieflyProductStatus:a,setBrieflyProductStatus:n})]})}function It({stockName:s,setAdminSettings:t}){return e.jsxs("div",{className:d.settings_content_buttons,children:[e.jsx(Q,{to:s=="stock"?"/admin/product/adding/stock":"/admin/product/adding/website",className:`${d.settings_content_btn} ${d.settings_content_btn_cancel}`,children:"Отмена"}),e.jsx("button",{className:`${d.settings_content_btn} ${d.settings_content_btn_save}`,onClick:()=>t(),children:s=="website"?"Сохранить":"Добавить"})]})}function sp(){const{setArticleModal:s}=be();return e.jsxs("div",{className:d.articleModal_block_nav,children:[e.jsx("h2",{className:d.articleModal_block_title,children:"Артикул"}),e.jsx("button",{onClick:()=>s(!1),children:e.jsx(E,{name:"XMarkIcon"})})]})}function op({productName:s}){const[t]=u.useState(""),[o]=u.useState("");return e.jsxs("div",{className:d.articleModal_block_info,children:[e.jsxs("div",{className:d.articleModal_block_info_item,children:[e.jsx("span",{children:"Товар:"}),e.jsx("span",{children:s})]}),e.jsxs("div",{className:d.articleModal_block_info_item,children:[e.jsx("span",{children:"Обьем:"}),e.jsxs("span",{children:[t,"1л"]})]}),e.jsxs("div",{className:d.articleModal_block_info_item,children:[e.jsx("span",{children:"Жирность:"}),e.jsxs("span",{children:[o,"1%"]})]})]})}function $t({item:s}){return e.jsxs("div",{className:d.articleModal_block_recommended_item,children:[e.jsx("h3",{className:d.articleModal_block_recommended_item_title,children:s.title}),e.jsxs("div",{className:d.articleModal_block_recommended_content,children:[e.jsx("div",{className:d.articleModal_block_recommended_img,children:e.jsx("img",{src:"/молоко.jpg",alt:""})}),e.jsxs("div",{className:d.articleModal_block_recommended_info,children:[e.jsxs("div",{className:d.articleModal_block_recommended_desc,children:[e.jsxs("p",{children:["Жирность ",e.jsx("span",{children:"1%"})]}),e.jsxs("p",{children:["обьем ",e.jsx("span",{children:"1л"})]})]}),e.jsxs("div",{className:d.articleModal_block_recommended_desc,children:[e.jsxs("p",{children:["Жирность ",e.jsx("span",{children:"1.5%"})]}),e.jsxs("p",{children:["обьем ",e.jsx("span",{children:"1.5л"})]})]}),e.jsxs("div",{className:d.articleModal_block_recommended_desc,children:[e.jsxs("p",{children:["Жирность ",e.jsx("span",{children:"3%"})]}),e.jsxs("p",{children:["обьем ",e.jsx("span",{children:"1л"})]})]})]}),e.jsx("h2",{className:d.articleModal_block_recommended_article,children:s.article})]})]})}const np=[{id:oe(),title:"Молоко Nestle",article:"#DF262515"}];function ap(){return e.jsxs("div",{className:d.articleModal_block_recommended,children:[e.jsx("h2",{className:d.articleModal_block_recommended_title,children:"Рекомендуем"}),e.jsx("div",{className:d.articleModal_block_recommended_list,children:np.map(s=>e.jsx($t,{item:s},s.id))})]})}function rp(){return e.jsx("div",{className:d.articleModal_block_search,children:e.jsxs("div",{className:d.articleModal_block_search_box,children:[e.jsxs("div",{className:d.articleModal_block_search_input,children:[e.jsx("input",{type:"text",placeholder:"Поиск товара"}),e.jsx(E,{name:"MagnifyingGlassIcon",width:17,height:17})]}),e.jsx("button",{className:d.articleModal_block_search_btn,children:"Найти"})]})})}const ip=[{id:oe(),title:"Молоко Nestle",article:"#DF262515"},{id:oe(),title:"Молоко Nestle",article:"#DF262515"},{id:oe(),title:"Молоко Nestle",article:"#DF262515"}];function cp(){return e.jsx("div",{className:d.articleModal_block_found,children:ip.map(s=>e.jsx($t,{item:s},s.id))})}function Pt({productName:s}){return e.jsx("div",{className:d.articleModal,children:e.jsxs("div",{className:d.articleModal_block,children:[e.jsx(sp,{}),e.jsx(op,{productName:s}),e.jsx(ap,{}),e.jsx(rp,{}),e.jsx(cp,{}),e.jsx("div",{className:d.articleModal_block_buttonBox,children:e.jsx("button",{className:d.articleModal_block_button,children:"Выбрать"})})]})})}function lp(){const s=Fe(),t=ie(),{id:o}=pt(),{openModalCategory:a}=be(),{pickedCategory:n,currentProduct:l,setErrorModal:_,setCurrentProduct:r,setPickedCategory:i,articleModal:c}=be(),[p,m]=u.useState(""),[g,h]=u.useState(0),[v,f]=u.useState(0),[y,D]=u.useState(Number(o)),[C,I]=u.useState(!1),[j,k]=u.useState([]),[x,b]=u.useState(!1),[S,w]=u.useState(""),[O,B]=u.useState(""),[q,V]=u.useState([]),[N,W]=u.useState([]);async function T(){try{return await(await ce.get(`nomenclatures/${o}`)).data}catch(P){console.log("Ошибка произошла при получении продукта со склада по id",P)}}u.useEffect(()=>{i({})},[t.pathname]),u.useEffect(()=>{A()},[o,n]);async function A(){var $;const P=await T();P&&(m(($=P==null?void 0:P.name)==null?void 0:$.ru),r({...P}),D(P==null?void 0:P.categoryId),h(P==null?void 0:P.barcode),f(P==null?void 0:P.price))}const ye=async()=>{if(l){n.id&&(await he(),D(n.id));const P=await Ce(N),$=S||await ke(),G={nomenclatureId:l.id,title:p,article:$||null,images:P.length>0?[...P]:null,description:O||null,document:"string"};console.log(333333,"newProduct",G),await fe(G),i({}),k([]),s("/admin/product/adding/stock",{replace:!0})}else _({status:!0,message:'"Выберите категорию"'})};async function fe(P){try{await ce.post("web-nomenclatures",P)}catch($){console.log("Ошибка произошла при добавлении web nomenclatures",$)}}async function he(){try{await ce.patch(`nomenclatures/${o}`,{categoryId:n.id}),D(n.id)}catch(P){console.log("Ошибка произошла при изменении котегории на складе",P)}}const Ce=async P=>{if(P){const $=new FormData;P.forEach((G,Y)=>{$.append(`files[${Y}]`,G)});try{return await(await ce.post("media-objects/uploads",$)).data}catch(G){console.error("Ошибка при добавлении картинок на сервер",G)}}},ke=async()=>{const P=Ie.get("multi-store");try{const $=await ce.get(`web-credentials/${P}`);return console.log("fetchArticle res",$),$.data.article}catch($){console.log("Ошибка при получении артикля",$)}};return e.jsxs("div",{className:d.productItem,children:[a&&e.jsx(ut,{}),e.jsx(Ct,{stockName:"stock",myMxikCode:o,localFormData:N,setLocalFormData:W,localNewImage:q,setLocalNewImage:V}),e.jsxs("div",{className:d.productItem_settings,children:[e.jsx(St,{myPrice:v,setMyPrice:f,myBarcode:g,setMyBarcode:h,localCategory:y,productName:p,productDescription:O,setProductDescription:B,setProductName:m,vendorCode:S,setVendorCode:w}),e.jsx(Nt,{extraOptionsStatus:C,setExtraOptionsStatus:I,brieflyProductStatus:x,setBrieflyProductStatus:b,localCategory:y,extraOptions:j,setExtraOptions:k,currentProduct:l})]}),e.jsx(It,{stockName:"stock",setAdminSettings:ye}),c&&e.jsx(Pt,{productName:p})]})}function _p(){const s=Fe(),t=ie(),{id:o}=pt(),{openModalCategory:a}=be(),{pickedCategory:n,webCurrentProduct:l,setWebCurrentProduct:_,setErrorModal:r,setPickedCategory:i,articleModal:c}=be(),[p,m]=u.useState(""),[g,h]=u.useState(0),[v,f]=u.useState(0),[y,D]=u.useState(0),[C,I]=u.useState(Number(o)),[j,k]=u.useState(!1),[x,b]=u.useState([]),[S,w]=u.useState(!1),[O,B]=u.useState(""),[q,V]=u.useState(""),[N,W]=u.useState([]),[T,A]=u.useState([]);async function ye(){try{return await(await ce.get(`web-nomenclatures/${o}`)).data}catch($){console.log("Ошибка произошла при получении продукта с сайта по id",$)}}u.useEffect(()=>{i({})},[t.pathname]),u.useEffect(()=>{fe()},[o]);async function fe(){var G,Y,ae,je,Se,ee,H;const $=await ye();if($){f((G=$==null?void 0:$.nomenclature)==null?void 0:G.price),h((Y=$==null?void 0:$.nomenclature)==null?void 0:Y.barcode),D((ae=$==null?void 0:$.nomenclature)==null?void 0:ae.id),B($==null?void 0:$.article),m($!=null&&$.title?$==null?void 0:$.title:(Se=(je=$==null?void 0:$.nomenclature)==null?void 0:je.name)==null?void 0:Se.ru),_({...$}),I((H=(ee=$==null?void 0:$.nomenclature)==null?void 0:ee.category)==null?void 0:H.id);let X=1;const _e=$.images?$.images.map(ue=>({id:oe(),order:X++,src:ue})):[];W(_e),X=1,V($.description?$.description:"")}}const he=async()=>{if(l||n.label){n.id&&await ke();const $=await P(T);console.log(15,"получил ответ от функции fetchPhotos() images",$),console.log(16,"добавил localNewImage и images в один массив и сохранил в setLocalNewImage([...localNewImage, ...images])");const G=N.filter(ae=>ae.src).map(ae=>{if(ae.src)return ae.src});console.log(17,"создал новый массив newImg и сохранил туда все содержимое localNewImage из ключей src",G);const Y={nomenclatureId:l.id,title:p,article:O,images:$.length>0||G.length>0?[...$]:null,description:q,document:"string"};console.log(18,"создал новый объект продукта newProduct",Y),console.log(18,"localNewImage",N),Ce(Y),i({}),b([]),s("/admin/product/adding/website",{replace:!0})}else r({status:!0,message:'"Выберите категорию"'})};async function Ce($){try{await ce.patch(`web-nomenclatures/${o}`,$)}catch(G){console.log("Ошибка произошла при добавлении web nomenclatures",G)}}async function ke(){try{await ce.patch(`nomenclatures/${y}`,{categoryId:n.id}),I(n.id)}catch($){console.log("Ошибка произошла при изменении котегории на сайте",$)}}const P=async $=>{if($){const G=new FormData;$.forEach((Y,ae)=>{G.append(`files[${ae}]`,Y)});try{return await(await ce.post("media-objects/uploads",G)).data}catch(Y){console.error("Ошибка при добавлении картинок на сервер",Y)}}};return e.jsxs("div",{className:d.productItem,children:[a&&e.jsx(ut,{}),e.jsx(Ct,{stockName:"website",myMxikCode:o,localNewImage:N,setLocalNewImage:W,localFormData:T,setLocalFormData:A}),e.jsxs("div",{className:d.productItem_settings,children:[e.jsx(St,{myPrice:v,setMyPrice:f,myBarcode:g,setMyBarcode:h,localCategory:C,productName:p,productDescription:q,setProductDescription:V,setProductName:m,vendorCode:O,setVendorCode:B}),e.jsx(Nt,{extraOptionsStatus:j,setExtraOptionsStatus:k,brieflyProductStatus:S,setBrieflyProductStatus:w,localCategory:C,extraOptions:x,setExtraOptions:b,currentProduct:l})]}),e.jsx(It,{stockName:"website",setAdminSettings:he}),c&&e.jsx(Pt,{productName:p})]})}function xp(){const{user:s}=Mt(),{setCurrentShop:t}=Ke(),a=ie().pathname,{searchResponse:n,checkedProducts:l,errorModal:_,searchText:r,TemporaryData:i,setTemporaryData:c,setCheckedProducts:p}=be();u.useEffect(()=>{c([]),p([])},[]),u.useEffect(()=>{a.startsWith("/admin/shops")||t("0")},[a]);const m=[{id:"1",label:"Настройки",href:"/admin/settings",icon:e.jsx(E,{name:"CogIcon"}),isActive:!0},{id:"2",label:"Товар",href:"/admin/product",icon:e.jsx(E,{name:"ShoppingCartIcon"}),isActive:!1},{id:"3",label:"Пользователи",href:"/admin/users",icon:e.jsx(E,{name:"UsersIcon"}),isActive:!1},{id:"4",label:"Магазины",href:"/admin/shops",icon:e.jsx(E,{name:"BuildingStorefrontIcon"}),isActive:!1}],[g,h]=u.useState(m),v=f=>{const y=g.map(C=>({id:C.id,label:C.label,href:C.href,icon:C.icon,isActive:!1})),D=y.find(C=>C.id==f);D&&(D.isActive=!0),h(y)};return e.jsxs(e.Fragment,{children:[e.jsx(Bt,{}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:d.wrapper,children:[e.jsx("h1",{className:d.wrapper_title,children:s==null?void 0:s.username}),e.jsxs("div",{className:d.content,children:[e.jsx("div",{className:d.content_left,children:e.jsx("ul",{className:d.tools,children:g.map(f=>e.jsx("li",{children:e.jsxs(Q,{to:f.href,className:`${d.tools_link} ${a.startsWith(f.href)?d.tools_link_active:""}`,onClick:()=>v(f.id),children:[f.icon,f.label]})},f.id))})}),a.startsWith("/admin")&&e.jsxs("div",{className:d.content_right,children:[a.startsWith("/admin/settings")&&e.jsx(H_,{}),a.startsWith("/admin/users")&&e.jsx(Vd,{}),a.startsWith("/admin/shops")&&e.jsx(Gd,{}),a.startsWith("/admin/product")&&e.jsx(Y_,{}),a.startsWith("/admin/stock-product")&&e.jsx(lp,{}),a.startsWith("/admin/website-product")&&e.jsx(_p,{})]})]})]})})]})}export{xp as default};
