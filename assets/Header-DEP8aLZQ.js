import{z as F,A as M,B as R,j as t,y as n,x as T,a as E,r as _,L as w,w as I}from"./index-BnnvMoJY.js";import{C as L}from"./CustomIcon-B_KIhGJT.js";import{u as B}from"./userStore-DHO-iuh7.js";const U="_btn_lrckp_1",W={btn:U},H=F()(M(R(a=>({superCategoriesList:[{id:1,title:"Продукты питания"},{id:2,title:"Бытовая химия"},{id:3,title:"Одежда и Обувь"},{id:4,title:"Мебель"},{id:5,title:"Электроника"}],pickedProduct:"",setPickedProduct:e=>a({pickedProduct:e}),catalogNavListStatus:!1,setCatalogNavListStatus:e=>a({catalogNavListStatus:e}),superCategoriesStore:[],setSuperCategoriesStore:e=>a({superCategoriesStore:e}),categories:[],setCategories:e=>a({categories:e}),buttonsActive:0,setButtonsActive:e=>a({buttonsActive:e}),currentSubCategory:0,setCurrentSubCategory:e=>a({currentSubCategory:e}),selectedSuperCategory:0,setSelectedSuperCategory:e=>a({selectedSuperCategory:e}),selectedCategory:0,setSelectedCategory:e=>a({selectedCategory:e}),selectedSubCategory:0,setSelectedSubCategory:e=>a({selectedSubCategory:e}),pickedCategoryName:"",setPickedCategoryName:e=>a({pickedCategoryName:e})}),{name:"catalog-storage",partialize:a=>({...a,catalogNavListStatus:void 0})})));function G(){const{catalogNavListStatus:a,setCatalogNavListStatus:e}=H(),d=u=>{u.preventDefault(),e(!a)};return t.jsxs("button",{className:W.btn,onClick:u=>d(u),children:[t.jsx(L,{name:"QueueListIcon",color:"black",width:25}),t.jsx("span",{children:"Каталог"})]})}const O="_search_jyygm_1",D="_search_block_jyygm_7",Q="_search_input_jyygm_15",Y="_search_btn_jyygm_22",z={search:O,search_block:D,search_input:Q,search_btn:Y};function q(){return t.jsxs("form",{action:"",className:z.search,children:[t.jsx(G,{}),t.jsxs("div",{className:z.search_block,children:[t.jsx("input",{type:"text",className:z.search_input,placeholder:"Искать товары и категории"}),t.jsx("button",{className:z.search_btn,children:t.jsx(L,{name:"MagnifyingGlassIcon",width:25})})]})]})}const J="_nav_136nd_1",K="_nav_container_136nd_12",V="_nav_logo_136nd_17",X="_nav_list_136nd_23",Z="_nav_link_136nd_27",tt="_nav_link_icon_136nd_39",et="_nav_link_active_136nd_43",at="_nav_link_favoritesAmount_136nd_54",$={nav:J,nav_container:K,nav_logo:V,nav_list:X,nav_link:Z,nav_link_icon:tt,nav_link_active:et,nav_link_favoritesAmount:at},st=F()(M(R(a=>({catalogProducts:[],favoriteActive:[],productItem:"",setProductItem:e=>a({productItem:e}),setCatalogProducts:e=>a({catalogProducts:e}),setFavoriteActive:e=>a({favoriteActive:e})}),{name:"product-storage"}))),it=st,ot=F()(M(R(a=>({socialPlatforms:[{id:n(),name:"telegram",icon:"/socialIcons/tg.svg",alt:"Telegram Icon",isActive:!1,url:""},{id:n(),name:"instagram",icon:"/socialIcons/instagram.svg",alt:"Instagram Icon",isActive:!1,url:""},{id:n(),name:"facebook",icon:"/socialIcons/fb.svg",alt:"Facebook Icon",isActive:!1,url:""},{id:n(),name:"tikTok",icon:"/socialIcons/tik-tok.svg",alt:"TikTok Icon",isActive:!1,url:""},{id:n(),name:"youTube",icon:"/socialIcons/you-tube.svg",alt:"YouTube Icon",isActive:!1,url:""}],setSocialPlatforms:e=>a({socialPlatforms:e}),activeSocials:[],setActiveSocials:e=>a({activeSocials:e}),contactsFormInputsArr:[{id:n(),title:"Адресс:",text:"",type:"isAddress"},{id:n(),title:"Телефон:",text:"",type:"isPhone"},{id:n(),title:"Телефон Доп:",text:"",type:"isPhone"},{id:n(),title:"Эдектронная почта:",text:"",type:"isEmail"},{id:n(),title:"Кратко о нас:",text:"",type:"isTextarea"},{id:n(),title:"Выберете адрес:",text:"",type:"isAddressMap"}],setContactsFormInputsArr:e=>a({contactsFormInputsArr:e}),imageUrlLogo:"",setImageUrlLogo:e=>a({imageUrlLogo:e}),contactsSchedule:[{id:n(),day:"Пн",workHours:{start:"",end:""},isActive:!1},{id:n(),day:"Вт",workHours:{start:"",end:""},isActive:!1},{id:n(),day:"Ср",workHours:{start:"",end:""},isActive:!1},{id:n(),day:"Чт",workHours:{start:"",end:""},isActive:!1},{id:n(),day:"Пн",workHours:{start:"",end:""},isActive:!1},{id:n(),day:"Сб",workHours:{start:"",end:""},isActive:!1},{id:n(),day:"Вс",workHours:{start:"",end:""},isActive:!1}],setContactsSchedule:e=>a({contactsSchedule:e})}),{name:"contacts-store",partialize:a=>({...a,hasPosted:void 0})})));function ct(){const e=T().pathname,{isAuth:d,user:u}=B(),{setCatalogNavListStatus:p}=H(),{favoriteActive:h}=it(),{modulesCartStatus:v,modulesCashRegisterStatus:l,navLinksState:C,setNavLinksState:m}=E(),{activeSocials:S,imageUrlLogo:k}=ot(),[f,y]=_.useState(C),b=()=>{p(!1)};_.useEffect(()=>{g();const s=C.filter(c=>c.isActive===!0);y(s)},[v,l,C]);function g(){C.forEach(s=>{s.label==="Cart"?s.isActive=v:s.label==="Cash Register"&&(s.isActive=l)}),m(C)}const o=["/addingProducts","/cash-register"].some(s=>e.startsWith(s));return t.jsx(t.Fragment,{children:!o&&t.jsx("nav",{className:$.nav,children:t.jsxs("div",{className:`container ${$.nav_container}`,children:[t.jsx(w,{to:"/",onClick:b,className:$.nav_logo,children:k?t.jsx("img",{src:k,alt:"",style:{width:"40px",height:"40px",objectFit:"contain"}}):t.jsx("span",{children:"LOGO"})}),d&&t.jsx(q,{}),t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:S.map(s=>{const c=s.url.startsWith("http://")||s.url.startsWith("https://")?s.url:`https://${s.url}`;return t.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:t.jsx("img",{src:s.icon,alt:""})},s.id)})}),d&&t.jsx("ul",{className:$.nav_list,children:f==null?void 0:f.map(s=>(s==null?void 0:s.isActive)===!0&&t.jsx("li",{children:t.jsxs(w,{onClick:b,className:`${$.nav_link} ${e.startsWith(s.href)?$.nav_link_active:""}`,to:s.href,children:[t.jsx(L,{name:s.icon,width:22,className:$.nav_link_icon}),t.jsxs("span",{children:[u&&s.label=="Profile"?u==null?void 0:u.username:s.label,u&&s.label=="Favorites"&&h.length>0&&t.jsx("span",{className:$.nav_link_favoritesAmount,style:{width:h.length>99?"30px":"",height:h.length>99?"30px":""},children:h.length})]})]})},s.id))})]})})})}const nt="_wrapper_12j02_1",rt="_wrapper_active_12j02_17",lt="_block_12j02_22",gt="_list_12j02_26",_t="_list_li_12j02_53",dt="_active_12j02_81",ut="_list_li_active_12j02_88",pt="_link_12j02_103",ht="_link_icon_12j02_114",vt="_categories_12j02_119",mt="_categories_title_12j02_144",ft="_categories_title_icon_12j02_153",jt="_categories_list_12j02_157",xt="_categories_link_12j02_167",Ct="_subCategories_list_12j02_179",St="_subCategories_link_12j02_204",kt="_catalogPage_12j02_214",yt="_catalogPage_title_12j02_217",Nt="_catalogPage_title_icon_12j02_225",r={wrapper:nt,wrapper_active:rt,block:lt,list:gt,list_li:_t,active:dt,list_li_active:ut,link:pt,link_icon:ht,categories:vt,categories_title:mt,categories_title_icon:ft,categories_list:jt,categories_link:xt,subCategories_list:Ct,subCategories_link:St,catalogPage:kt,catalogPage_title:yt,catalogPage_title_icon:Nt};function bt({categoryId:a}){const{currentCategory:e}=E(),[d,u]=_.useState(1),[p,h]=_.useState(10),[v,l]=_.useState(!0),{catalogNavListStatus:C,setCatalogNavListStatus:m}=H(),[S,k]=_.useState([]);_.useEffect(()=>{y(),f(d,p)},[a]);async function f(g,A){if(e==="Суперклассы")try{try{const o=await I.get(`https://api.mcrm.uz/api/categories?${a&&"parentId="+a+"&"}page=${g}&perPage=${A}`),s=await o.data.data,c=await o.data.pagination;s.length<c.total?k([...s]):s.length==c.total&&(k([...s]),l(!1))}catch(o){console.log("Ошибка произошла при получении Котегории",o)}}catch(o){console.log("Ошибка произошла при получении Суперклассов",o)}}function y(){u(1),h(10),k([]),l(!0)}const b=()=>{const g=p+10;h(g),f(d,g)};return t.jsx("div",{className:r.subCategories,children:t.jsxs("ul",{className:r.subCategories_list,children:[S==null?void 0:S.map(g=>t.jsx("li",{children:t.jsx(w,{to:`/category/${g.id}`,className:r.subCategories_link,onClick:()=>m(!1),children:g.name.ru})},g.id)),v&&t.jsx("li",{children:t.jsx(w,{className:r.subCategories_link,to:"#",onClick:b,children:"Ещё..."})})]})})}function Pt(){const{catalogNavListStatus:a,setCatalogNavListStatus:e,buttonsActive:d,pickedCategoryName:u}=H(),{currentCategory:p}=E(),[h,v]=_.useState([]),[l,C]=_.useState(1),[m,S]=_.useState(10),[k,f]=_.useState(!0);_.useEffect(()=>{b(),y(l,m)},[p,a,d]);async function y(o,s){if(p==="Суперклассы")try{try{const c=await I.get(`https://api.mcrm.uz/api/categories?${d&&"parentId="+d+"&"}page=${o}&perPage=${s}`),i=await c.data.data,N=await c.data.pagination;i.length<N.total?v([...i]):i.length==N.total&&(v([...i]),f(!1))}catch(c){console.log("Ошибка произошла при получении Котегории",c)}}catch(c){console.log("Ошибка произошла при получении Суперклассов",c)}if(p==="Котегории")try{const c=await I.get(`https://api.mcrm.uz/api/categories?${d&&"parentId="+d+"&"}page=${o}&perPage=${s}`),i=await c.data.data,N=await c.data.pagination;i.length<N.total?v([...i]):i.length==N.total&&(v([...i]),f(!1))}catch(c){console.log("Ошибка произошла при получении Подкотегории",c)}p==="Подкотегории"&&(v([]),f(!0))}function b(){C(1),S(10),v([]),f(!0)}const g=()=>{const o=m+10;S(o),y(l,o)};function A(){p==="Котегории"&&e(!1)}return t.jsxs("div",{className:r.categories,children:[t.jsxs("h2",{className:r.categories_title,children:[t.jsx("span",{children:u}),t.jsx(L,{name:"ChevronRightIcon"})]}),t.jsx("ul",{className:r.categories_list,children:h==null?void 0:h.map(o=>t.jsxs("li",{children:[t.jsx(w,{to:p==="Котегории"?`/category/${o.id}`:"#",className:r.categories_link,onClick:A,children:o.name.ru}),p=="Суперклассы"&&t.jsx(bt,{categoryId:o.id})]},o.id))}),h.length>0&&k&&t.jsx(w,{to:"#",className:r.categories_link,onClick:()=>g(),children:"Ещё..."})]})}function $t(){const{catalogNavListStatus:a,setCatalogNavListStatus:e,buttonsActive:d,setButtonsActive:u,selectedSuperCategory:p,selectedCategory:h,setPickedCategoryName:v}=H(),{currentCategory:l}=E(),[C,m]=_.useState([]),[S,k]=_.useState(1),[f,y]=_.useState(10),[b,g]=_.useState(!0);_.useEffect(()=>{o(),A(S,f)},[l,p,h,a]);async function A(i,N){if(l==="Суперклассы")try{const j=await I.get(`https://api.mcrm.uz/api/categories?page=${i}&perPage=${N}`),x=await j.data.data,P=await j.data.pagination;x.length<P.total?m([...x]):x.length==P.total&&(m([...x]),g(!1))}catch(j){console.log("Ошибка произошла при получении Суперклассов",j)}if(l==="Котегории")try{const j=await I.get(`https://api.mcrm.uz/api/categories?${p&&"parentId="+p+"&"}page=${i}&perPage=${N}`),x=await j.data.data,P=await j.data.pagination;x.length<P.total?m([...x]):x.length==P.total&&(m([...x]),g(!1))}catch(j){console.log("Ошибка произошла при получении Котегории",j)}if(l==="Подкотегории")try{const j=await I.get(`https://api.mcrm.uz/api/categories?${h&&"parentId="+h+"&"}page=${i}&perPage=${N}`),x=await j.data.data,P=await j.data.pagination;x.length<P.total?m([...x]):x.length==P.total&&(m([...x]),g(!1))}catch(j){console.log("Ошибка произошла при получении Подкотегории",j)}}function o(){k(1),y(10),m([]),g(!0),v(""),u(0)}const s=()=>{const i=f+10;y(i),A(S,i)},c=i=>{v(i.name.ru),u(i.id),l==="Подкотегории"&&e(!1)};return t.jsxs("div",{className:r.block,children:[t.jsxs("ul",{className:r.list,children:[C==null?void 0:C.map(i=>t.jsxs("li",{className:`${r.list_li} ${d==i.id?r.list_li_active:""}`,onClick:()=>c(i),children:[t.jsx(w,{to:l==="Подкотегории"?`/category/${i.id}`:"#",className:r.link,onClick:()=>{l==="Подкотегории"&&e(!1)},children:i.name.ru}),t.jsx(L,{name:"ChevronRightIcon"})]},i.id)),b&&t.jsxs("li",{className:r.list_li,onClick:()=>s(),children:[t.jsx(w,{to:"#",className:r.link,children:"Ещё..."}),t.jsx(L,{name:"ChevronRightIcon"})]})]}),d!=0&&l!="Подкотегории"&&t.jsx(Pt,{})]})}function wt(){const{catalogNavListStatus:a}=H();return t.jsx("div",{className:`${r.wrapper} ${a?r.wrapper_active:""}`,children:t.jsx("div",{className:"container",children:t.jsx($t,{})})})}const At=()=>t.jsxs("header",{className:"header",children:[t.jsx(ct,{}),t.jsx(wt,{})]}),zt=At;export{zt as H,ot as a,H as c,it as p,r as s};
