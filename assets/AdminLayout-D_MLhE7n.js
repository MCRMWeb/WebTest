import{j as e,w as de,r as m,x as Re,L as Z,v as Q,y as ae,e as te,q as je,o as oe,z as Ct,A as Nt,B as It,u as Be,C as ct}from"./index-DcJDFFI3.js";import{u as St}from"./userStore-Bd0BwVRS.js";import{C as z}from"./CustomIcon-9acaQbfX.js";import{s as Ne}from"./shop1Store--xMNjpCO.js";import{a as Ue,c as qe,H as Dt}from"./Header-DNnABwyh.js";import{a as ue,s as H,M as it}from"./Modal-CZscEcjM.js";import{b as ce}from"./bannerStore-DgrTbUMj.js";import"./XMarkIcon-f25OYKhE.js";const $t="_wrapper_35b4n_1",Ot="_wrapper_title_35b4n_4",Pt="_content_35b4n_10",At="_content_left_35b4n_16",Mt="_content_right_35b4n_19",Wt="_tools_35b4n_45",Et="_tools_link_35b4n_50",Bt="_tools_link_active_35b4n_63",Ut="_settings_35b4n_86",Ft="_settings_title_35b4n_89",Lt="_settings_content_35b4n_94",zt="_settings_content_top_35b4n_97",Tt="_settings_content_buttons_35b4n_100",Rt="_settings_content_btn_35b4n_110",qt="_settings_content_btn_cancel_35b4n_122",Vt="_settings_content_btn_save_35b4n_125",Ht="_settings_tools_35b4n_128",Xt="_settings_tools_link_35b4n_133",Gt="_settings_tools_link_active_35b4n_148",Kt="_wrapperModules_35b4n_153",Zt="_item_35b4n_160",Jt="_item_top_35b4n_165",Yt="_item_top_title_35b4n_176",Qt="_item_top_arrow_35b4n_180",es="_item_top_arrow_active_35b4n_188",ts="_item_block_35b4n_191",ss="_item_block_item_35b4n_202",os="_item_block_open_35b4n_205",ns="_item_onOff_35b4n_211",rs="_item_delivery_35b4n_211",as="_versions_block_35b4n_217",cs="_versions_block_top_35b4n_222",is="_versions_block_top_title_35b4n_232",ls="_versions_block_top_arrow_35b4n_237",_s="_versions_block_top_arrow_active_35b4n_246",ds="_versions_block_dropdown_35b4n_249",ps="_versions_block_dropdown_item_35b4n_260",us="_versions_block_dropdown_open_35b4n_271",ms="_versions_block_onOff_35b4n_277",bs="_versions_block_delivery_35b4n_277",hs="_categoriesDropDown_title_35b4n_283",gs="_categoriesDropDown_item_35b4n_286",vs="_categoriesDropDown_item_top_35b4n_292",xs="_categoriesDropDown_item_top_title_35b4n_303",fs="_categoriesDropDown_item_top_arrow_35b4n_307",ks="_categoriesDropDown_item_top_arrow_active_35b4n_314",js="_categoriesDropDown_item_block_35b4n_317",ys="_categoriesDropDown_item_block_line_35b4n_326",ws="_categoriesDropDown_item_block_active_35b4n_338",Cs="_categoriesDropDown_item_block_open_35b4n_341",Ns="_categoriesDropDown_item_onOff_35b4n_346",Is="_categoriesDropDown_item_delivery_35b4n_346",Ss="_products_buttons_35b4n_352",Ds="_products_btn_35b4n_358",$s="_products_btn_active_35b4n_369",Os="_productItem_title_35b4n_374",Ps="_productItem_basePhoto_35b4n_379",As="_productItem_photos_35b4n_385",Ms="_productItem_photos_desc_35b4n_391",Ws="_productItem_photo_35b4n_385",Es="_productItem_photo_img_35b4n_406",Bs="_productItem_photo_close_35b4n_417",Us="_productItem_photo_active_35b4n_429",Fs="_productItem_add_35b4n_433",Ls="_productItem_add_text_35b4n_441",zs="_productItem_settings_35b4n_446",Ts="_productItem_left_info_35b4n_450",Rs="_productItem_left_item_35b4n_458",qs="_productItem_left_item_top_35b4n_462",Vs="_productItem_left_item_top_input_35b4n_483",Hs="_productItem_left_item_bottom_35b4n_489",Xs="_productItem_left_form_35b4n_502",Gs="_productItem_left_form_label_35b4n_509",Ks="_productItem_left_form_title_35b4n_513",Zs="_productItem_left_form_input_35b4n_519",Js="_productItem_left_form_textarea_35b4n_527",Ys="_productItem_left_form_size_35b4n_535",Qs="_productItem_right_35b4n_543",eo="_productItem_right_item_35b4n_550",to="_productItem_right_top_35b4n_555",so="_productItem_right_title_35b4n_562",oo="_productItem_right_bottom_items_35b4n_568",no="_productItem_right_bottom_items_active_35b4n_577",ro="_productItem_right_bottom_item_35b4n_568",ao="_productItem_right_bottom_row_35b4n_603",co="_productItem_right_bottom_del_35b4n_608",io="_banner_nav_list_35b4n_619",lo="_banner_nav_link_35b4n_625",_o="_banner_nav_link_active_35b4n_640",po="_addingWrapper_title_35b4n_645",uo="_addingWrapper_form_35b4n_650",mo="_addingWrapper_form_btn_35b4n_655",bo="_addingWrapper_search_35b4n_672",ho="_addingWrapper_search_input_35b4n_678",go="_addingWrapper_search_icon_35b4n_686",vo="_addingWrapper_table_35b4n_689",xo="_addingWrapper_table_error_35b4n_692",fo="_addingWrapper_thead_tr_35b4n_696",ko="_addingWrapper_thead_th_35b4n_700",jo="_addingWrapper_tbody_tr_35b4n_708",yo="_addingWrapper_tbody_td_35b4n_711",wo="_addingWrapper_tbody_buttons_35b4n_725",Co="_addingWrapper_tbody_add_35b4n_730",No="_addingWrapper_tbody_del_35b4n_737",Io="_errorWrapper_35b4n_745",So="_errorWrapper_block_35b4n_754",Do="_errorWrapper_block_close_35b4n_764",$o="_layout_title_35b4n_775",Oo="_layout_buttons_35b4n_780",Po="_layout_btn_35b4n_786",Ao="_layout_btn_active_35b4n_800",Mo="_editBlock_35b4n_805",Wo="_articleModal_35b4n_817",Eo="_articleModal_block_35b4n_826",Bo="_articleModal_block_nav_35b4n_833",Uo="_articleModal_block_title_35b4n_840",Fo="_articleModal_block_info_35b4n_845",Lo="_articleModal_block_info_item_35b4n_848",zo="_articleModal_block_recommended_35b4n_863",To="_articleModal_block_recommended_title_35b4n_866",Ro="_articleModal_block_recommended_item_35b4n_872",qo="_articleModal_block_recommended_item_title_35b4n_876",Vo="_articleModal_block_recommended_content_35b4n_882",Ho="_articleModal_block_recommended_img_35b4n_887",Xo="_articleModal_block_recommended_info_35b4n_897",Go="_articleModal_block_recommended_desc_35b4n_902",Ko="_articleModal_block_recommended_article_35b4n_916",Zo="_articleModal_block_search_35b4n_921",Jo="_articleModal_block_search_box_35b4n_924",Yo="_articleModal_block_search_input_35b4n_929",Qo="_articleModal_block_search_btn_35b4n_941",en="_articleModal_block_found_35b4n_951",tn="_articleModal_block_buttonBox_35b4n_957",sn="_articleModal_block_button_35b4n_957",a={wrapper:$t,wrapper_title:Ot,content:Pt,content_left:At,content_right:Mt,tools:Wt,tools_link:Et,tools_link_active:Bt,settings:Ut,settings_title:Ft,settings_content:Lt,settings_content_top:zt,settings_content_buttons:Tt,settings_content_btn:Rt,settings_content_btn_cancel:qt,settings_content_btn_save:Vt,settings_tools:Ht,settings_tools_link:Xt,settings_tools_link_active:Gt,wrapperModules:Kt,item:Zt,item_top:Jt,item_top_title:Yt,item_top_arrow:Qt,item_top_arrow_active:es,item_block:ts,item_block_item:ss,item_block_open:os,item_onOff:ns,item_delivery:rs,versions_block:as,versions_block_top:cs,versions_block_top_title:is,versions_block_top_arrow:ls,versions_block_top_arrow_active:_s,versions_block_dropdown:ds,versions_block_dropdown_item:ps,versions_block_dropdown_open:us,versions_block_onOff:ms,versions_block_delivery:bs,categoriesDropDown_title:hs,categoriesDropDown_item:gs,categoriesDropDown_item_top:vs,categoriesDropDown_item_top_title:xs,categoriesDropDown_item_top_arrow:fs,categoriesDropDown_item_top_arrow_active:ks,categoriesDropDown_item_block:js,categoriesDropDown_item_block_line:ys,categoriesDropDown_item_block_active:ws,categoriesDropDown_item_block_open:Cs,categoriesDropDown_item_onOff:Ns,categoriesDropDown_item_delivery:Is,products_buttons:Ss,products_btn:Ds,products_btn_active:$s,productItem_title:Os,productItem_basePhoto:Ps,productItem_photos:As,productItem_photos_desc:Ms,productItem_photo:Ws,productItem_photo_img:Es,productItem_photo_close:Bs,productItem_photo_active:Us,productItem_add:Fs,productItem_add_text:Ls,productItem_settings:zs,productItem_left_info:Ts,productItem_left_item:Rs,productItem_left_item_top:qs,productItem_left_item_top_input:Vs,productItem_left_item_bottom:Hs,productItem_left_form:Xs,productItem_left_form_label:Gs,productItem_left_form_title:Ks,productItem_left_form_input:Zs,productItem_left_form_textarea:Js,productItem_left_form_size:Ys,productItem_right:Qs,productItem_right_item:eo,productItem_right_top:to,productItem_right_title:so,productItem_right_bottom_items:oo,productItem_right_bottom_items_active:no,productItem_right_bottom_item:ro,productItem_right_bottom_row:ao,productItem_right_bottom_del:co,banner_nav_list:io,banner_nav_link:lo,banner_nav_link_active:_o,addingWrapper_title:po,addingWrapper_form:uo,addingWrapper_form_btn:mo,addingWrapper_search:bo,addingWrapper_search_input:ho,addingWrapper_search_icon:go,addingWrapper_table:vo,addingWrapper_table_error:xo,addingWrapper_thead_tr:fo,addingWrapper_thead_th:ko,addingWrapper_tbody_tr:jo,addingWrapper_tbody_td:yo,addingWrapper_tbody_buttons:wo,addingWrapper_tbody_add:Co,addingWrapper_tbody_del:No,errorWrapper:Io,errorWrapper_block:So,errorWrapper_block_close:Do,layout_title:$o,layout_buttons:Oo,layout_btn:Po,layout_btn_active:Ao,editBlock:Mo,articleModal:Wo,articleModal_block:Eo,articleModal_block_nav:Bo,articleModal_block_title:Uo,articleModal_block_info:Fo,articleModal_block_info_item:Lo,articleModal_block_recommended:zo,articleModal_block_recommended_title:To,articleModal_block_recommended_item:Ro,articleModal_block_recommended_item_title:qo,articleModal_block_recommended_content:Vo,articleModal_block_recommended_img:Ho,articleModal_block_recommended_info:Xo,articleModal_block_recommended_desc:Go,articleModal_block_recommended_article:Ko,articleModal_block_search:Zo,articleModal_block_search_box:Jo,articleModal_block_search_input:Yo,articleModal_block_search_btn:Qo,articleModal_block_found:en,articleModal_block_buttonBox:tn,articleModal_block_button:sn};function ke({width:o=78,color:t="white",backgroundOn:s="rgba(137, 250, 135, 1)",backgroundOff:r="rgba(193, 193, 193, 1)",speed:n=500,scale:c=1.1,status:p=!1}){const i={width:`${o}px`,height:`${o/2-o/20}px`,background:p?s:r,borderRadius:`${o/2}px`,display:"flex",alignItems:"center",transition:`${n}ms`,cursor:"pointer"},_={background:`${t}`,height:`${o/2-o/20}px`,width:`${o/2-o/20}px`,border:`${o/25}px solid ${p?s:r}`,borderRadius:"50%",transition:`${n}ms`,transform:`scale(${c}) translateX(${p?"110%":"0"})`};return e.jsx("div",{style:i,children:e.jsx("div",{style:_})})}const on="_versions_1cgvq_1",nn="_versions_block_1cgvq_6",rn="_versions_block_top_1cgvq_11",an="_versions_block_top_title_1cgvq_21",cn="_versions_block_top_arrow_1cgvq_25",ln="_versions_block_top_arrow_active_1cgvq_34",_n="_versions_block_dropdown_1cgvq_37",dn="_versions_block_dropdown_item_1cgvq_49",pn="_versions_block_dropdown_open_1cgvq_60",un="_versions_block_onOff_1cgvq_66",mn="_versions_block_delivery_1cgvq_66",bn="_versions2_1cgvq_72",hn="_versions2_block_1cgvq_77",gn="_versions2_block_top_1cgvq_82",vn="_versions2_block_top_title_1cgvq_92",xn="_versions2_block_top_arrow_1cgvq_96",fn="_versions2_block_top_arrow_active_1cgvq_105",kn="_versions2_block_dropdown_1cgvq_108",jn="_versions2_block_dropdown_item_1cgvq_119",yn="_versions2_block_dropdown_open_1cgvq_130",wn="_versions2_block_onOff_1cgvq_136",Cn="_versions2_block_delivery_1cgvq_136",Nn="_version3_1cgvq_142",In="_version3_title_1cgvq_147",Sn="_version3_block_1cgvq_153",Dn="_version3_block_top_1cgvq_158",$n="_version3_block_top_title_1cgvq_169",On="_version3_block_top_arrow_1cgvq_173",Pn="_version3_block_top_arrow_active_1cgvq_183",An="_version3_block_dropdown_1cgvq_186",Mn="_version3_block_dropdown_item_1cgvq_197",Wn="_version3_block_dropdown_open_1cgvq_213",En="_version3_block_onOff_1cgvq_237",Bn="_version3_block_delivery_1cgvq_237",Un="_versionExtraOptions_1cgvq_243",Fn="_versionExtraOptions_title_1cgvq_248",Ln="_versionExtraOptions_block_1cgvq_254",zn="_versionExtraOptions_block_top_1cgvq_259",Tn="_versionExtraOptions_block_top_title_1cgvq_270",Rn="_versionExtraOptions_block_top_arrow_1cgvq_275",qn="_versionExtraOptions_block_top_arrow_active_1cgvq_285",Vn="_versionExtraOptions_block_dropdown_1cgvq_288",Hn="_versionExtraOptions_block_dropdown_item_1cgvq_299",Xn="_versionExtraOptions_block_dropdown_open_1cgvq_316",Gn="_versionExtraOptions_block_onOff_1cgvq_340",Kn="_versionExtraOptions_block_delivery_1cgvq_340",F={versions:on,versions_block:nn,versions_block_top:rn,versions_block_top_title:an,versions_block_top_arrow:cn,versions_block_top_arrow_active:ln,versions_block_dropdown:_n,versions_block_dropdown_item:dn,versions_block_dropdown_open:pn,versions_block_onOff:un,versions_block_delivery:mn,versions2:bn,versions2_block:hn,versions2_block_top:gn,versions2_block_top_title:vn,versions2_block_top_arrow:xn,versions2_block_top_arrow_active:fn,versions2_block_dropdown:kn,versions2_block_dropdown_item:jn,versions2_block_dropdown_open:yn,versions2_block_onOff:wn,versions2_block_delivery:Cn,version3:Nn,version3_title:In,version3_block:Sn,version3_block_top:Dn,version3_block_top_title:$n,version3_block_top_arrow:On,version3_block_top_arrow_active:Pn,version3_block_dropdown:An,version3_block_dropdown_item:Mn,version3_block_dropdown_open:Wn,version3_block_onOff:En,version3_block_delivery:Bn,versionExtraOptions:Un,versionExtraOptions_title:Fn,versionExtraOptions_block:Ln,versionExtraOptions_block_top:zn,versionExtraOptions_block_top_title:Tn,versionExtraOptions_block_top_arrow:Rn,versionExtraOptions_block_top_arrow_active:qn,versionExtraOptions_block_dropdown:Vn,versionExtraOptions_block_dropdown_item:Hn,versionExtraOptions_block_dropdown_open:Xn,versionExtraOptions_block_onOff:Gn,versionExtraOptions_block_delivery:Kn};function Ye({color:o="black",title:t="",versionList:s=[{id:"1",title:"версия 1",isActive:!0,navIcon:""},{id:"2",title:"версия 2",isActive:!1,navIcon:""},{id:"3",title:"версия 3",isActive:!1,navIcon:""}],className:r,openBlock:n,currentVersion:c,setOpenBlock:p,setCurrentVersion:i,setVersionList:_}){const l=d=>{i(d.title);const u=s.map(g=>({id:g.id,title:g.title,isActive:!1})),b=u.find(g=>g.id==d.id),h=u.findIndex(g=>g.id==d.id);b&&(b.isActive=!0,u.splice(h,1,b),_(u))};return e.jsxs("div",{className:r??F.versions,children:[e.jsx("span",{children:t}),e.jsxs("div",{className:F.versions_block,children:[e.jsxs("div",{className:F.versions_block_top,children:[e.jsx("h2",{className:F.versions_block_top_title,style:{color:o},children:c}),e.jsx("button",{className:F.versions_block_top_btn,onClick:()=>p(!n),children:e.jsx("div",{className:`${F.versions_block_top_arrow} ${n?F.versions_block_top_arrow_active:""}`,children:e.jsx(z,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${F.versions_block_dropdown} ${n?F.versions_block_dropdown_open:""}`,children:s.map(d=>e.jsx("span",{className:F.versions_block_dropdown_item,onClick:()=>l(d),children:d.title},d.id))})]})]})}function Zn(){const{modulesCashRegisterStatus:o,deliveryStatus:t,cashRegisterVersionList:s,cashRegisterCurrentVersion:r,openBlockCashRegister:n,openBlockCashRegisterVersion:c,openBlockCart:p,cartVersionList:i,modulesCartStatus:_,cartCurrentVersion:l,openBlockCartVersion:d,setCartVersionList:u,setCartCurrentVersion:b,setModulesCartStatus:h,setOpenBlockCart:g,setOpenBlockCartVersion:I,setDeliveryStatus:M,setOpenBlockCashRegister:W,setCashRegisterVersionList:$,setModulesCashRegisterStatus:O,setCashRegisterCurrentVersion:k,setOpenBlockCashRegisterVersion:P}=de(),j=()=>{g(!p)},v=()=>{W(!n)};return e.jsxs("div",{className:a.wrapperModules,children:[e.jsxs("div",{className:a.item,children:[e.jsxs("div",{className:a.item_top,onClick:()=>j(),children:[e.jsx("h2",{className:a.item_top_title,children:"Корзина"}),e.jsx("button",{className:a.item_top_btn,onClick:()=>j(),children:e.jsx("div",{className:`${a.item_top_arrow} ${p?a.item_top_arrow_active:""}`,children:e.jsx(z,{name:"ChevronDownIcon",width:15})})})]}),e.jsxs("div",{className:`${a.item_block} ${p?a.item_block_open:""}`,children:[e.jsxs("div",{className:a.item_onOff,children:[e.jsx("span",{children:"Выкл / Вкл"}),e.jsx("div",{className:a.item_shell,onClick:()=>h(!_),children:e.jsx(ke,{status:_,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]}),e.jsx(Ye,{color:"rgb(137, 250, 135)",openBlock:d,setOpenBlock:I,title:"Выберите версию",versionList:i,currentVersion:l,setCurrentVersion:b,setVersionList:u}),e.jsxs("div",{className:a.item_delivery,children:[e.jsx("span",{children:"Доставка"}),e.jsx("div",{className:a.item_shell,onClick:()=>M(!t),children:e.jsx(ke,{status:t,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]})]})]}),e.jsxs("div",{className:a.item,children:[e.jsxs("div",{className:a.item_top,onClick:()=>v(),children:[e.jsx("h2",{className:a.item_top_title,children:"Кacca"}),e.jsx("button",{className:a.item_top_btn,onClick:()=>v(),children:e.jsx("div",{className:`${a.item_top_arrow} ${n?a.item_top_arrow_active:""}`,children:e.jsx(z,{name:"ChevronDownIcon",width:15})})})]}),e.jsxs("div",{className:`${a.item_block} ${n?a.item_block_open:""}`,children:[e.jsxs("div",{className:a.item_onOff,children:[e.jsx("span",{children:"Выкл / Вкл"}),e.jsx("div",{className:a.item_shell,onClick:()=>O(!o),children:e.jsx(ke,{status:o,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]}),e.jsx(Ye,{color:"rgb(137, 250, 135)",openBlock:c,setOpenBlock:P,title:"Выберите версию",versionList:s,currentVersion:r,setCurrentVersion:k,setVersionList:$})]})]})]})}function Jn(){const{templates:o,setTemplates:t}=de(),[s,r]=m.useState([...o]);m.useEffect(()=>{r([...o])},[o]);const n=i=>{const _=s.map(l=>l.id===i?{...l,open:!l.open}:l);r(_)},c=(i,_)=>{const l=s.map(d=>d.id===i?{...d,isActive:!0,templateThemes:d.templateThemes.map(u=>u.id===_?{...u,isActive:!0}:{...u,isActive:!1})}:{...d,isActive:!1,templateThemes:d.templateThemes.map(u=>({...u,isActive:!1}))});r(l)};function p(){t(s)}return e.jsxs("div",{className:a.wrapperModules,children:[s.map(i=>e.jsxs("div",{className:a.item,children:[e.jsxs("div",{className:a.item_top,onClick:()=>n(i.id),children:[e.jsx("h2",{className:a.item_top_title,children:i.title}),e.jsx("button",{className:a.item_top_btn,onClick:()=>n(i.id),children:e.jsx("div",{className:`${a.item_top_arrow} ${i.open?a.item_top_arrow_active:""}`,children:e.jsx(z,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${a.item_block} ${i.open?a.item_block_open:""}`,children:i.templateThemes.map(_=>e.jsxs("div",{className:a.item_onOff,children:[e.jsx("span",{children:_.title}),e.jsx("div",{className:a.item_shell,onClick:()=>c(i.id,_.id),children:e.jsx(ke,{status:_.isActive,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]},_.id))})]},i.id)),e.jsxs("div",{className:a.settings_content_buttons,children:[e.jsx("button",{className:`${a.settings_content_btn} ${a.settings_content_btn_cancel}`,children:"Отмена"}),e.jsx("button",{className:`${a.settings_content_btn} ${a.settings_content_btn_save}`,onClick:()=>p(),children:"Сохранить"})]})]})}function Yn({title:o,setOpenModal:t}){const{currentCategory:s}=de(),[r,n]=m.useState(""),{selectedSuperCategory:c,selectedCategory:p}=Ue();m.useEffect(()=>{s=="Котегории"&&c&&i(c),s=="Подкотегории"&&p&&i(p)},[s,c,p]);const i=async l=>{try{const u=await(await Re.get(`https://api.mcrm.uz/api/categories/${l}`)).data;n(u.name.ru)}catch(d){console.error("Ошибка произошла при получении названия варианта категории",d)}},_=()=>{t&&t(!0)};return e.jsxs("div",{className:a.editBlock,onClick:_,children:[r||o,e.jsx(z,{name:"PencilIcon"})]})}const Qn="_modalCategory_xzv82_1",er="_modalCategory_block_xzv82_10",tr="_modalCategory_nav_xzv82_16",sr="_modalCategory_nav_title_xzv82_23",or="_modalCategory_content_xzv82_29",nr="_modalCategory_content_message_xzv82_36",rr="_modalCategory_content_link_xzv82_44",ar="_modalCategory_content_link_active_xzv82_72",cr="_modalCategory_content_item_xzv82_82",ir="_modalCategory_content_block_xzv82_104",lr="_modalCategory_content_block_title_xzv82_108",_r="_settings_xzv82_115",dr="_settings_title_xzv82_118",pr="_settings_content_xzv82_123",ur="_settings_content_top_xzv82_126",mr="_settings_content_buttons_xzv82_129",br="_settings_content_btn_xzv82_139",hr="_settings_content_btn_cancel_xzv82_151",gr="_settings_content_btn_save_xzv82_154",vr="_settings_tools_xzv82_157",xr="_settings_tools_link_xzv82_162",fr="_settings_tools_link_active_xzv82_177",J={modalCategory:Qn,modalCategory_block:er,modalCategory_nav:tr,modalCategory_nav_title:sr,modalCategory_content:or,modalCategory_content_message:nr,modalCategory_content_link:rr,modalCategory_content_link_active:ar,modalCategory_content_item:cr,modalCategory_content_block:ir,modalCategory_content_block_title:lr,settings:_r,settings_title:dr,settings_content:pr,settings_content_top:ur,settings_content_buttons:mr,settings_content_btn:br,settings_content_btn_cancel:hr,settings_content_btn_save:gr,settings_tools:vr,settings_tools_link:xr,settings_tools_link_active:fr};function kr({setCancel:o}){return e.jsxs("div",{className:J.modalCategory_nav,children:[e.jsx("h2",{className:J.modalCategory_nav_title,children:"Котегория"}),e.jsx("button",{className:J.modalCategory_nav_close,onClick:o,children:e.jsx(z,{width:24,height:24,name:"XMarkIcon"})})]})}function jr({superCategory:o,category:t,setMessageStatus:s,fetchCategories:r}){const{currentCategory:n}=de(),{selectedSuperCategory:c,setSelectedSuperCategory:p}=Ue(),{setCurrentCategory:i}=ue(),[_,l]=m.useState(10),d=(b,h)=>{if(b.preventDefault(),n==="Подкотегории"){r("category",1,10,h.id);const g=t.filter(I=>I.parentId==h.id);i(g),p(h.id),s(!1)}p(h.id)},u=b=>{b.preventDefault();const h=_+10;l(h),r("super",1,h)};return e.jsxs("div",{className:J.modalCategory_content_block,children:[e.jsx("h2",{className:J.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:J.modalCategory_content_item,children:[o.map(b=>e.jsxs(Z,{to:"#",className:`${J.modalCategory_content_link} ${b.id==c?J.modalCategory_content_link_active:""} `,onClick:h=>d(h,b),children:[b.name.ru,e.jsx(z,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},b.id)),e.jsx(Z,{to:"#",className:J.modalCategory_content_link,onClick:b=>u(b),children:"Ещё..."})]})]})}function yr({categoryId:o,category:t,setCategoryId:s,setSubCategory:r,fetchCategories:n}){const{selectedSuperCategory:c}=Ue(),[p,i]=m.useState(10),_=d=>{d.preventDefault();const u=p+10;i(u),n("category",1,u,c)},l=(d,u)=>{r(d,u),s(u.id)};return t.length>0&&e.jsxs("div",{className:J.modalCategory_content_block,children:[e.jsx("h2",{className:J.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:J.modalCategory_content_item,children:[t==null?void 0:t.map(d=>e.jsxs(Z,{to:"#",className:`${J.modalCategory_content_link} ${d.id==o?J.modalCategory_content_link_active:""} `,onClick:u=>l(u,d),children:[d.name.ru,e.jsx(z,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},d.id)),e.jsx(Z,{to:"#",className:J.modalCategory_content_link,onClick:d=>_(d),children:"Ещё..."})]})]})}function wr({setSettings:o,setCancel:t}){return e.jsxs("div",{className:J.settings_content_buttons,children:[e.jsx("button",{className:`${J.settings_content_btn} ${J.settings_content_btn_cancel}`,onClick:t,children:"Отмена"}),e.jsx(Z,{to:"#",className:`${J.settings_content_btn} ${J.settings_content_btn_save}`,onClick:o,children:"Сохранить"})]})}function Cr({setOpenModal:o}){const{currentCategory:t}=de(),{selectedSuperCategory:s,setSelectedSuperCategory:r,selectedCategory:n,setSelectedCategory:c}=Ue(),[p,i]=m.useState(0),[_,l]=m.useState(!1),[d,u]=m.useState("Выберите категорию"),[b,h]=m.useState([]),[g,I]=m.useState([]);m.useEffect(()=>{O("super",1,10),n&&i(n)},[]);const M=(P,j)=>{P.preventDefault(),O("subCategory",1,10,j.id),l(!1)},W=()=>{t=="Котегории"?r(s):t=="Подкотегории"&&c(p),$()},$=()=>{l(!1),u("Выберите категорию"),o(!1)},O=async(P,j,v,S)=>{try{const D=P=="super"?`https://api.mcrm.uz/api/categories?&page=${j}&perPage=${v}`:`https://api.mcrm.uz/api/categories?parentId=${S}&page=${j}&perPage=${v}`,E=(await Re.get(D)).data.data.map(T=>({...T,label:P==="super"?"Супер категория":P==="category"?"Категория":"Субкатегория"}));P==="super"&&h([...E]),P==="category"&&I([...E])}catch(D){console.error(`Ошибка произошла при получении ${P} категорий`,D)}},k=()=>{o(!1)};return e.jsx("div",{className:J.modalCategory,onClick:k,children:e.jsxs("div",{className:J.modalCategory_block,onClick:P=>P.stopPropagation(),children:[e.jsx(kr,{setCancel:$}),e.jsx("p",{className:J.modalCategory_content_message,children:_?d:""}),e.jsxs("div",{className:J.modalCategory_content,children:[e.jsx(jr,{superCategory:b,category:g,setMessageStatus:l,fetchCategories:O}),t==="Подкотегории"&&e.jsx(yr,{categoryId:p,category:g,setCategoryId:i,setSubCategory:M,fetchCategories:O}),e.jsx(wr,{setSettings:W,setCancel:$})]})]})})}function Nr(){const[o,t]=m.useState(!1),[s,r]=m.useState(!1),{currentCategory:n,categoriesStatus:c,categories:p,setCategoriesStatus:i,setCurrentCategory:_}=de();m.useEffect(()=>{t(n==="Котегории"||n==="Подкотегории")},[n]);const l=d=>{_(d.title),d.title==="Котегории"||d.title==="Подкотегории"?t(!0):t(!1)};return e.jsxs("div",{className:a.categoriesDropDown,children:[e.jsx("h2",{className:a.categoriesDropDown_title,children:"Настройки каталога"}),s&&e.jsx(Cr,{setOpenModal:r}),e.jsxs("div",{className:a.categoriesDropDown_item,children:[e.jsxs("div",{className:a.categoriesDropDown_item_top,onClick:()=>i(!c),children:[e.jsx("h2",{className:a.categoriesDropDown_item_top_title,children:n}),e.jsx("button",{className:a.categoriesDropDown_item_top_btn,onClick:()=>i(!c),children:e.jsx("div",{className:`${a.categoriesDropDown_item_top_arrow} ${c?a.categoriesDropDown_item_top_arrow_active:""}`,children:e.jsx(z,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${a.categoriesDropDown_item_block} ${c?a.categoriesDropDown_item_block_open:""}`,children:p.map(d=>e.jsx("div",{className:`${a.categoriesDropDown_item_block_line} ${d.title==n?a.categoriesDropDown_item_block_active:""}`,onClick:()=>l(d),children:d.title},d.id))})]}),o&&e.jsx(Yn,{title:"Выберите вариант",setOpenModal:r})]})}const Ir="_banner_1eodh_1",Sr="_banner_title_1eodh_5",Dr="_products_banner_1eodh_10",$r="_products_banner_wrap_1eodh_13",Or="_products_banner_wrap_btn_1eodh_19",Pr="_products_banner_wrap_filter_1eodh_30",Ar="_products_banner_wrap_filter_text_1eodh_40",Mr="_products_banner_form_1eodh_48",Wr="_products_banner_form_wrap_1eodh_53",Er="_products_banner_form_wrap_btn_1eodh_59",Br="_products_banner_form_wrap_input_1eodh_75",Ur="_products_banner_form_wrap_icon_1eodh_83",Fr="_table_1eodh_87",Lr="_table_tbody_1eodh_92",zr="_table_tbody_tr_1eodh_97",Tr="_table_tbody_tr_active_1eodh_100",Rr="_table_tbody_img_1eodh_103",qr="_table_tr_1eodh_108",Vr="_table_th_1eodh_111",Hr="_table_td_1eodh_122",Xr="_table_td_edit_1eodh_130",Gr="_table_btn_1eodh_136",Kr="_versions_1eodh_144",Zr="_versions_block_1eodh_149",Jr="_versions_block_top_1eodh_154",Yr="_versions_block_top_title_1eodh_164",Qr="_versions_block_top_arrow_1eodh_168",ea="_versions_block_top_arrow_active_1eodh_177",ta="_versions_block_dropdown_1eodh_180",sa="_versions_block_dropdown_item_1eodh_195",oa="_versions_block_dropdown_open_1eodh_206",na="_add_banner_1eodh_213",ra="_add_banner_header_1eodh_221",aa="_add_banner_header_title_1eodh_225",ca="_add_banner_content_1eodh_229",ia="_add_banner_content_product_1eodh_232",la="_add_banner_content_link_1eodh_254",_a="_add_banner_content_info_1eodh_262",da="_add_banner_content_info_text_1eodh_266",pa="_add_banner_content_download_1eodh_272",ua="_add_banner_content_download_link_1eodh_281",ma="_add_banner_content_btns_1eodh_293",ba="_add_banner_content_btn_1eodh_293",ha="_category_wrap_1eodh_311",ga="_modalCategory_1eodh_315",va="_modalCategory_block_1eodh_323",xa="_modalCategory_nav_1eodh_328",fa="_modalCategory_nav_title_1eodh_335",ka="_modalCategory_content_1eodh_341",ja="_modalCategory_content_message_1eodh_348",ya="_modalCategory_content_link_1eodh_356",wa="_modalCategory_content_link_active_1eodh_384",Ca="_modalCategory_content_item_1eodh_394",Na="_modalCategory_content_block_1eodh_416",Ia="_modalCategory_content_block_title_1eodh_420",Sa="_add_link_1eodh_427",Da="_add_link_title_1eodh_430",$a="_add_link_input_1eodh_434",Oa="_modal_btn_1eodh_443",y={banner:Ir,banner_title:Sr,products_banner:Dr,products_banner_wrap:$r,products_banner_wrap_btn:Or,products_banner_wrap_filter:Pr,products_banner_wrap_filter_text:Ar,products_banner_form:Mr,products_banner_form_wrap:Wr,products_banner_form_wrap_btn:Er,products_banner_form_wrap_input:Br,products_banner_form_wrap_icon:Ur,table:Fr,table_tbody:Lr,table_tbody_tr:zr,table_tbody_tr_active:Tr,table_tbody_img:Rr,table_tr:qr,table_th:Vr,table_td:Hr,table_td_edit:Xr,table_btn:Gr,versions:Kr,versions_block:Zr,versions_block_top:Jr,versions_block_top_title:Yr,versions_block_top_arrow:Qr,versions_block_top_arrow_active:ea,versions_block_dropdown:ta,versions_block_dropdown_item:sa,versions_block_dropdown_open:oa,add_banner:na,add_banner_header:ra,add_banner_header_title:aa,add_banner_content:ca,add_banner_content_product:ia,add_banner_content_link:la,add_banner_content_info:_a,add_banner_content_info_text:da,add_banner_content_download:pa,add_banner_content_download_link:ua,add_banner_content_btns:ma,add_banner_content_btn:ba,category_wrap:ha,modalCategory:ga,modalCategory_block:va,modalCategory_nav:xa,modalCategory_nav_title:fa,modalCategory_content:ka,modalCategory_content_message:ja,modalCategory_content_link:ya,modalCategory_content_link_active:wa,modalCategory_content_item:Ca,modalCategory_content_block:Na,modalCategory_content_block_title:Ia,add_link:Sa,add_link_title:Da,add_link_input:$a,modal_btn:Oa};function lt({color:o="black",title:t="",versionList:s=[],className:r,openBlock:n,setOpenBlock:c,setVersionList:p}){const[i,_]=m.useState(s[0].title),{setChangeCategoryStyles:l}=ce(),d=u=>{const b=s.map(h=>({...h,isOpen:h.id===u.id}));u.title=="Категория"&&l(!0),_(u.title),p(b),c(!1)};return e.jsxs("div",{className:r??y.versions,children:[e.jsx("span",{children:t}),e.jsxs("div",{className:y.versions_block,children:[e.jsxs("div",{className:y.versions_block_top,children:[e.jsx("h2",{className:y.versions_block_top_title,style:{color:o},children:i}),e.jsx("button",{className:y.versions_block_top_btn,onClick:()=>c(!n),children:e.jsx("div",{className:`${y.versions_block_top_arrow} ${n?y.versions_block_top_arrow_active:""}`,children:e.jsx(z,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${y.versions_block_dropdown} ${n?y.versions_block_dropdown_open:""}`,children:s.map(u=>e.jsx("span",{className:y.versions_block_dropdown_item,onClick:()=>d(u),children:u.title},u.id))})]})]})}function ze({width:o=78,color:t="white",backgroundOn:s="rgba(137, 250, 135, 1)",backgroundOff:r="rgba(193, 193, 193, 1)",speed:n=500,scale:c=1.1,status:p=!1,disabled:i=!1}){const _={width:`${o}px`,height:`${o/2-o/20}px`,background:p?s:r,borderRadius:`${o/2}px`,display:"flex",alignItems:"center",transition:`${n}ms`,cursor:"pointer",opacity:i?1:.3},l={background:`${t}`,height:`${o/2-o/20}px`,width:`${o/2-o/20}px`,border:`${o/25}px solid ${p?s:r}`,borderRadius:"50%",transition:`${n}ms`,transform:`scale(${c}) translateX(${p?"110%":"0"})`};return e.jsx("div",{style:_,children:e.jsx("div",{style:l})})}const Pe=({arr:o=[{id:"1",title:"Заголовок"},{id:"2",title:"Цена"},{id:"3",title:"Кол-во"},{id:"4",title:""}],arrToUse:t,selectionMode:s,isActive:r=!1,isEdit:n=!1,isCategory:c,isLinks:p,setPickedProduct:i,setPickedProductActive:_})=>{const{bannersArr:l,selectedProductEdit:d,imageUrlEditBanner:u,bannersArrProduct:b,bannersArrLink:h,setBannersArrLink:g,setSelectedProductEdit:I,setImageUrlEditBanner:M,setCurrentProductOpen:W,clearPickedProductsArr:$,setBannersArrProduct:O,setBannersArr:k,setBannersArrCategory:P}=ce(),[j,v]=m.useState(null);m.useState(new Set);const S=f=>l.some(L=>L.brandName===f&&L.isBannerActive),D=(f,L)=>{if(s==="mxikCode"&&(i==null||i(f)),n&&L){const R={productId:Q(),bannerUrl:u,brandName:L.brandName,isProductBanner:!0,isBannerActive:!0,toggleSwitcher:!0};R.brandName!=null&&!S(R.brandName)?(O(b.map(B=>B.productId===d?R:B)),k(l.map(B=>B.productId===d?R:B)),W(!1)):console.warn("Объект с таким brandName уже существует.")}v(f)},C=(f,L)=>{s==="productId"&&(_==null||_(f),D==null||D(f),v(f),$(),L.productId&&I(L.productId),L.bannerUrl&&M(L.bannerUrl))},E=(f,L,R)=>{if(f.stopPropagation(),R.isBannerActive)r&&(O(t.map(B=>B.productId===L?{...B,toggleSwitcher:!B.toggleSwitcher}:B)),k(l.map(B=>B.productId===L?{...B,toggleSwitcher:!B.toggleSwitcher}:B))),c&&(P(t.map(B=>B.productId===L?{...B,toggleSwitcher:!B.toggleSwitcher}:B)),k(l.map(B=>B.productId===L?{...B,toggleSwitcher:!B.toggleSwitcher}:B))),p&&(g(t.map(B=>B.productId===L?{...B,toggleSwitcher:!B.toggleSwitcher}:B)),k(l.map(B=>B.productId===L?{...B,toggleSwitcher:!B.toggleSwitcher}:B)));else return},T=f=>f.productId!==void 0,ee=(f,L)=>{f.stopPropagation(),O(t.map(R=>R.productId===L.productId?{...R,isBannerActive:!1,brandName:"-"}:R)),k(l.map(R=>R.productId===L.productId?{...R,isBannerActive:!1,brandName:"-"}:R))};return e.jsxs("table",{className:y.table,children:[e.jsx("thead",{className:y.table_thead,children:e.jsx("tr",{className:y.table_tr,children:o.map(f=>e.jsx("th",{className:y.table_th,children:f.title},f.id))})}),e.jsx("tbody",{className:y.table_tbody,children:t==null?void 0:t.map(f=>e.jsxs("tr",{className:`${y.table_tbody_tr} ${!n&&j==(s==="mxikCode"?f.mxikCode:f.productId)?y.table_tbody_tr_active:""}`,style:{cursor:r||c||p?"pointer":"default"},onClick:()=>C(f.productId,f),children:[e.jsxs("td",{className:y.table_td,children:[s==="mxikCode"&&f.brandName,r&&e.jsx("img",{className:y.table_tbody_img,src:f.bannerUrl??"",alt:"Banner"}),c&&e.jsx("img",{className:y.table_tbody_img,src:f.bannerUrl??"",alt:"Banner"}),p&&e.jsx("img",{className:y.table_tbody_img,src:f.bannerUrl??"",alt:"Banner"})]}),e.jsxs("td",{className:y.table_td,children:[c?f.categoryTitle:"",r?f.brandName:f.crmSellingPrice,p&&f.brandName]}),e.jsx("td",{className:y.table_td,children:r?"":f.crmAmount}),e.jsx("td",{className:y.table_td,children:c?e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:L=>{const R=f;R.productId&&E(L,R.productId,f)},children:e.jsx(ze,{width:62,status:T(f)&&f.toggleSwitcher&&f.isBannerActive,disabled:T(f)&&f.isBannerActive})}):r?e.jsxs("div",{className:y.table_td_edit,children:[f.brandName!=="-"&&e.jsx("button",{className:y.table_btn,style:{width:"156px",background:"#FFB5B5"},onClick:L=>ee(L,f),children:"Открепить продукт"}),e.jsx("div",{onClick:L=>{const R=f;R.productId&&E(L,R.productId,f)},children:e.jsx(ze,{width:62,status:T(f)&&f.toggleSwitcher&&f.isBannerActive,disabled:T(f)&&f.isBannerActive})})]}):p?e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:L=>{const R=f;R.productId&&E(L,R.productId,f)},children:e.jsx(ze,{width:62,status:T(f)&&f.toggleSwitcher&&f.isBannerActive,disabled:T(f)&&f.isBannerActive})}):e.jsx("button",{className:y.table_btn,onClick:()=>D(f.mxikCode,f),children:n?"Заменить":"Выбрать"})})]},T(f)?f.productId:f.mxikCode))})]})};function Pa({setCancel:o}){return e.jsxs("div",{className:H.modalCategory_nav,children:[e.jsx("h2",{className:H.modalCategory_nav_title,children:"Котегория"}),e.jsx("button",{className:H.modalCategory_nav_close,onClick:o,children:e.jsx(z,{width:24,height:24,name:"XMarkIcon"})})]})}function Aa({superCategory:o,category:t,superId:s,setLocalPicked:r,setSuperId:n,setMessageStatus:c,setSubCategories:p,fetchCategories:i,setSuperCategoryObj:_}){const{changeCategoryStyles:l,categoriesArr:d,setCategoriesArr:u,setActiveCategory:b,setActiveCategoryTitle:h}=ce(),{setCurrentCategory:g}=ue(),[I,M]=m.useState(10),W=(O,k)=>{O.preventDefault(),i("category",1,10,k.id),p([]);const P=t.filter(j=>j.parentId==k.id);if(g(P),r(k),n(k.id),c(!1),l&&k.label&&(b(k.label),h(k.name.ru)),l){const j=d.filter(v=>v.label!==k.label);j.push(k),u(j)}_==null||_(k),console.log("super",k)},$=()=>{const O=I+10;M(O),i("super",1,O),console.log("addPage",O)};return e.jsxs("div",{className:H.modalCategory_content_block,children:[e.jsx("h2",{className:H.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:H.modalCategory_content_item,children:[o.map(O=>e.jsxs(Z,{to:"#",className:`${H.modalCategory_content_link} ${O.id==s?H.modalCategory_content_link_active:""} `,onClick:k=>W(k,O),children:[O.name.ru,e.jsx(z,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},O.id)),e.jsx(Z,{to:"#",className:H.modalCategory_content_link,onClick:()=>$(),children:"Ещё..."})]})]})}function Ma({superId:o,categoryId:t,category:s,setSubCategory:r,fetchCategories:n}){const[c,p]=m.useState(10),i=()=>{const l=c+10;p(l),n("category",1,l,o),console.log("addPage",l,o)},_=(l,d)=>{r(l,d)};return s.length>0&&e.jsxs("div",{className:H.modalCategory_content_block,children:[e.jsx("h2",{className:H.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:H.modalCategory_content_item,children:[s==null?void 0:s.map(l=>e.jsxs(Z,{to:"#",className:`${H.modalCategory_content_link} ${l.id==t?H.modalCategory_content_link_active:""} `,onClick:d=>_(d,l),children:[l.name.ru,e.jsx(z,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},l.id)),e.jsx(Z,{to:"#",className:H.modalCategory_content_link,onClick:()=>i(),children:"Ещё..."})]})]})}function Wa({subId:o,categoryId:t,subCategories:s,setSubProductsList:r,fetchCategories:n}){const[c,p]=m.useState(10),i=()=>{const _=c+10;p(_),n("subCategory",1,_,t),console.log("addPage",_)};return s.length>0&&e.jsxs("div",{className:H.modalCategory_content_block,children:[e.jsx("h2",{className:H.modalCategory_content_block_title,children:"Подкотегория"}),e.jsxs("div",{className:H.modalCategory_content_item,children:[s==null?void 0:s.map(_=>e.jsxs(Z,{to:"#",className:`${H.modalCategory_content_link} ${_.id==o?H.modalCategory_content_link_active:""} `,onClick:l=>r(l,_),children:[_.name.ru,e.jsx(z,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},_.id)),e.jsx(Z,{to:"#",className:H.modalCategory_content_link,onClick:()=>i(),children:"Ещё..."})]})]})}function Ea({setSettings:o,setCancel:t}){return e.jsxs("div",{className:H.settings_content_buttons,children:[e.jsx("button",{className:`${H.settings_content_btn} ${H.settings_content_btn_cancel}`,onClick:t,children:"Отмена"}),e.jsx("button",{className:`${H.settings_content_btn} ${H.settings_content_btn_save}`,onClick:o,children:"Сохранить"})]})}function Fe({isProduct:o,isCategory:t=!1}){const{setOpenModalCategory:s,setPickedCategory:r,setCurrentCategory:n,setCurrentSubCategory:c}=ue(),{changeCategoryStyles:p,categoriesArr:i,setCategoriesArr:_,setPickedProducts:l,setActiveCategory:d,setActiveCategoryTitle:u,setOpenModalCategoryBanner:b}=ce(),h=p?y:H,{websiteProducts:g}=Ne(),[I,M]=m.useState(0),[W,$]=m.useState(0),[O,k]=m.useState(0),[P,j]=m.useState({}),[v,S]=m.useState(!1),[D,C]=m.useState("Выберите категорию"),[E,T]=m.useState([]),[ee,f]=m.useState([]),[L,R]=m.useState([]),[B,ve]=m.useState(null),[be,xe]=m.useState(null),[he,fe]=m.useState(null);m.useEffect(()=>{Y("super",1,10)},[]);const w=(se,V)=>{se.preventDefault(),Y("subCategory",1,10,V.id);const le=L.filter(_e=>_e.parentId==V.id);if(c(le),j(V),$(V.id),S(!1),p&&V.label&&(d(V.label),u(V.name.ru)),p){const _e=i.filter(pe=>pe.label!==V.label);_e.push(V),_(_e)}xe(V),console.log("category",V.id)},x=(se,V)=>{if(se.preventDefault(),j(V),k(V.id),S(!1),p&&V.label&&(d(V.label),u(V.name.ru)),p){const le=i.filter(_e=>_e.name.ru!==V.name.ru);le.push(V),console.log("newCategories",le),_(le)}fe(V),console.log("item",V)},q=()=>{if(Object.keys(P).length===0){S(!0),C("Выберите Суперкотегорию");return}if(ee.length>0&&W===0){S(!0),C("Выберите Категорию");return}if(L.length>0&&O===0){S(!0),C("Выберите Подкотегорию");return}if(console.log("localPicked",P),P){const V=P.id,le=g.filter(_e=>{var pe;return((pe=_e.crmCategoryParentId)==null?void 0:pe.id)==V});l(le)}const se=[];B&&se.push(B),be&&se.push(be),he&&se.push(he),_(se),X()},X=()=>{r(P),s(!1),M(0),$(0),k(0),j({}),n([]),c([]),S(!1),C("Выберите категорию"),b(!1)},Y=async(se,V,le,_e)=>{try{const pe=se=="super"?`https://api.mcrm.uz/api/categories?&page=${V}&perPage=${le}`:`https://api.mcrm.uz/api/categories?parentId=${_e}&page=${V}&perPage=${le}`,De=(await Re.get(pe)).data.data.map(wt=>({...wt,label:se==="super"?"Супер категория":se==="category"?"Категория":"Субкатегория"}));se==="super"&&T([...De]),se==="category"&&f([...De]),se==="subCategory"&&R([...De])}catch(pe){console.error(`Ошибка произошла при получении ${se} категорий`,pe)}};return e.jsx("div",{className:h.modalCategory,children:e.jsxs("div",{className:h.modalCategory_block,children:[!p&&e.jsx(Pa,{setCancel:X}),e.jsx("p",{className:h.modalCategory_content_message,children:v?D:""}),e.jsxs("div",{className:h.modalCategory_content,children:[e.jsx(Aa,{superId:I,superCategory:E,category:ee,setLocalPicked:j,setSuperId:M,setMessageStatus:S,fetchCategories:Y,setSubCategories:R,setSuperCategoryObj:ve}),e.jsx(Ma,{superId:I,categoryId:W,category:ee,setSubCategory:w,fetchCategories:Y}),e.jsx(Wa,{subId:O,categoryId:W,subCategories:L,setSubProductsList:x,fetchCategories:Y}),!t&&e.jsx(Ea,{setSettings:q,setCancel:X})]})]})})}const Ie=({title:o,currentProductEdit:t,isEdit:s,isCategory:r,isLinks:n,linkTextEdit:c,deleteBanner:p})=>{const{currentProductTable:i,changeCategoryStyles:_,categoriesArr:l,bannersArr:d,linksPageBannerText:u,openLinksPage:b,openProductsPage:h,activeCategory:g,activeCategoryTitle:I,bannersArrProduct:M,bannersArrCategory:W,bannersArrLink:$,setBannersArrLink:O,setCurrentProductOpen:k,clearCategoriesArr:P,addBannerToArr:j,setLinksPageBannerText:v,setBannersArrProduct:S,setBannersArr:D,setBannersArrCategory:C}=ce(),E=i,[T,ee]=m.useState(null),[f,L]=m.useState(null),[R,B]=m.useState(""),ve=w=>{if(w.target.files&&w.target.files[0]){const x=w.target.files[0];L(x);const q=new FileReader;q.onloadend=()=>{const X=q.result;ee(X)},q.readAsDataURL(x)}},be=()=>{document.getElementById("upload").click()},xe=()=>{if(!f)return;const w=()=>{switch(g){case"Супер категория":return"superCategory";case"Категория":return"bannerCategory";case"Субкатегория":return"subCategory";default:return""}};if(f&&E&&h){const x={productId:Q(),bannerUrl:T||"",brandName:E.brandName,isProductBanner:!0,isBannerActive:!0,toggleSwitcher:!0};d.some(Y=>Y.brandName===x.brandName)||j(x),k(!1),ee(null),L(null);const X=document.getElementById("upload");X&&(X.value="")}if(_&&b==!1){const x=w(),q={productId:Q(),bannerUrl:T||"",categoryLabel:x,categoryTitle:I,isCategoryBanner:!0,isBannerActive:!0,toggleSwitcher:!0};d.some(se=>se.categoryTitle===q.categoryTitle)||j(q),ee(null),L(null);const Y=document.getElementById("upload");Y&&(Y.value="")}if(b&&u){const x={productId:Q(),bannerUrl:T||"",brandName:u,isLinkBanner:!0,isBannerActive:!0,toggleSwitcher:!0};d.some(Y=>Y.brandName===x.brandName)||(j(x),console.log("bannersArr",d)),ee(null),L(null),v("");const X=document.getElementById("upload");X&&(X.value="")}},he=()=>{T===null?s&&(r&&(B((()=>{switch(g){case"Супер категория":return"superCategory";case"Категория":return"bannerCategory";case"Субкатегория":return"subCategory";default:return""}})()),C(W.map(x=>x.productId===(i==null?void 0:i.productId)?{...x,categoryTitle:I,activeCategoryEdit:R}:x))),n&&O($.map(w=>w.productId===(t==null?void 0:t.productId)?{...w,brandName:c}:w)),D(d.map(w=>w.productId===(i==null?void 0:i.productId)?{...w,categoryTitle:I,activeCategoryEdit:R}:w)),k(!1)):s&&(r&&C(W.map(w=>w.productId===(t==null?void 0:t.productId)?{...w,bannerUrl:T}:w)),n&&O($.map(w=>w.productId===(t==null?void 0:t.productId)?{...w,bannerUrl:T,brandName:c}:w)),D(d.map(w=>w.productId===(t==null?void 0:t.productId)?{...w,bannerUrl:T,brandName:c,categoryTitle:I,activeCategoryEdit:R}:w)),k(!1))},fe=()=>{p==null||p(t==null?void 0:t.productId),k(!1)};return e.jsxs("div",{className:y.add_banner,children:[e.jsx("div",{className:y.add_banner_header,children:e.jsx("h3",{className:y.add_banner_header_title,children:"Баннер"})}),e.jsxs("div",{className:y.add_banner_content,children:[_?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:y.add_banner_content_product,children:[o,":",r&&e.jsxs("span",{children:[" ",t==null?void 0:t.categoryTitle]}),n&&e.jsxs("span",{children:[" ",t==null?void 0:t.brandName]})]}),l==null?void 0:l.map(w=>e.jsx("span",{className:y.add_banner_content_product,children:w.name.ru},w.name.ru))]}):e.jsx("p",{className:y.add_banner_content_product,children:b?`${o}: ${u}`:`${o}: ${E==null?void 0:E.brandName}`}),e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},id:"upload",onChange:ve}),e.jsx("label",{htmlFor:"upload",className:y.add_banner_content_link,children:"Загрузить"}),e.jsx("div",{className:y.add_banner_content_info,children:e.jsx("p",{className:y.add_banner_content_info_text,children:"Оптимальный размер картинки 800x800px (прозрачный фон) максимальный размер 10MB"})}),s?e.jsx("div",{className:y.add_banner_content_download,children:e.jsx("img",{src:T||(t==null?void 0:t.bannerUrl),alt:"",style:{width:"555px",height:"229px",objectFit:"cover"}})}):e.jsx("div",{className:y.add_banner_content_download,children:T?e.jsx("img",{src:T,alt:"Uploaded",className:y.add_banner_content_download_image,style:{width:"555px",height:"229px",objectFit:"cover"}}):e.jsxs("a",{className:y.add_banner_content_download_link,onClick:()=>be(),children:[e.jsx(z,{name:"PhotoIcon",width:72,height:72,color:"#C1C1C1"}),e.jsx("span",{children:"Загрузите баннер"})]})}),s?e.jsxs("div",{className:y.add_banner_content_btns,children:[e.jsx("button",{className:y.add_banner_content_btn,onClick:fe,style:{background:"#FFB5B5"},children:"Удалить"}),e.jsx("button",{className:y.add_banner_content_btn,style:{background:"#01C2EE"},onClick:()=>he(),children:"Изменить"})]}):e.jsxs("div",{className:y.add_banner_content_btns,children:[e.jsx("button",{className:y.add_banner_content_btn,onClick:()=>k(!1),children:"Отмена"}),e.jsx("button",{className:y.add_banner_content_btn,onClick:()=>xe(),children:"Сохранить"})]})]})]})};function _t({inputText:o,setInputText:t,filteredUsers:s,isProductEdit:r}){const{categoriesArr:n,filteredSubCategory:c,filteredCategoty:p,filteredSuperCategory:i,setCurrentProductOpen:_,setChangeCategoryStyles:l,setOpenModalCategoryBanner:d,clearCategoriesArr:u,setFilteredSubCategory:b,setFilteredCategoty:h,setFilteredSuperCategory:g}=ce(),I=()=>{r&&_(!1),l(!1),d(!0),u()};return m.useEffect(()=>{console.log("categoriesArr",n)},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:y.products_banner_wrap,children:[e.jsx("button",{className:y.products_banner_wrap_btn,onClick:I,children:e.jsx(z,{name:"FunnelIcon",width:20})}),(n==null?void 0:n.length)!==0&&e.jsx("div",{className:y.products_banner_wrap_filter,children:n==null?void 0:n.map(M=>e.jsx("span",{className:y.products_banner_wrap_filter_text,children:M.name.ru},M.id))}),e.jsxs("form",{action:"",className:y.products_banner_form,onSubmit:M=>s==null?void 0:s(M),children:[e.jsxs("div",{className:y.products_banner_form_wrap,children:[e.jsx("input",{type:"text",className:y.products_banner_form_wrap_input,placeholder:"Поиск товаров",value:o,onChange:M=>t==null?void 0:t(M.target.value)}),e.jsx(z,{className:y.products_banner_form_wrap_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:y.products_banner_form_wrap_btn,children:"Найти"})]})]})})}const Ba=[{id:"1",title:"Заголовок"},{id:"2",title:"Цена"},{id:"3",title:"Кол-во"},{id:"4",title:""}],Ua=()=>{const{websiteProducts:o}=Ne(),[t,s]=m.useState(""),{openModalCategoryBanner:r,currentProductOpen:n,searchTextBannner:c,pickedProducts:p,setCurrentProductTable:i,clearCategoriesArr:_,setSearchTextBannner:l,clearPickedProductsArr:d,setOpenLinksPage:u,setOpenProductsPage:b,setCurrentProductOpen:h,setOpenModalCategoryBanner:g}=ce(),I=k=>{k.preventDefault(),l(t),_()},M=k=>{const P=o.find(j=>j.mxikCode===k);P&&(i(P),h(!0))},[W,$]=m.useState([]);m.useEffect(()=>{let k=o;k=k==null?void 0:k.filter(P=>{var j;return(j=P.className)==null?void 0:j.toLowerCase().includes(c.toLowerCase())}),$(k)},[c,o]);const O=c?W:p;return m.useEffect(()=>{t===""&&(l(""),d(),h(!1))},[t]),m.useEffect(()=>{h(!1),u(!1),b(!0),g(!1),_()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:y.products_banner,style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(_t,{inputText:t,setInputText:s,filteredUsers:I}),e.jsx(Pe,{arrToUse:O,arr:Ba,setPickedProduct:M,selectionMode:"mxikCode"})]}),r&&e.jsx(Fe,{isProduct:!0}),n&&e.jsx(Ie,{title:"Товар"})]})},Fa=()=>{const{categoriesArr:o,setOpenLinksPage:t,setChangeCategoryStyles:s,setOpenProductsPage:r}=ce();return m.useEffect(()=>{t(!1),s(!0),r(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:y.category_wrap,children:e.jsx(Fe,{isCategory:!0})}),e.jsx(Ie,{title:"Каталог",categories:o})]})},La=()=>{const{linksPageBannerText:o,setLinksPageBannerText:t,setOpenLinksPage:s,setChangeCategoryStyles:r,setOpenProductsPage:n}=ce();return m.useEffect(()=>{s(!0),r(!1),t(""),n(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:y.add_link,children:[e.jsx("h3",{className:y.add_link_title,children:"Ссылка на станицу"}),e.jsx("input",{className:y.add_link_input,type:"text",value:o,onChange:c=>t(c.target.value)})]}),e.jsx(Ie,{title:"Страница"})]})};function za(){const{bannerDropdownOptions:o,openBannerDropdown:t,setBannerDropdownOptions:s,setOpenBannerDropdown:r,resetDropdownToDefault:n}=ce(),c=()=>{const p=o.find(i=>i.isOpen);if(!p)return null;switch(p.title){case"Продукт":return e.jsx(Ua,{});case"Категория":return e.jsx(Fa,{});case"Страница":return e.jsx(La,{});default:return null}};return m.useEffect(()=>{n()},[]),e.jsxs("div",{className:y.banner,children:[e.jsx("h3",{className:y.banner_title,children:"Выберите вариант куда прикрепить баннер"}),e.jsx(lt,{openBlock:t,setOpenBlock:r,versionList:o,setVersionList:s}),e.jsx("div",{className:y.banner_content,children:c()})]})}const Ta=[{id:"1",title:"Баннер"},{id:"2",title:"Продукт"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],Ra=()=>{const{websiteProducts:o}=Ne(),{pickedProducts:t,currentProductOpen:s,openModalCategoryBanner:r,bannersArr:n,searchTextBannner:c,currentProductTable:p,bannersArrProduct:i,clearPickedProductsArr:_,clearCategoriesArr:l,setCurrentProductOpen:d,setCurrentProductTable:u,setSearchTextBannner:b,setOpenLinksPage:h,setOpenProductsPage:g,setOpenModalCategoryBanner:I,setBannersArrProduct:M,setBannersArr:W}=ce(),[$,O]=m.useState(""),[k,P]=m.useState([]),j=C=>{C.preventDefault(),b($),l()},v=C=>{const E=i.find(T=>T.productId===C);E&&(u(E),d(!0))};m.useEffect(()=>{let C=o;C=C==null?void 0:C.filter(E=>{var T;return(T=E.className)==null?void 0:T.toLowerCase().includes(c.toLowerCase())}),P(C)},[c,o]);const S=C=>{M(i.filter(E=>E.productId!=C)),W(n.filter(E=>E.productId!==C))},D=c?k:t;return m.useEffect(()=>{d(!1),h(!1),I(!1),l()},[d,h,g,I,l]),m.useEffect(()=>{$===""&&(b(""),_())},[$]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(Pe,{arrToUse:i,arr:Ta,setPickedProductActive:v,selectionMode:"productId",isActive:!0}),s&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(_t,{filteredUsers:j,setInputText:O}),e.jsx(Pe,{arrToUse:D,isEdit:!0,selectionMode:"mxikCode"}),e.jsx(Ie,{title:"Продукт",currentProductEdit:p,isEdit:!0,deleteBanner:S})]})]}),r&&e.jsx(Fe,{})]})},qa=[{id:"1",title:"Баннер"},{id:"2",title:"Каталог"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],Va=()=>{const{bannersArr:o,bannersArrCategory:t,currentProductTable:s,currentProductOpen:r,setCurrentProductOpen:n,setBannersArr:c,setCurrentProductTable:p,setBannersArrCategory:i}=ce(),_=d=>{const u=t.find(b=>b.productId===d);u&&(p(u),n(!0),console.log("currentProductTable",s))},l=d=>{i(t.filter(u=>u.productId!=d)),c(o.filter(u=>u.productId!==d))};return m.useEffect(()=>{n(!1)},[]),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(Pe,{arr:qa,arrToUse:t,selectionMode:"productId",isCategory:!0,setPickedProductActive:_}),r&&e.jsx(Fe,{isCategory:!0}),r&&e.jsx(Ie,{title:"Каталог",currentProductEdit:s,isEdit:!0,isCategory:!0,deleteBanner:l})]})},Ha=({setLinkText:o,currentProductEdit:t})=>{ce();const[s,r]=m.useState(t.brandName||""),n=c=>{r(c),o(c)};return m.useEffect(()=>{r(t.brandName||"")},[t.brandName]),e.jsxs("div",{children:[e.jsx("p",{className:y.add_link_title,children:"Ссылка на страницу"}),e.jsx("input",{className:y.add_link_input,type:"text",onChange:c=>n(c.target.value),value:s})]})},Xa=[{id:"1",title:"Баннер"},{id:"2",title:"Страницы"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],Ga=()=>{const{bannersArr:o,bannersArrLink:t,currentProductOpen:s,currentProductTable:r,setBannersArr:n,setBannersArrLink:c,setCurrentProductTable:p,setCurrentProductOpen:i}=ce(),[_,l]=m.useState("");m.useEffect(()=>{console.log(_)},[_]);const d=b=>{const h=t.find(g=>g.productId===b);h&&(p(h),console.log("currentProductTable",r),i(!0))},u=b=>{c(t.filter(h=>h.productId!=b)),n(o.filter(h=>h.productId!==b))};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(Pe,{arr:Xa,arrToUse:t,selectionMode:"productId",setPickedProductActive:d,isLinks:!0}),s&&e.jsxs(e.Fragment,{children:[e.jsx(Ha,{setLinkText:l,currentProductEdit:r}),e.jsx(Ie,{title:"Страница",currentProductEdit:r,deleteBanner:u,isLinks:!0,isEdit:!0,linkTextEdit:_})]})]})};function Ka(){const{bannerDropdownOptions:o,openBannerDropdown:t,bannersArr:s,bannersArrProduct:r,bannersArrCategory:n,bannersArrLink:c,setBannerDropdownOptions:p,setOpenBannerDropdown:i,resetDropdownToDefault:_,setBannersArrProduct:l,setBannersArrCategory:d,setBannersArrLink:u}=ce();m.useEffect(()=>{l(s.filter(h=>h.isProductBanner===!0)),d(s.filter(h=>h.isCategoryBanner===!0)),u(s.filter(h=>h.isLinkBanner===!0))},[]);const b=()=>{const h=o.find(g=>g.isOpen);if(!h)return null;switch(h.title){case"Продукт":return e.jsx(Ra,{});case"Категория":return e.jsx(Va,{});case"Страница":return e.jsx(Ga,{});default:return null}};return m.useEffect(()=>{_()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h3",{className:y.banner_title,children:"Выберите вариант редактирования баннера"}),e.jsx(lt,{openBlock:t,setOpenBlock:i,versionList:o,setVersionList:p})]}),e.jsx("div",{className:y.banner_content,children:b()})]})}const Za=[{id:1,title:"Новый",href:"/admin/settings/banner"},{id:2,title:"Активные",href:"/admin/settings/banner/activeBanner"}];function Ja(){const t=ae().pathname,{setCurrentProductOpen:s}=ce();return m.useEffect(()=>{s(!1)},[]),e.jsx("div",{className:a.banner,children:e.jsxs("div",{className:a.banner_nav,children:[e.jsx("ul",{className:a.banner_nav_list,children:Za.map(r=>e.jsx("li",{children:e.jsx(Z,{to:r.href,className:`${a.banner_nav_link} ${r.href==t?a.banner_nav_link_active:""}`,children:r.title})},r.id))}),t.startsWith("/admin/settings/banner")&&e.jsxs("div",{className:a.settings_content_base,children:[t=="/admin/settings/banner"&&e.jsx(za,{}),t=="/admin/settings/banner/activeBanner"&&e.jsx(Ka,{})]})]})})}const Ya="_contacts_mxkpi_1",Qa="_contacts_content_mxkpi_4",ec="_contacts_nav_mxkpi_7",tc="_contacts_nav_list_mxkpi_10",sc="_contacts_nav_link_mxkpi_15",oc="_contacts_nav_link_active_mxkpi_30",nc="_contacts_btn_mxkpi_34",rc="_socials_mxkpi_55",ac="_socials_title_mxkpi_60",cc="_socials_content_mxkpi_65",ic="_socials_content_wrap_mxkpi_70",lc="_socials_content_wrap_input_mxkpi_75",_c="_aboutUs_mxkpi_84",dc="_aboutUs_add_image_mxkpi_87",pc="_aboutUs_content_mxkpi_90",uc="_aboutUs_image_wrap_mxkpi_95",mc="_aboutUs_download_mxkpi_104",bc="_aboutUs_text_mxkpi_112",hc="_aboutUs_inputs_mxkpi_120",gc="_aboutUs_inputs_wrap_mxkpi_126",vc="_aboutUs_inputs_wrap_title_mxkpi_130",xc="_aboutUs_inputs_wrap_input_mxkpi_136",fc="_aboutUs_inputs_wrap_textarea_mxkpi_144",kc="_aboutUs_btn_mxkpi_152",jc="_aboutUs_week_info_mxkpi_172",yc="_aboutUs_week_info_text_mxkpi_178",wc="_aboutUs_week_content_mxkpi_183",Cc="_aboutUs_week_wrap_mxkpi_189",Nc="_aboutUs_week_wrap_colored_mxkpi_193",Ic="_aboutUs_week_wrap_colored_active_mxkpi_203",Sc="_aboutUs_week_wrap_colored_last_mxkpi_206",Dc="_aboutUs_week_wrap_day_mxkpi_209",$c="_aboutUs_week_wrap_schedule_mxkpi_215",Oc="_aboutUs_week_wrap_input_mxkpi_221",Pc="_custom_checkbox_mxkpi_241",Ac="_custom_checkbox_input_mxkpi_247",Mc="_custom_checkbox_box_mxkpi_252",Wc="_custom_checkbox_box_icon_mxkpi_261",U={contacts:Ya,contacts_content:Qa,contacts_nav:ec,contacts_nav_list:tc,contacts_nav_link:sc,contacts_nav_link_active:oc,contacts_btn:nc,socials:rc,socials_title:ac,socials_content:cc,socials_content_wrap:ic,socials_content_wrap_input:lc,aboutUs:_c,aboutUs_add_image:dc,aboutUs_content:pc,aboutUs_image_wrap:uc,aboutUs_download:mc,aboutUs_text:bc,aboutUs_inputs:hc,aboutUs_inputs_wrap:gc,aboutUs_inputs_wrap_title:vc,aboutUs_inputs_wrap_input:xc,aboutUs_inputs_wrap_textarea:fc,aboutUs_btn:kc,aboutUs_week_info:jc,aboutUs_week_info_text:yc,aboutUs_week_content:wc,aboutUs_week_wrap:Cc,aboutUs_week_wrap_colored:Nc,aboutUs_week_wrap_colored_active:Ic,aboutUs_week_wrap_colored_last:Sc,aboutUs_week_wrap_day:Dc,aboutUs_week_wrap_schedule:$c,aboutUs_week_wrap_input:Oc,custom_checkbox:Pc,custom_checkbox_input:Ac,custom_checkbox_box:Mc,custom_checkbox_box_icon:Wc},Ec=({temporaryImageUrl:o,setTemporaryImageUrl:t})=>{qe();const[s,r]=m.useState(null),[n,c]=m.useState(null);m.useEffect(()=>{const _=localStorage.getItem("savedLogoImageUrl");_&&(r(_),t(_))},[t]);const p=_=>{if(_.target.files&&_.target.files[0]){const l=_.target.files[0];c(l);const d=new FileReader;d.onloadend=()=>{const u=d.result;r(u),t(u),localStorage.setItem("savedLogoImageUrl",u)},d.readAsDataURL(l)}},i=()=>{document.getElementById("upload").click()};return e.jsxs("div",{className:U.aboutUs_add_image,children:[e.jsx("div",{className:U.aboutUs_image_wrap,children:s||o?e.jsx("img",{src:o||s,alt:"Uploaded",style:{width:"60px",height:"60px",objectFit:"contain"}}):e.jsx("a",{style:{cursor:"pointer"},onClick:()=>i(),children:e.jsx(z,{name:"PhotoIcon",width:33,height:33,color:"#C1C1C1"})})}),e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},id:"upload",onChange:p}),e.jsx("label",{htmlFor:"upload",className:U.aboutUs_download,children:"Загрузить"}),e.jsx("p",{className:U.aboutUs_text,children:"Оптимальный размер картинки 500x500px (прозрачный фон) максимальный размер 10MB"})]})};function ye(){return ye=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(o[r]=s[r])}return o},ye.apply(this,arguments)}const dt=(o,t)=>{const s={};for(const r in o)t.indexOf(r)===-1&&(s[r]=o[r]);return s},pt=te.createContext(null),Le=te.createContext(null),Bc=o=>t=>te.createElement(Le.Consumer,null,s=>te.createElement(o,ye({parent:s},t))),Uc=(o=[])=>{const[t,s]=m.useState(!1),r=m.useRef(o),n=(()=>{const p=m.useContext(pt);if(p===null)throw new Error("Couldn't find Yandex.Maps API in the context. Make sure that hook useYMaps is inside <YMaps /> provider");return p})(),c=n.getApi();return m.useEffect(()=>{n.load().then(()=>Promise.all(r.current.map(n.loadModule))).then(()=>s(!0))},[]),t&&c?c:null},Fc=()=>{},Lc=["onLoad","onError","modules","apiLoader"];function ut(o,t=!1,s=[]){return r=>{const{width:n,height:c,modules:p=[],onLoad:i=Fc}=r,_=Uc(s.concat(p)),l=!t||!!_,d=dt(r,Lc);return m.useEffect(()=>_?i(_):void 0,[_]),l?te.createElement(o,ye({ymaps:_},d)):te.createElement("div",{style:{width:n,height:c}})}}const zc=typeof window<"u",Qe={lang:"ru_RU",load:"",ns:"",mode:"release"},Tc=o=>{const{version:t="2.1",enterprise:s=!1,query:r={lang:"ru_RU",load:"",ns:""},preload:n=!1,children:c}=o,p=m.useRef((i=>{const{query:_=Qe}=i,l=Date.now().toString(32),d=_.ns||"",u="__yandex-maps-api-onload__$$"+l,b="__yandex-maps-api-onerror__$$"+l,h=zc?window:{},g={};let I;const M=()=>d?h[d]:I,W=()=>{delete h[u],delete h[b]};return{load:()=>{if(M())return Promise.resolve(I);if(g[d])return g[d];const $={onload:u,onerror:b,...Qe,..._},O=Object.keys($).map(P=>`${P}=${$[P]}`).join("&"),k=[`https://${i.enterprise?"enterprise.":""}api-maps.yandex.ru`,i.version,"?"+O].join("/");return g[d]=new Promise((P,j)=>{h[u]=v=>{W(),v.ready(()=>{I=v,P(v)})},h[b]=v=>{W(),j(v)},(v=>new Promise((S,D)=>{const C=document.createElement("script");C.type="text/javascript",C.onload=S,C.onerror=D,C.src=v,C.async=!0,document.head.appendChild(C)}))(k).catch(h[b])}),g[d]},getApi:M,loadModule:$=>new Promise((O,k)=>{I.modules.require($).done(P=>{P.forEach(j=>{((v,S,D,C=!1)=>{const E=typeof S=="string"?S.split("."):S.slice();let T,ee=v;for(;E.length>1;)T=E.shift(),ee[T]||(ee[T]={}),ee=ee[T];const f=E[0];ee[f]=C===!0&&ee[f]||D})(I,$,j,!0)}),O(I)},k)})}})({version:t,enterprise:s,query:r,preload:n}));return m.useEffect(()=>{n&&p.current.load()},[p.current]),te.createElement(pt.Provider,{value:p.current},c)},et=/^on(?=[A-Z])/;function K(o){return Object.keys(o).reduce((t,s)=>{if(et.test(s)){const r=s.replace(et,"").toLowerCase();t._events[r]=o[s]}else t[s]=o[s];return t},{_events:{}})}function we(o,t,s){typeof s=="function"&&o.events.add(t,s)}function Ce(o,t,s){typeof s=="function"&&o.events.remove(t,s)}function Se(o,t,s){Object.keys(Object.assign({},t,s)).forEach(r=>{t[r]!==s[r]&&(Ce(o,r,t[r]),we(o,r,s[r]))})}const mt=o=>"default"+o.charAt(0).toUpperCase()+o.slice(1);function ne(o,t){return o[t]!==void 0||o[mt(t)]===void 0}function N(o,t,s){return(ne(o,t)?o[t]:o[mt(t)])||s}function re(o,t,s=null){if(o!==t){if(o&&("current"in o?o.current=null:typeof o=="function"&&o(null)),!t)return;"current"in t?t.current=s:typeof t=="function"&&t(s)}}function bt(o){const{width:t,height:s,style:r,className:n}=o;return r!==void 0||n!==void 0?Object.assign({},r&&{style:r},n&&{className:n}):{style:{width:t,height:s}}}class Rc extends te.Component{constructor(t){super(t),this.state={error:null,errorInfo:null}}componentDidCatch(t,s){const{onError:r=()=>{}}=this.props;r(t),this.setState({error:t,errorInfo:s})}render(){return this.state.error?null:this.props.children}}const ht=o=>({onError:t,...s})=>te.createElement(Rc,{onError:t},te.createElement(o,s));class $e extends te.Component{constructor(){super(),this.instance=null,this.state={instance:null},this._parentElement=null,this._getRef=t=>{this._parentElement=t}}componentDidMount(){this.instance=$e.mountObject(this._parentElement,this.props.ymaps.Map,this.props),this.setState({instance:this.instance})}componentDidUpdate(t){this.instance!==null&&$e.updateObject(this.instance,t,this.props)}componentWillUnmount(){$e.unmountObject(this.instance,this.props)}render(){const t=bt(this.props),s=K(this.props),r=dt(s,["_events","state","defaultState","options","defaultOptions","instanceRef","ymaps","children","width","height","style","className"]);return te.createElement(Le.Provider,{value:this.state.instance},te.createElement("div",ye({ref:this._getRef},t,r),this.props.children))}static mountObject(t,s,r){const{instanceRef:n,_events:c}=K(r),p=new s(t,N(r,"state"),N(r,"options"));return Object.keys(c).forEach(i=>we(p,i,c[i])),re(null,n,p),p}static updateObject(t,s,r){const{_events:n,instanceRef:c}=K(r),{_events:p,instanceRef:i}=K(s);if(ne(r,"state")){const _=N(s,"state",{}),l=N(r,"state",{});_.type!==l.type&&t.setType(l.type),_.behaviors!==l.behaviors&&(_.behaviors&&t.behaviors.disable(_.behaviors),l.behaviors&&t.behaviors.enable(l.behaviors)),l.zoom&&_.zoom!==l.zoom&&t.setZoom(l.zoom),l.center&&_.center!==l.center&&t.setCenter(l.center),l.bounds&&_.bounds!==l.bounds&&t.setBounds(l.bounds)}if(ne(r,"options")){const _=N(s,"options"),l=N(r,"options",{});_!==l&&t.options.set(l)}N(s,"width")===N(r,"width")&&N(s,"height")===N(r,"height")||t.container.fitToViewport(),Se(t,p,n),re(i,c,t)}static unmountObject(t,s){const{instanceRef:r,_events:n}=K(s);t!==null&&(Object.keys(n).forEach(c=>Ce(t,c,n[c])),t.destroy(),re(r))}}const gt=ht(ut($e,!0,["Map"]));gt.defaultProps={width:320,height:240};class Ae extends te.Component{constructor(){super(),this.state={instance:null},this._parentElement=null,this._getRef=t=>{this._parentElement=t}}componentDidMount(){this._mounted=!0,this.props.ymaps.panorama.isSupported()&&Ae.mountObject(this._parentElement,this.props.ymaps.panorama,this.props).then(t=>this._mounted&&this.setState({instance:t}))}componentDidUpdate(t){this.state.instance!==null&&Ae.updateObject(this.state.instance,t,this.props)}componentWillUnmount(){this._mounted=!1,Ae.unmountObject(this.state.instance,this.props)}render(){const t=bt(this.props);return te.createElement("div",ye({ref:this._getRef},t))}static mountObject(t,s,r){const{instanceRef:n,_events:c}=K(r),p=N(r,"point"),i=N(r,"locateOptions"),_=N(r,"options");return new Promise((l,d)=>{s.locate(p,i).done(u=>{if(u.length>0){const b=new s.Player(t,u[0],_);re(null,n,b),Object.keys(c).forEach(h=>we(b,h,c[h])),l(b)}},d)})}static updateObject(t,s,r){const{_events:n,instanceRef:c}=K(r),{_events:p,instanceRef:i}=K(s);if(ne(r,"options")){const _=N(s,"options"),l=N(r,"options");_!==l&&t.options.set(l)}if(ne(r,"point")){const _=N(r,"point"),l=N(s,"point"),d=N(r,"locateOptions");_!==l&&t.moveTo(_,d)}Se(t,p,n),re(i,c,t)}static unmountObject(t,s){const{instanceRef:r,_events:n}=K(s);t!==null&&(Object.keys(n).forEach(c=>Ce(t,c,n[c])),re(r))}}class Oe extends te.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const t=Oe.mountControl(this.props.ymaps.control[this.props.name],this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.instance!==null&&Oe.updateControl(this.instance,t,this.props)}componentWillUnmount(){Oe.unmountControl(this.instance,this.props)}render(){return te.createElement(Le.Provider,{value:this.state.instance},this.props.children)}static mountControl(t,s){const{instanceRef:r,parent:n,lazy:c,_events:p}=K(s),i=new t({data:N(s,"data"),options:N(s,"options"),state:N(s,"state"),mapTypes:N(s,"mapTypes"),lazy:c});if(Object.keys(p).forEach(_=>we(i,_,p[_])),n&&n.controls&&typeof n.controls.add=="function")n.controls.add(i);else{if(!n||!n.add||typeof n.add!="function")throw new Error(`No parent found to mount ${s.name}`);n.add(i)}return re(null,r,i),i}static updateControl(t,s,r){const{_events:n,instanceRef:c}=K(r),{_events:p,instanceRef:i}=K(s);if(ne(r,"options")){const _=N(s,"options"),l=N(r,"options");_!==l&&t.options.set(l)}if(ne(r,"data")){const _=N(s,"data"),l=N(r,"data");_!==l&&t.data.set(l)}if(ne(r,"state")){const _=N(s,"state"),l=N(r,"state");_!==l&&t.state.set(l)}if(ne(r,"mapTypes")){const _=N(s,"mapTypes"),l=N(r,"mapTypes");_!==l&&(t.removeAllMapTypes(),l.forEach(d=>t.addMapType(d)))}Se(t,p,n),re(i,c,t)}static unmountControl(t,s){const{instanceRef:r,parent:n,_events:c}=K(s);t!==null&&(Object.keys(c).forEach(p=>Ce(t,p,c[p])),n.controls&&typeof n.controls.remove=="function"?n.controls.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),re(r))}}var qc=ht(Bc(ut(o=>te.createElement(Oe,ye({},o,{name:"ZoomControl"})),!0,["control.ZoomControl"])));class Me extends te.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const t=Me.mountObject(this.props.ymaps.Clusterer,this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.state.instance!==null&&Me.updateObject(this.instance,t,this.props)}componentWillUnmount(){Me.unmountObject(this.instance,this.props)}render(){return te.createElement(Le.Provider,{value:this.state.instance},this.props.children)}static mountObject(t,s){const{instanceRef:r,parent:n,_events:c}=K(s),p=new t(N(s,"options"));if(Object.keys(c).forEach(i=>we(p,i,c[i])),n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(p);else{if(!n.add||typeof n.add!="function")throw new Error("No parent found to mount Clusterer");n.add(p)}return re(null,r,p),p}static updateObject(t,s,r){const{_events:n,instanceRef:c}=K(r),{_events:p,instanceRef:i}=K(s);if(ne(r,"options")){const _=N(s,"options"),l=N(r,"options");_!==l&&t.options.set(l)}Se(t,p,n),re(i,c,t)}static unmountObject(t,s){const{instanceRef:r,parent:n,_events:c}=K(s);t!==null&&(Object.keys(c).forEach(p=>Ce(t,p,c[p])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),re(r))}}class We extends te.Component{constructor(){super(),this.state={instance:null}}componentDidMount(){const t=We.mountObject(this.props.ymaps.ObjectManager,this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.instance!==null&&We.updateObject(this.instance,t,this.props)}componentWillUnmount(){We.unmountObject(this.instance,this.props)}render(){return null}static mountObject(t,s){const{instanceRef:r,parent:n,_events:c}=K(s),p=N(s,"options",{}),i=N(s,"features",{}),_=N(s,"filter",null),l=N(s,"objects",{}),d=N(s,"clusters",{}),u=new t(p);if(u.add(i||[]),u.setFilter(_),u.objects.options.set(l),u.clusters.options.set(d),Object.keys(c).forEach(b=>we(u,b,c[b])),n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(u);else{if(!n.add||typeof n.add!="function")throw new Error("No parent found to mount ObjectManager");n.add(u)}return re(null,r,u),u}static updateObject(t,s,r){const{_events:n,instanceRef:c}=K(r),{_events:p,instanceRef:i}=K(s);if(ne(r,"options")){const _=N(s,"options"),l=N(r,"options");_!==l&&t.options.set(l)}if(ne(r,"objects")){const _=N(s,"objects"),l=N(r,"objects");_!==l&&t.objects.options.set(l)}if(ne(r,"clusters")){const _=N(s,"clusters"),l=N(r,"clusters");_!==l&&t.clusters.options.set(l)}if(ne(r,"filter")){const _=N(s,"filter"),l=N(r,"filter");_!==l&&t.setFilter(l)}if(ne(r,"features")){const _=N(s,"features"),l=N(r,"features");_!==l&&(t.remove(_),t.add(l))}Se(t,p,n),re(i,c,t)}static unmountObject(t,s){const{instanceRef:r,parent:n,_events:c}=K(s);t!==null&&(Object.keys(c).forEach(p=>Ce(t,p,c[p])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),re(r))}}class Ee extends te.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const{name:t,ymaps:s,dangerZone:r}=this.props,n=Ee.mountObject(r&&typeof r.modifyConstructor=="function"?r.modifyConstructor(s[t]):s[t],this.props);this.instance=n,this.setState({instance:n})}componentDidUpdate(t){this.instance!==null&&Ee.updateObject(this.instance,t,this.props)}componentWillUnmount(){Ee.unmountObject(this.instance,this.props)}render(){return null}static mountObject(t,s){const{instanceRef:r,parent:n,_events:c}=K(s),p=new t(N(s,"geometry"),N(s,"properties"),N(s,"options"));if(Object.keys(c).forEach(i=>we(p,i,c[i])),n&&n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(p);else{if(!n||!n.add||typeof n.add!="function")throw new Error(`No parent found to mount ${s.name}`);n.add(p)}return re(null,r,p),p}static updateObject(t,s,r){const{_events:n,instanceRef:c}=K(r),{_events:p,instanceRef:i}=K(s);if(ne(r,"geometry")){const _=N(s,"geometry",{}),l=N(r,"geometry",{});Array.isArray(l)&&l!==_?Array.isArray(l[0])&&typeof l[1]=="number"?(t.geometry.setCoordinates(l[0]),t.geometry.setRadius(l[1])):t.geometry.setCoordinates(l):typeof l=="object"&&(l.coordinates!==_.coordinates&&t.geometry.setCoordinates(l.coordinates),l.radius!==_.radius&&t.geometry.setRadius(l.radius))}if(ne(r,"properties")){const _=N(s,"properties"),l=N(r,"properties");_!==l&&t.properties.set(l)}if(ne(r,"options")){const _=N(s,"options"),l=N(r,"options");_!==l&&t.options.set(l)}Se(t,p,n),re(i,c,t)}static unmountObject(t,s){const{instanceRef:r,parent:n,_events:c}=K(s);t!==null&&(Object.keys(c).forEach(p=>Ce(t,p,c[p])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),re(r))}}const Vc=()=>{const o=m.useRef(null);return e.jsx(Tc,{children:e.jsx("div",{children:e.jsx(gt,{defaultState:{center:[41.32,69.27],zoom:12,controls:[]},width:500,instanceRef:t=>{o.current=t,t&&t.behaviors.disable("scrollZoom")},children:e.jsx(qc,{options:{position:{bottom:20,right:20}}})})})})},Hc=({temporarySocialPlatforms:o,setTemporarySocialPlatforms:t})=>{const s=(r,n)=>{t(c=>c.map(p=>p.id===n?{...p,text:r}:p))};return e.jsxs("div",{className:U.aboutUs_inputs,children:[o.map(r=>e.jsx("div",{className:U.aboutUs_inputs_wrap,children:r.type=="isTextarea"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:U.aboutUs_inputs_wrap_title,children:r.title}),e.jsx("textarea",{className:U.aboutUs_inputs_wrap_textarea,onChange:n=>s(n.target.value,r.id),value:r.text})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:U.aboutUs_inputs_wrap_title,children:r.title}),e.jsx("input",{className:U.aboutUs_inputs_wrap_input,type:r.type==="isPhone"?"number":r.type==="isEmail"?"email":"text",onChange:n=>s(n.target.value,r.id),value:r.text})]})},r.id)),e.jsx(Vc,{})]})},Xc=({id:o,checked:t,onChange:s})=>{const r=n=>{s(o,n.target.checked)};return e.jsxs("label",{className:U.custom_checkbox,children:[e.jsx("input",{className:U.custom_checkbox_input,type:"checkbox",checked:t,onChange:r}),e.jsx("span",{className:U.custom_checkbox_box,children:e.jsx(z,{name:"CheckIcon",width:18,height:18,className:U.custom_checkbox_box_icon})})]})},Gc=({temporaryContactsSchedule:o,setTemporaryContactsSchedule:t})=>{const s=i=>{const _=i.replace(/\D/g,"");return _.length<=2?_:`${_.slice(0,2)}:${_.slice(2,4)}`},r=(i,_,l,d)=>{if(!d.isActive)return;const u=s(l);t(b=>b.map(h=>h.id===i?{...h,workHours:{...h.workHours,[_]:u}}:h))},n=(i,_)=>{t(l=>l.map(d=>d.id===i?{...d,isActive:_,workHours:_?d.workHours:{start:"",end:""}}:d))},c=m.useRef({}),p=m.useRef({});return m.useEffect(()=>{o.forEach(i=>{var _;i.isActive&&c.current[i.id]&&!p.current[i.id]&&((_=c.current[i.id])==null||_.focus(),p.current[i.id]=!0)})},[o]),e.jsxs("div",{className:U.aboutUs_week,children:[e.jsxs("div",{className:U.aboutUs_week_info,children:[e.jsx("span",{className:U.aboutUs_week_info_text,children:"Рабочие дни:"}),e.jsx("span",{className:U.aboutUs_week_info_text,children:"Рабочие время:"})]}),e.jsx("div",{className:U.aboutUs_week_content,children:o.map((i,_)=>{const l=_===o.length-1,d=l&&i.isActive?U.aboutUs_week_wrap_colored_active:"";return e.jsxs("div",{className:U.aboutUs_week_wrap,children:[e.jsxs("div",{className:`
                  ${U.aboutUs_week_wrap_colored} 
                  ${i.isActive?U.aboutUs_week_wrap_colored_active:""} 
                  ${l?U.aboutUs_week_wrap_colored_last:""} 
                  ${d}
                `,children:[e.jsx("span",{className:U.aboutUs_week_wrap_day,children:i.day}),e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{className:U.aboutUs_week_wrap_schedule,children:"c:"}),e.jsx("input",{ref:u=>c.current[i.id]=u,className:U.aboutUs_week_wrap_input,type:"text",placeholder:"00:00",onChange:u=>r(i.id,"start",u.target.value,i),value:i.workHours.start}),e.jsx("span",{className:U.aboutUs_week_wrap_schedule,children:"до:"}),e.jsx("input",{className:U.aboutUs_week_wrap_input,type:"text",placeholder:"00:00",onChange:u=>r(i.id,"end",u.target.value,i),value:i.workHours.end})]})]}),e.jsx(Xc,{id:i.id,checked:i.isActive,onChange:n})]},i.id)})})]})},Kc=()=>{const{contactsFormInputsArr:o,setContactsFormInputsArr:t,contactsSchedule:s,setContactsSchedule:r,setImageUrlLogo:n}=qe(),[c,p]=m.useState(o),[i,_]=m.useState(""),[l,d]=m.useState(s),u=()=>{t(c),n(i);const b=l.map(h=>h.workHours&&h.workHours.start===""&&h.workHours.end===""?{...h,isActive:!1}:h);r(b)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:U.aboutUs,children:[e.jsx(Ec,{temporaryImageUrl:i,setTemporaryImageUrl:_}),e.jsxs("div",{className:U.aboutUs_content,children:[e.jsx(Hc,{temporarySocialPlatforms:c,setTemporarySocialPlatforms:p}),e.jsx(Gc,{temporaryContactsSchedule:l,setTemporaryContactsSchedule:d})]})]}),e.jsx("button",{className:U.aboutUs_btn,onClick:u,children:"Сохранить"})]})};function Zc({width:o=78,color:t="white",backgroundOn:s="rgba(137, 250, 135, 1)",backgroundOff:r="rgba(193, 193, 193, 1)",speed:n=500,scale:c=1.1,status:p=!1,disabled:i=!1}){const _={width:`${o}px`,height:`${o/2-o/20}px`,background:p?s:r,borderRadius:`${o/2}px`,display:"flex",alignItems:"center",transition:`${n}ms`,cursor:"pointer"},l={background:`${t}`,height:`${o/2-o/20}px`,width:`${o/2-o/20}px`,border:`${o/25}px solid ${p?s:r}`,borderRadius:"50%",transition:`${n}ms`,transform:`scale(${c}) translateX(${p?"110%":"0"})`};return e.jsx("div",{style:_,children:e.jsx("div",{style:l})})}const Jc=({temporarySocialPlatforms:o,setTemporarySocialPlatforms:t})=>{const s=(n,c)=>{t(p=>p.map(i=>i.id===n?{...i,url:c,isActive:c===""?!1:i.isActive}:i))},r=(n,c)=>{n.url!==""&&t(p=>p.map(i=>i.id===c?{...i,isActive:!i.isActive,url:n.isActive?"":n.url}:i))};return e.jsx(e.Fragment,{children:o.map(n=>e.jsxs("div",{className:U.socials_content_wrap,children:[e.jsx("img",{src:n.icon,alt:n.alt}),e.jsx("input",{type:"text",className:U.socials_content_wrap_input,value:n.url||"",onChange:c=>s(n.id,c.target.value)}),e.jsx("div",{onClick:()=>r(n,n.id),children:e.jsx(Zc,{status:n.isActive})})]},n.id))})},Yc=()=>{const{socialPlatforms:o,setSocialPlatforms:t}=qe();async function s(){const p=je.get("multi-store");try{const i=await oe.post("web-credentials",{multiStoreId:Number(p)});i.data&&console.log("response-data",i.data)}catch(i){console.log("error",i)}}m.useEffect(()=>{s()},[]);const[r,n]=m.useState(o);async function c(){t(r);const p=je.get("multi-store"),i=r.reduce((_,l)=>(_[l.name]={url:l.url,isActive:l.isActive},_),{});try{const _=await oe.patch(`web-credentials/${p}`,{social:i});_.data&&console.log("response-data",_.data)}catch(_){console.log("error",_)}}return e.jsxs("div",{className:U.socials,children:[e.jsx("h3",{className:U.socials_title,children:"Соц-сети"}),e.jsx("div",{className:U.socials_content,children:e.jsx(Jc,{temporarySocialPlatforms:r,setTemporarySocialPlatforms:n})}),e.jsx("button",{className:U.contacts_btn,onClick:c,children:"Сохранить"})]})},Qc=[{id:Q(),title:"Соц-сети",href:"/admin/settings/contacts"},{id:Q(),title:"О нас",href:"/admin/settings/contacts/aboutUs"}];function ei(){const t=ae().pathname;return e.jsx("div",{className:U.contacts,children:e.jsxs("div",{className:U.contacts_content,children:[e.jsx("div",{className:U.contacts_nav,children:e.jsx("ul",{className:U.contacts_nav_list,children:Qc.map(s=>e.jsx(Z,{to:s.href,className:`${U.contacts_nav_link} ${s.href==t?U.contacts_nav_link_active:""}`,children:s.title},s.id))})}),t==="/admin/settings/contacts"&&e.jsx(Yc,{}),t==="/admin/settings/contacts/aboutUs"&&e.jsx(Kc,{})]})})}const ti="_radioLabel_dhgqa_1",si="_radioLabel_selected_dhgqa_7",oi="_radioLabel_radio_dhgqa_7",ni="_radioLabel_input_dhgqa_15",ri="_radioLabel_text_dhgqa_28",ai="_storeBtn_dhgqa_34",ci="_storeBtn_active_dhgqa_48",ii="_deliveryInput_text_dhgqa_53",li="_deliveryInput_wrap_dhgqa_58",_i="_deliveryInput_wrap_input_dhgqa_66",di="_version3_dhgqa_74",pi="_version3_title_dhgqa_79",ui="_version3_block_dhgqa_85",mi="_version3_block_top_dhgqa_90",bi="_version3_block_top_title_dhgqa_102",hi="_version3_block_top_arrow_dhgqa_106",gi="_version3_block_top_arrow_active_dhgqa_119",vi="_version3_block_dropdown_dhgqa_122",xi="_version3_block_dropdown_item_dhgqa_133",fi="_version3_block_dropdown_open_dhgqa_149",ki="_version3_block_onOff_dhgqa_173",ji="_version3_block_delivery_dhgqa_173",yi="_version3_pickedWrap_dhgqa_178",wi="_version3_pickedWrap_item_dhgqa_189",G={radioLabel:ti,radioLabel_selected:si,radioLabel_radio:oi,radioLabel_input:ni,radioLabel_text:ri,storeBtn:ai,storeBtn_active:ci,deliveryInput_text:ii,deliveryInput_wrap:li,deliveryInput_wrap_input:_i,version3:di,version3_title:pi,version3_block:ui,version3_block_top:mi,version3_block_top_title:bi,version3_block_top_arrow:hi,version3_block_top_arrow_active:gi,version3_block_dropdown:vi,version3_block_dropdown_item:xi,version3_block_dropdown_open:fi,version3_block_onOff:ki,version3_block_delivery:ji,version3_pickedWrap:yi,version3_pickedWrap_item:wi},me=({id:o,value:t,checked:s,onChange:r,label:n})=>e.jsxs("label",{className:`${G.radioLabel} ${s?G.radioLabel_selected:""}`,children:[e.jsx("input",{type:"radio",id:o,value:t,checked:s,onChange:r,className:G.radioLabel_input}),e.jsx("span",{className:G.radioLabel_radio}),e.jsx("span",{className:G.radioLabel_text,children:n})]}),ge=Ct()(Nt(It(o=>({deliveryStoresArr:[{id:Q(),name:"Магазин1"},{id:Q(),name:"Магазин2"},{id:Q(),name:"Магазин3"}],setDeliveryStoresArr:t=>o({deliveryStoresArr:t}),citiesDelivery:[{id:Q(),city:"Ташкент"},{id:Q(),city:"Бухара"},{id:Q(),city:"Самарканд"}],setCitiesDelivery:t=>o({citiesDelivery:t}),settingsDeliveryAll:[],setSettingsDeliveryAll:t=>o({settingsDeliveryAll:t}),selectedOption:"",setSelectedOption:t=>o({selectedOption:t}),selectedOrganizationOption:"",setSelectedOrganizationOption:t=>o({selectedOrganizationOption:t}),selectedStoreOption:"",setSelectedStoreOption:t=>o({selectedStoreOption:t}),lastLocation:"",setLastLocation:t=>o({lastLocation:t}),pickedCitiesFreeDelivery:[],setPickedCitiesFreeDelivery:t=>o({pickedCitiesFreeDelivery:t}),inputSumFree:"",setInputSumFree:t=>o({inputSumFree:t}),pickedCitiesFixedDelivery:[],setPickedCitiesFixedDelivery:t=>o({pickedCitiesFixedDelivery:t}),inputSumFixed:"",setInputSumFixed:t=>o({inputSumFixed:t}),inputFixedPrice:"",setInputFixedPrice:t=>o({inputFixedPrice:t}),pickedCitiesFlexibleDelivery:[],setPickedCitiesFlexibleDelivery:t=>o({pickedCitiesFlexibleDelivery:t}),inputSumFlexible:"",setInputSumFlexible:t=>o({inputSumFlexible:t}),inputFirstKm:"",setInputFirstKm:t=>o({inputFirstKm:t}),inputLastKm:"",setInputLastKm:t=>o({inputLastKm:t}),inputExtraKm:"",setInputExtraKm:t=>o({inputExtraKm:t}),openCountriesDropdown:!1,setOpenCountriesDropdown:t=>o({openCountriesDropdown:t})}),{name:"delivery-store",partialize:o=>({...o})}))),Ve=(o,t)=>{const{setLastLocation:s}=ge(),r=Be();return ae(),{handleChange:m.useCallback(c=>{const p=c.target.value;o(p);const i=t[p];i&&r(i),s(i)},[r,t,o])}},Ci="_delivery_ud2pv_1",Ni="_delivery_title_ud2pv_5",Ii="_delivery_main_ud2pv_10",Si="_delivery_btn_ud2pv_16",Di="_deliveryOrg_ud2pv_28",$i="_deliveryOrg_radios_ud2pv_31",Oi="_storeDelivery_ud2pv_38",Pi="_storeDelivery_stores_ud2pv_41",Ai="_storeDelivery_radios_ud2pv_47",ie={delivery:Ci,delivery_title:Ni,delivery_main:Ii,delivery_btn:Si,deliveryOrg:Di,deliveryOrg_radios:$i,storeDelivery:Oi,storeDelivery_stores:Pi,storeDelivery_radios:Ai},Te=({text:o,placeholder:t,value:s,setValue:r})=>e.jsxs("div",{className:G.deliveryInput,children:[e.jsx("p",{className:G.deliveryInput_text,children:o}),e.jsxs("div",{className:G.deliveryInput_wrap,children:[e.jsx("input",{className:G.deliveryInput_wrap_input,type:"number",placeholder:t,value:s,onChange:n=>r(n.target.value)}),e.jsx("span",{className:G.deliveryInput_wrap_input_text,children:"UZS"})]})]});function He({citiesArrDelivery:o,setCitiesArrDelivery:t,pickedCities:s,setPickedCities:r}){const{openCountriesDropdown:n,setOpenCountriesDropdown:c}=ge(),p=_=>{s.some(l=>l.id===_.id)||r([...s,_]),c(!1)},i=(_,l)=>{l.stopPropagation(),r(s.filter(d=>d.id!==_.id))};return e.jsxs("div",{className:G.version3,children:[e.jsx("span",{className:G.version3_title,children:"Города"}),e.jsxs("div",{className:G.version3_block,children:[e.jsxs("div",{className:`${s.length>0?G.version3_pickedWrap:G.version3_block_top}`,onClick:()=>c(!n),children:[s.length>0?s.map(_=>e.jsxs("div",{className:G.version3_pickedWrap_item,children:[e.jsx("h2",{className:G.version3_block_top_title,children:_.city}),e.jsx("button",{onClick:l=>i(_,l),children:e.jsx(z,{name:"XMarkIcon",width:15})})]},_.id)):e.jsx("h2",{className:G.version3_block_top_title,children:"Выберите город"}),e.jsx("button",{className:G.version3_block_top_btn,onClick:()=>c(!n),children:e.jsx("div",{className:`${G.version3_block_top_arrow} ${n&&o.length>0?G.version3_block_top_arrow_active:""}`,children:e.jsx(z,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${G.version3_block_dropdown} ${n&&o.length>0?G.version3_block_dropdown_open:""}`,children:o==null?void 0:o.map(_=>e.jsx("span",{className:G.version3_block_dropdown_item,onClick:()=>p(_),children:_.city},_.id))})]})]})}const Mi=()=>{const{inputSumFree:o,setInputSumFree:t,citiesDelivery:s,setCitiesDelivery:r,pickedCitiesFreeDelivery:n,setPickedCitiesFreeDelivery:c,deliveryStoresArr:p,setDeliveryStoresArr:i,setInputSumFixed:_,setInputFixedPrice:l,setPickedCitiesFixedDelivery:d,settingsDeliveryAll:u,setSettingsDeliveryAll:b,setOpenCountriesDropdown:h}=ge(),[g,I]=m.useState(n),[M,W]=m.useState(o);m.useEffect(()=>{h(!1)},[]);const $=()=>{b([]),_(""),l(""),d([]),c(g),t(M),o.length!==0&&n.length!==0?(b([{stores:p,minPrice:o}]),console.log("settingsDeliveryAll",u)):b([]),h(!1)};return e.jsxs("div",{children:[e.jsx(Te,{text:"Минимальная сумма заказа",placeholder:"0",value:M,setValue:W}),e.jsx(He,{citiesArrDelivery:s,setCitiesArrDelivery:r,pickedCities:g,setPickedCities:I}),e.jsx("button",{className:ie.delivery_btn,onClick:()=>$(),children:"Сохранить"})]})},Wi=()=>{const{inputSumFixed:o,setInputSumFixed:t,inputFixedPrice:s,setInputFixedPrice:r,citiesDelivery:n,setCitiesDelivery:c,pickedCitiesFixedDelivery:p,setPickedCitiesFixedDelivery:i,deliveryStoresArr:_,setPickedCitiesFreeDelivery:l,setInputSumFree:d,setSettingsDeliveryAll:u,settingsDeliveryAll:b,setOpenCountriesDropdown:h}=ge(),[g,I]=m.useState(p),[M,W]=m.useState(o),[$,O]=m.useState(s);m.useEffect(()=>{h(!1)},[]);const k=()=>{u([]),l([]),d(""),i(g),t(M),r($),o.length!==0&&p.length!==0&&s.length!==0?(u([{stores:_,minPrice:o,fixedPrise:s}]),console.log("settingsDeliveryAll",b)):u([]),h(!1)};return e.jsxs("div",{children:[e.jsx(Te,{text:"Минимальная сумма заказа",placeholder:"0",value:M,setValue:W}),e.jsx(Te,{text:"Цена за доставку",placeholder:"0",value:$,setValue:O}),e.jsx(He,{citiesArrDelivery:n,setCitiesArrDelivery:c,pickedCities:g,setPickedCities:I}),e.jsx("button",{className:ie.delivery_btn,onClick:()=>k(),children:"Сохранить"})]})},Ei=()=>e.jsxs("div",{children:[e.jsx("span",{children:"Первые"}),e.jsx("input",{type:"number"}),e.jsx("span",{children:"по"}),e.jsx("input",{type:"number"})]}),Bi=()=>{const{citiesDelivery:o,setCitiesDelivery:t,pickedCitiesFlexibleDelivery:s,setPickedCitiesFlexibleDelivery:r}=ge(),[n,c]=m.useState(s);return e.jsxs("div",{children:[e.jsx(Ei,{}),e.jsx(He,{citiesArrDelivery:o,setCitiesArrDelivery:t,pickedCities:n,setPickedCities:c}),e.jsx("button",{className:ie.delivery_btn,children:"Сохранить"})]})},Ui=()=>e.jsx("div",{children:"OwnVersionDelivery"}),Fi=()=>{const{selectedOrganizationOption:o,lastLocation:t,setSelectedOrganizationOption:s}=ge(),r=ae(),n={freeDelivery:"/admin/settings/delivery/forOrganization/freeDelivery",fixedPriceDelivery:"/admin/settings/delivery/forOrganization/fixedPriceDelivery",flexibleDelivery:"/admin/settings/delivery/forOrganization/flexibleDelivery",ownVersionDelivery:"/admin/settings/delivery/forOrganization/ownVersionDelivery"},{handleChange:c}=Ve(s,n);return e.jsxs("div",{className:ie.deliveryOrg,children:[e.jsx("h4",{className:ie.delivery_title,children:"Выберите вид доставки"}),e.jsxs("div",{className:ie.deliveryOrg_radios,children:[e.jsx(me,{id:"freeDelivery",value:"freeDelivery",checked:o==="freeDelivery",onChange:c,label:"Бесплатная доставка"}),e.jsx(me,{id:"fixedPriceDelivery",value:"fixedPriceDelivery",checked:o==="fixedPriceDelivery",onChange:c,label:"Фиксированная цена"}),e.jsx(me,{id:"flexibleDelivery",value:"flexibleDelivery",checked:o==="flexibleDelivery",onChange:c,label:"Гибкая доставка"}),e.jsx(me,{id:"ownVersionDelivery",value:"ownVersionDelivery",checked:o==="ownVersionDelivery",onChange:c,label:"Свой вариант"})]}),e.jsxs("div",{children:[r.pathname==="/admin/settings/delivery/forOrganization/freeDelivery"&&e.jsx(Mi,{}),r.pathname==="/admin/settings/delivery/forOrganization/fixedPriceDelivery"&&e.jsx(Wi,{}),r.pathname==="/admin/settings/delivery/forOrganization/flexibleDelivery"&&e.jsx(Bi,{}),r.pathname==="/admin/settings/delivery/forOrganization/ownVersionDelivery"&&e.jsx(Ui,{})]})]})},Li=({text:o,isActive:t,onClick:s})=>e.jsx("button",{className:`${G.storeBtn} ${t?G.storeBtn_active:""}`,onClick:s,children:o}),zi=()=>e.jsx("div",{children:"StoreFreeDelivery"}),Ti=()=>e.jsx("div",{children:"StoreFixedPriceDelivery"}),Ri=()=>e.jsx("div",{children:"StoreFlexibleDelivery"}),qi=()=>e.jsx("div",{children:"StoreOwnVersionDelivery"}),Vi=()=>{const{deliveryStoresArr:o,selectedStoreOption:t,lastLocation:s,setSelectedStoreOption:r}=ge(),[n,c]=m.useState(null),p=ae(),i={freeDelivery:"/admin/settings/delivery/forStore/storeFreeDelivery",fixedPriceDelivery:"/admin/settings/delivery/forStore/storeFixedPriceDelivery",flexibleDelivery:"/admin/settings/delivery/forStore/storeFlexibleDelivery",ownVersionDelivery:"/admin/settings/delivery/forStore/storeOwnVersionDelivery"},{handleChange:_}=Ve(r,i),l=d=>{c(d),p.pathname="/admin/settings/delivery/forStore/storeFreeDelivery",r("freeDelivery")};return e.jsxs("div",{className:ie.storeDelivery,children:[e.jsx("h4",{className:ie.delivery_title,children:"Выберите магазин "}),e.jsx("div",{className:ie.storeDelivery_stores,children:o.map(d=>e.jsx(Li,{text:d.name,isActive:d.id===n,onClick:()=>l(d.id)},d.id))}),e.jsxs("div",{children:[e.jsx("h4",{className:ie.delivery_title,children:"Выберите вид доставки"}),e.jsxs("div",{className:ie.storeDelivery_radios,children:[e.jsx(me,{id:"freeDelivery",value:"freeDelivery",checked:t==="freeDelivery",onChange:_,label:"Бесплатная доставка"}),e.jsx(me,{id:"fixedPriceDelivery",value:"fixedPriceDelivery",checked:t==="fixedPriceDelivery",onChange:_,label:"Фиксированная цена"}),e.jsx(me,{id:"flexibleDelivery",value:"flexibleDelivery",checked:t==="flexibleDelivery",onChange:_,label:"Гибкая доставка"}),e.jsx(me,{id:"ownVersionDelivery",value:"ownVersionDelivery",checked:t==="ownVersionDelivery",onChange:_,label:"Свой вариант"})]})]}),e.jsxs("div",{children:[p.pathname==="/admin/settings/delivery/forStore/storeFreeDelivery"&&e.jsx(zi,{}),p.pathname==="/admin/settings/delivery/forStore/storeFixedPriceDelivery"&&e.jsx(Ti,{}),p.pathname==="/admin/settings/delivery/forStore/storeFlexibleDelivery"&&e.jsx(Ri,{}),p.pathname==="/admin/settings/delivery/forStore/storeOwnVersionDelivery"&&e.jsx(qi,{})]})]})},Hi=()=>{const{selectedOption:o,setSelectedOption:t,lastLocation:s}=ge(),r=ae(),n=Be(),c={forOrganization:"/admin/settings/delivery/forOrganization",forStore:"/admin/settings/delivery/forStore"},{handleChange:p}=Ve(t,c);return m.useEffect(()=>{n(s)},[s]),e.jsxs("div",{className:ie.delivery,children:[e.jsx("h3",{className:ie.delivery_title,children:"Выберите версию настройки доставки"}),e.jsxs("div",{className:ie.delivery_main,children:[e.jsx(me,{id:"forOrganization",value:"forOrganization",checked:o==="forOrganization",onChange:p,label:"Для организации"}),e.jsx(me,{id:"forStore",value:"forStore",checked:o==="forStore",onChange:p,label:"Для каждого магазина"})]}),r.pathname.startsWith("/admin/settings/delivery/forOrganization")&&e.jsx(Fi,{}),r.pathname.startsWith("/admin/settings/delivery/forStore")&&e.jsx(Vi,{})]})},Xi=[{id:"1",label:"Модули",href:"/admin/settings/modules"},{id:"2",label:"Шаблоны",href:"/admin/settings/templates"},{id:"3",label:"Категории",href:"/admin/settings/categories"},{id:"4",label:"Баннер",href:"/admin/settings/banner"},{id:"5",label:"Основные",href:"/admin/settings/contacts"},{id:"6",label:"Доставка",href:"/admin/settings/delivery"}];function Gi(){const t=ae().pathname;return e.jsx("div",{className:a.settings,children:e.jsxs("div",{className:a.settings_content,children:[e.jsx("div",{className:a.settings_content_top,children:e.jsx("ul",{className:a.settings_tools,children:Xi.map(s=>e.jsx("li",{children:e.jsx(Z,{to:s.href,className:`${a.settings_tools_link} ${t.startsWith(s.href)?a.settings_tools_link_active:""}`,children:s.label})},s.id))})}),t=="/admin/settings/modules"&&e.jsx(Zn,{}),t=="/admin/settings/templates"&&e.jsx(Jn,{}),t=="/admin/settings/categories"&&e.jsx(Nr,{}),t.startsWith("/admin/settings/banner")&&e.jsx(Ja,{}),t.startsWith("/admin/settings/contacts")&&e.jsx(ei,{}),t.startsWith("/admin/settings/delivery")&&e.jsx(Hi,{})]})})}const tt=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Статус"},{id:4,title:"Акции"},{id:5,title:""}];function Ki(){const[o,t]=m.useState(""),[s]=m.useState(1),[r]=m.useState(10),[n,c]=m.useState({status:!1,message:""}),[p,i]=m.useState([]);m.useEffect(()=>{o||(i([]),c({status:!1,message:""}))},[o]);async function _(l){l.preventDefault();const d=je.get("multi-store");try{const b=await(await oe.get(`nomenclatures?multiStoreId=${d}&name=${o}&page=${s}&perPage=${r}`)).data.data;b.length>0?(i([...b]),c({status:!1,message:""})):(i([]),c({status:!0,message:"Совпадений не найдено"}))}catch(u){console.log("Ошибка произошла при поиске продуктов на складе",u)}}return e.jsxs("div",{className:a.addingWrapper,children:[e.jsxs("form",{action:"",className:a.addingWrapper_form,onSubmit:l=>_(l),children:[e.jsxs("div",{className:a.addingWrapper_search,children:[e.jsx("input",{type:"text",className:a.addingWrapper_search_input,placeholder:"Поиск товара",onChange:l=>t(l.target.value),value:o}),e.jsx(z,{className:a.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:a.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:a.addingWrapper_table,children:[e.jsx("thead",{className:a.addingWrapper_thead,children:e.jsx("tr",{className:a.addingWrapper_thead_tr,children:tt.map(l=>e.jsx("th",{className:a.addingWrapper_thead_th,children:l.title},l.id))})}),e.jsx("tbody",{className:a.addingWrapper_tbody,children:p==null?void 0:p.map(l=>e.jsxs("tr",{className:a.addingWrapper_tbody_tr,children:[tt.map(d=>{var u;return e.jsxs("td",{className:a.addingWrapper_tbody_td,children:[d.title=="Наименование"?e.jsx("span",{children:(u=l==null?void 0:l.name)==null?void 0:u.ru}):"",d.title=="Штрих-код"?e.jsx("span",{children:l.mxik}):"",d.title=="Статус"?e.jsx("span",{children:"Статус"}):""]},d.id)}),!l.hasWebNomenclature&&e.jsx("td",{className:a.addingWrapper_tbody_td,children:e.jsx(Z,{to:`/admin/stock-product/${l.id}`,className:a.addingWrapper_tbody_add,children:"Добавить"})})]},l==null?void 0:l.mxik))})]}),n.status&&e.jsx("span",{className:a.addingWrapper_table_error,children:n.message})]})}const st=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Статус"},{id:4,title:"Акции"}];function Zi(){const[o,t]=m.useState(""),[s,r]=m.useState({status:!1,message:""}),[n,c]=m.useState([]),[p]=m.useState(1),[i]=m.useState(10);m.useEffect(()=>{o||(c([]),r({status:!1,message:""}))},[o]);async function _(){const b=je.get("multi-store");try{console.log(222,"searchText",o);const g=(await oe.get(`web-nomenclatures?multiStoreId=${b}&title=${o}&page=${p}&perPage=${i}`)).data.data;console.log(999,"data",g),g.length>0?(c([...g]),r({status:!1,message:""})):(c([]),r({status:!0,message:"Совпадений не найдено"}))}catch(h){console.log("Ошибка произошла при поиске продуктов на вебсайте по заголовку",h)}}async function l(b,h){b.preventDefault();try{const g=await oe.patch(`web-nomenclatures/${h}`,{isActive:!1});t(""),c([]),console.log("Продукт успешно отключен с веб сайта",g)}catch(g){console.log("Ошибка произошла при удалении продукта с вебсайта",g)}}async function d(b,h){b.preventDefault();try{const g=await oe.patch(`web-nomenclatures/${h}`,{isActive:!0});t(""),c([]),console.log("Продукт успешно включен на веб сайта",g)}catch(g){console.log("Ошибка произошла при удалении продукта с вебсайта",g)}}const u=async b=>{b.preventDefault(),_()};return e.jsxs("div",{className:a.addingWrapper,children:[e.jsxs("form",{action:"",className:a.addingWrapper_form,onSubmit:b=>u(b),children:[e.jsxs("div",{className:a.addingWrapper_search,children:[e.jsx("input",{type:"text",className:a.addingWrapper_search_input,placeholder:"Поиск товара",onChange:b=>t(b.target.value),value:o}),e.jsx(z,{className:a.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:a.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:a.addingWrapper_table,children:[e.jsx("thead",{className:a.addingWrapper_thead,children:e.jsxs("tr",{className:a.addingWrapper_thead_tr,children:[st.map(b=>e.jsx("th",{className:a.addingWrapper_thead_th,children:b.title},b.id)),e.jsx("th",{className:a.addingWrapper_thead_th})]})}),e.jsx("tbody",{className:a.addingWrapper_tbody,children:n==null?void 0:n.map(b=>e.jsxs("tr",{className:a.addingWrapper_tbody_tr,children:[st.map(h=>e.jsxs("td",{className:a.addingWrapper_tbody_td,children:[h.title=="Наименование"?e.jsx("span",{children:b.title}):"",h.title=="Статус"?e.jsx("span",{children:"Статус"}):""]},h.id)),e.jsx("td",{className:a.addingWrapper_tbody_td,children:e.jsxs("div",{className:a.addingWrapper_tbody_buttons,children:[b.isActive&&e.jsx(Z,{to:"#",className:a.addingWrapper_tbody_del,onClick:h=>l(h,b.id),children:"Отключить"}),!b.isActive&&e.jsx(Z,{to:"#",className:a.addingWrapper_tbody_del,onClick:h=>d(h,b.id),children:"Включить"}),e.jsx(Z,{to:`/admin/website-product/${b.id}`,className:a.addingWrapper_tbody_add,children:"Изменить"})]})})]},b==null?void 0:b.id))})]}),s.status&&e.jsx("span",{className:a.addingWrapper_table_error,children:s.message})]})}const Ji=[{id:1,title:"На складе",href:"/admin/product/adding/stock"},{id:2,title:"На сайте",href:"/admin/product/adding/website"}];function Yi(){const t=ae().pathname;return e.jsxs("div",{className:a.products,children:[e.jsx("div",{className:a.products_buttons,children:Ji.map(s=>e.jsx(Z,{to:s.href,className:`${a.products_btn} ${s.href==t?a.products_btn_active:""}`,children:s.title},s.id))}),t=="/admin/product/adding/stock"&&e.jsx(Ki,{}),t=="/admin/product/adding/website"&&e.jsx(Zi,{})]})}const Qi=[{id:1,title:"Добавление",href:"/addingProducts"},{id:2,title:"Добавление на сайт",href:"/admin/product/adding"},{id:3,title:"Списание",href:"/admin/product/write-off"}];function el(){const t=ae().pathname;return e.jsxs("div",{className:a.products,children:[e.jsx("div",{className:a.products_buttons,children:Qi.map(s=>e.jsx(Z,{to:s.href,className:`${a.products_btn} ${t.startsWith(`${s.href}`)||t.startsWith("/admin/product-item")?a.products_btn_active:""}`,children:s.title},s.id))}),t.startsWith("/admin/product/adding")&&e.jsx(Yi,{})]})}const tl="_user_title_1uizv_1",sl="_user_list_1uizv_6",ol="_user_list_link_1uizv_12",nl="_user_list_link_active_1uizv_26",rl="_user_form_1uizv_30",al="_user_form_btn_1uizv_35",cl="_user_form_wrap_1uizv_51",il="_user_form_input_1uizv_57",ll="_user_form_icon_1uizv_65",_l="_user_table_1uizv_68",dl="_user_table_tbody_1uizv_71",pl="_user_table_tr_1uizv_74",ul="_user_table_th_1uizv_77",ml="_user_table_td_1uizv_85",bl="_user_table_btns_1uizv_89",hl="_user_table_btn_1uizv_89",gl="_user_table_btn_blocked_1uizv_107",vl="_modal_1uizv_111",xl="_modal_active_1uizv_120",fl="_modal_wrap_1uizv_123",kl="_modal_wrap_header_1uizv_131",jl="_modal_wrap_stores_1uizv_143",yl="_modal_wrap_stores_text_1uizv_165",wl="_modal_btns_1uizv_169",Cl="_modal_btn_1uizv_169",Nl="_modal_content_1uizv_193",Il="_modal_content_text_1uizv_197",Sl="_versions_1uizv_206",Dl="_versions_block_1uizv_211",$l="_versions_block_top_1uizv_216",Ol="_versions_block_top_title_1uizv_226",Pl="_versions_block_top_arrow_1uizv_230",Al="_versions_block_top_arrow_active_1uizv_239",Ml="_versions_block_dropdown_1uizv_242",Wl="_versions_block_dropdown_item_1uizv_257",El="_versions_block_dropdown_open_1uizv_268",Bl="_shop_header_1uizv_275",Ul="_shop_header_title_1uizv_282",A={user_title:tl,user_list:sl,user_list_link:ol,user_list_link_active:nl,user_form:rl,user_form_btn:al,user_form_wrap:cl,user_form_input:il,user_form_icon:ll,user_table:_l,user_table_tbody:dl,user_table_tr:pl,user_table_th:ul,user_table_td:ml,user_table_btns:bl,user_table_btn:hl,user_table_btn_blocked:gl,modal:vl,modal_active:xl,modal_wrap:fl,modal_wrap_header:kl,modal_wrap_stores:jl,modal_wrap_stores_text:yl,modal_btns:wl,modal_btn:Cl,modal_content:Nl,modal_content_text:Il,versions:Sl,versions_block:Dl,versions_block_top:$l,versions_block_top_title:Ol,versions_block_top_arrow:Pl,versions_block_top_arrow_active:Al,versions_block_dropdown:Ml,versions_block_dropdown_item:Wl,versions_block_dropdown_open:El,shop_header:Bl,shop_header_title:Ul},Xe=({headers:o})=>e.jsx("thead",{className:A.user_table_thead,children:e.jsx("tr",{className:A.user_table_tr,children:o.map(t=>e.jsx("th",{className:A.user_table_th,children:t.title},t.id))})}),Ge=()=>{const[o,t]=m.useState(""),{setUserSearch:s}=de(),r=n=>{n.preventDefault(),s(o)};return m.useEffect(()=>{o==""&&s("")},[o]),e.jsxs("form",{action:"",className:A.user_form,children:[e.jsxs("div",{className:A.user_form_wrap,children:[e.jsx("input",{type:"text",className:A.user_form_input,placeholder:"Поиск пользователей",onChange:n=>t(n.target.value),value:o}),e.jsx(z,{className:A.user_form_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:A.user_form_btn,onClick:n=>r(n),children:"Найти"})]})},Ke=({arr:o,showStore:t})=>{const{usersList:s,userSearch:r,openModalAdmin:n,openAppointUser:c,shopListAdmin:p,setOpenAppointUser:i,setOpenModalAdmin:_,setUsersList:l,setEditUserAdmin:d,setShopListDropdownAdmin:u,setCloseBlock:b,setFilteredShopListAdmin:h}=de(),I=ae().pathname,[M,W]=m.useState([]);m.useEffect(()=>{let j=o;I==="/clients"?j=o.filter(v=>v.isUser):I==="/employees"&&(j=o.filter(v=>!v.isUser)),j=j==null?void 0:j.filter(v=>v.name.toLowerCase().includes(r.toLowerCase())),W(j)},[r,s,o,I]);const $=j=>{const v=s.map(S=>S.id===j?{...S,isBlocked:!S.isBlocked}:S);l(v)},O=j=>{_(!0),b(!0);const v=s.find(C=>C.id==j),S=[{id:Q(),title:"Магазин 1",order:1},{id:Q(),title:"Магазин 2",order:2},{id:Q(),title:"Магазин 3",order:3}],D=S.filter(C=>!(v!=null&&v.shopList.some(E=>E.title===C.title)));console.log("editUser",v),console.log("shopListAdminArr",S),v&&(u(v.shopList),d(v),h(D))},k=j=>{i(!0),b(!0),u([]),h(p);const v=s.find(S=>S.id==j);v&&d(v)},P=n||c;return e.jsx(e.Fragment,{children:e.jsx("tbody",{className:A.user_table_tbody,children:M.map(j=>e.jsxs("tr",{children:[e.jsx("td",{className:A.user_table_td,children:j.name}),e.jsx("td",{className:A.user_table_td,children:t?j.shopList.map(v=>e.jsxs("p",{children:[v.title," ",`(${v.position})`]},v.id)):e.jsx("p",{children:j.isEmployes?"сотрудник":"пользователь"})}),e.jsx("td",{className:A.user_table_td,children:t?"Админ 1":j.registerDate}),e.jsx("td",{className:A.user_table_btns,children:j!=null&&j.isUser?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`${A.user_table_btn} ${j.isBlocked?A.user_table_btn_blocked:""}`,onClick:()=>$(j.id),children:j.isBlocked?"Разблокировать":"Заблокировать"}),e.jsx("button",{className:A.user_table_btn,onClick:()=>k(j.id),disabled:P,children:"Назначить"})]}):e.jsx("button",{className:A.user_table_btn,onClick:()=>O(j.id),style:{background:"#B5FFC7"},disabled:P,children:"Изменить"})})]},j.id))})})};function ot({color:o="black",className:t,header:s,isEnabled:r,dropdownItem:n,margin:c,versionList:p,closeBlock:i}){const{shopListAdmin:_,shopListDropdownAdmin:l,filteredShopListAdmin:d,setShopListDropdownAdmin:u,setShopListAdmin:b}=de(),[h,g]=m.useState("Выберете должность"),[I,M]=m.useState("Выберете магазин"),[W,$]=m.useState(!1);m.useEffect(()=>{n!=null&&n.position?g(n.position):g("Выберете должность")},[n==null?void 0:n.position]),m.useEffect(()=>{i||$(!1)},[i]);const O=(v,S)=>{if(n){g(v.title);const D=l.filter(E=>E.title==n.title),C=l.findIndex(E=>E.title==n.title);D[0].position=v.title,l.splice(C,1,D[0]),u(l)}else M(v.title);if(r&&!l.some(D=>D.title==v.title)){g("Выберете должность");const D={...v,originalIndex:S};u([...l,D]),b(d.filter((C,E)=>E!==S))}$(!1)},k=v=>{const S=l.filter(D=>D.id!==v.id);if(u(S),v.originalIndex!==void 0){const D=[..._];D.splice(v.originalIndex,0,v),b(D)}else{const D=[...d,v].sort((C,E)=>C.order!==void 0&&E.order!==void 0?C.order-E.order:0);b(D),console.log("arr",D)}},P=()=>{$(!W)};function j(v,S){return v.order&&S.order&&(v==null?void 0:v.order)>(S==null?void 0:S.order)?1:-1}return e.jsx("div",{className:t??A.versions,style:{marginBottom:c},children:e.jsxs("div",{className:A.versions_block,children:[s&&e.jsxs("div",{className:A.shop_header,children:[e.jsx("p",{className:A.shop_header_title,children:n==null?void 0:n.title}),e.jsx("button",{onClick:()=>n&&k(n),children:e.jsx(z,{name:"XMarkIcon",width:16})})]}),e.jsxs("div",{className:A.versions_block_top,children:[e.jsx("h2",{className:A.versions_block_top_title,style:{color:o},children:n?h:I}),e.jsx("button",{className:A.versions_block_top_btn,onClick:()=>P(),children:e.jsx("div",{className:`${A.versions_block_top_arrow} ${W?A.versions_block_top_arrow_active:""}`,children:e.jsx(z,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${A.versions_block_dropdown} ${W?A.versions_block_dropdown_open:""}`,children:p==null?void 0:p.sort(j).map((v,S)=>e.jsx("span",{className:A.versions_block_dropdown_item,onClick:()=>O(v,S),children:v.title},S))})]})})}const Ze=()=>{const{currentShopModal:o,shopListDropdownAdmin:t,shopListPositionAdmin:s,isEnabled:r,openModalAdmin:n,editUserAdmin:c,shopListAdmin:p,usersList:i,openAppointUser:_,closeBlock:l,filteredShopListAdmin:d,setCurrentShopModal:u,setShopListPositionAdmin:b,setCurrentShopPosition:h,setOpenModalAdmin:g,setShopListAdmin:I,setUsersList:M,setOpenAppointUser:W,setCloseBlock:$,setFilteredShopListAdmin:O}=de();m.useEffect(()=>{},[d]);const k=()=>{const D=i.findIndex(C=>C.id==(c==null?void 0:c.id));c&&t.every(C=>"position"in C)&&(c.shopList=t,i.splice(D,1,c),M(i),I(p),console.log("filteredShopListAdmin",d)),console.log("shopListAdmin",p),v(),t.length==0&&P()},P=()=>{if(c){c.isUser=!0,c.isEmployes=!1,c.shopList=[];const D={id:Q(),title:"",position:"пользователь"};c.shopList=[{...D}]}v()},j=()=>{const D=i.findIndex(C=>C.id==(c==null?void 0:c.id));if(c&&(c.shopList=t,i.splice(D,1,c),c.isUser=!1,c.isEmployes=!0,M(i),W(!1),!(c!=null&&c.shopList.some(C=>"position"in C)))){c.isUser=!0,c.shopList=[];const C={id:Q(),title:"",position:"пользователь"};c.shopList=[{...C}]}},v=()=>{I(p),O([]),g(!1),W(!1),$(!1),console.log("close modal")},S=m.useRef(null);return m.useEffect(()=>{const D=C=>{var E;S.current&&!((E=S==null?void 0:S.current)!=null&&E.contains(C.target))&&v()};return n||_?document.addEventListener("mousedown",D):document.removeEventListener("mousedown",D),()=>{document.removeEventListener("mousedown",D)}},[n,_]),e.jsx("div",{className:`${A.modal} ${n?A.modal_active:""} ${_?A.modal_active:""}`,children:e.jsxs("div",{ref:S,className:A.modal_wrap,children:[e.jsxs("div",{className:A.modal_wrap_header,children:[e.jsx("h3",{children:"Редактирование должность"}),e.jsx("button",{onClick:()=>v(),children:e.jsx(z,{name:"XMarkIcon",width:24})})]}),e.jsxs("div",{className:A.modal_content,children:[e.jsxs("p",{className:A.modal_content_text,children:["Логин: ",c==null?void 0:c.name]}),e.jsxs("p",{className:A.modal_content_text,children:["Статус:",c==null?void 0:c.shopList.map(D=>e.jsx("span",{children:D.position},D.id))]}),e.jsx(ot,{color:"#717171",setVersionList:I,currentVersion:o,setCurrentVersion:u,isEnabled:r,versionList:d||p,closeBlock:l}),e.jsxs("div",{className:A.modal_wrap_stores,children:[e.jsx("p",{className:A.modal_wrap_stores_text,children:"Выбрано магазинов: "}),t==null?void 0:t.map((D,C)=>e.jsx(ot,{dropdownItem:D,margin:"12px",color:"#717171",versionList:s,setVersionList:b,setCurrentVersion:h,header:!0,closeBlock:l},C))]}),e.jsx("div",{className:A.modal_btns,children:_?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:A.modal_btn,onClick:()=>v(),style:{background:"#fff"},children:"Отмена"}),e.jsx("button",{className:A.modal_btn,onClick:()=>j(),children:"Сохранить"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:A.modal_btn,onClick:()=>P(),children:"Уволить"}),e.jsx("button",{className:A.modal_btn,onClick:()=>k(),children:"Сохранить"})]})})]})]})})},Fl=[{id:"1",title:"Логин"},{id:"2",title:"Группа"},{id:"3",title:"Дата регистрации"},{id:"4",title:""}],Ll=()=>{const{usersList:o}=de();return e.jsxs(e.Fragment,{children:[e.jsx(Ge,{}),e.jsxs("table",{className:A.user_table,children:[e.jsx(Xe,{headers:Fl}),e.jsx(Ke,{arr:o})]}),e.jsx(Ze,{})]})},zl=[{id:1,title:"Логин"},{id:2,title:"Группа"},{id:3,title:"Дата регистрации"},{id:4,title:""}],Tl=()=>{const{usersList:o}=de(),t=o.filter(s=>s.isUser==!0);return e.jsxs(e.Fragment,{children:[e.jsx(Ge,{}),e.jsxs("table",{className:A.user_table,children:[e.jsx(Xe,{headers:zl}),e.jsx(Ke,{arr:t})]}),e.jsx(Ze,{})]})},Rl=[{id:1,title:"Логин"},{id:2,title:"Магазины"},{id:3,title:"Кто назначил"},{id:4,title:"Дата назначение"}],ql=()=>{const{usersList:o}=de(),t=o.filter(s=>s.isUser!==!0);return e.jsxs(e.Fragment,{children:[e.jsx(Ge,{}),e.jsxs("table",{className:A.user_table,children:[e.jsx(Xe,{headers:Rl}),e.jsx(Ke,{arr:t,showStore:!0})]}),e.jsx(Ze,{})]})},Vl=[{id:1,title:"Все",href:"/admin/users/all"},{id:2,title:"Клиенты",href:"/admin/users/clients"},{id:3,title:"Сотрудники",href:"/admin/users/employees"}],Hl=()=>{const t=ae().pathname;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:A.users,children:e.jsxs("div",{className:A.users_header,children:[e.jsx("h2",{className:A.user_title,children:"Пользователи"}),e.jsx("ul",{className:A.user_list,children:Vl.map(s=>e.jsx("li",{children:e.jsx(Z,{className:`${A.user_list_link} ${t==s.href?A.user_list_link_active:""}`,to:s.href,children:s.title})},s.id))})]})}),e.jsxs("div",{children:[t=="/admin/users/all"&&e.jsx(Ll,{}),t=="/admin/users/clients"&&e.jsx(Tl,{}),t=="/admin/users/employees"&&e.jsx(ql,{})]})]})},nt=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Фото"}];function Xl(){const[o,t]=m.useState(""),[s]=m.useState(1),[r]=m.useState(10),[n,c]=m.useState([]);m.useEffect(()=>{p()},[o]);async function p(){const i=je.get("multi-store");try{const _=await oe.get(`nomenclatures?multiStoreId=${i}&page=${s}&perPage=${r}`),l=await _.data.data;console.log("res",_),c([...l])}catch(_){console.log("Ошибка произошла при получении всх продуктов со склада",_)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:a.addingWrapper,children:[e.jsxs("h2",{className:a.addingWrapper_title,children:["Всего товара: ",n.length]}),e.jsxs("form",{action:"",className:a.addingWrapper_form,children:[e.jsxs("div",{className:a.addingWrapper_search,children:[e.jsx("input",{type:"text",className:a.addingWrapper_search_input,placeholder:"Поиск товара",onChange:i=>t(i.target.value),value:o}),e.jsx(z,{className:a.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:a.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:a.addingWrapper_table,children:[e.jsx("thead",{className:a.addingWrapper_thead,children:e.jsx("tr",{className:a.addingWrapper_thead_tr,children:nt.map(i=>e.jsx("th",{className:a.addingWrapper_thead_th,children:i.title},i.id))})}),e.jsx("tbody",{className:a.addingWrapper_tbody,children:n&&(n==null?void 0:n.map(i=>e.jsx("tr",{className:a.addingWrapper_tbody_tr,children:nt.map(_=>{var l,d;return e.jsxs("td",{className:a.addingWrapper_tbody_td,children:[_.title=="Наименование"?e.jsx("span",{children:((l=i==null?void 0:i.name)==null?void 0:l.ru)&&((d=i==null?void 0:i.name)==null?void 0:d.ru)}):"",_.title=="Штрих-код"?e.jsx("span",{children:i==null?void 0:i.barcode}):""]},_.id)})},i==null?void 0:i.id)))})]})]})})}const rt=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Фото"}];function Gl(){const[o,t]=m.useState(""),[s]=m.useState(1),[r]=m.useState(10),[n,c]=m.useState([]);m.useEffect(()=>{p()},[o]);async function p(){const i=je.get("multi-store");try{const _=await oe.get(`web-nomenclatures?multiStoreId=${i}&page=${s}&perPage=${r}`),l=await _.data.data;console.log("res",_),c([...l])}catch(_){console.log("Ошибка произошла при получении всх продуктов со склада",_)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:a.addingWrapper,children:[e.jsxs("h2",{className:a.addingWrapper_title,children:["Всего товара: ",n.length]}),e.jsxs("form",{action:"",className:a.addingWrapper_form,children:[e.jsxs("div",{className:a.addingWrapper_search,children:[e.jsx("input",{type:"text",className:a.addingWrapper_search_input,placeholder:"Поиск товара",onChange:i=>t(i.target.value),value:o}),e.jsx(z,{className:a.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:a.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:a.addingWrapper_table,children:[e.jsx("thead",{className:a.addingWrapper_thead,children:e.jsx("tr",{className:a.addingWrapper_thead_tr,children:rt.map(i=>e.jsx("th",{className:a.addingWrapper_thead_th,children:i.title},i.id))})}),e.jsx("tbody",{className:a.addingWrapper_tbody,children:n==null?void 0:n.map(i=>e.jsx("tr",{className:a.addingWrapper_tbody_tr,children:rt.map(_=>e.jsx("td",{className:a.addingWrapper_tbody_td,children:_.title=="Наименование"?e.jsx("span",{children:i==null?void 0:i.title}):""},_.id))},i==null?void 0:i.id))})]})]})})}function Kl(){const t=ae().pathname,{shopsStocks:s}=Ne();return e.jsxs("div",{className:a.layout,children:[e.jsx("ul",{className:a.layout_buttons,children:s.map(r=>e.jsx("li",{children:e.jsx(Z,{to:`/admin/shops/shop/${r.url}`,className:`${a.layout_btn} ${t==`/admin/shops/shop/${r.url}`?a.layout_btn_active:""}`,children:r.title})},r.id))}),e.jsxs("div",{className:a.layout_content,children:[t==="/admin/shops/shop/stock"&&e.jsx(Xl,{}),t==="/admin/shops/shop/website"&&e.jsx(Gl,{})]})]})}function Zl(){const{shopsAmount:o,currentShop:t,setCurrentShop:s}=Ne(),n=ae().pathname;return e.jsxs("div",{className:a.layout,children:[e.jsx("h2",{className:a.layout_title,children:"Магазины"}),e.jsx("ul",{className:a.layout_buttons,children:o.map(c=>e.jsx("li",{children:e.jsx(Z,{to:"/admin/shops/shop",className:`${a.layout_btn} ${t==c.url?a.layout_btn_active:""}`,onClick:()=>s(c.url),children:c.title})},c.id))}),n.startsWith("/admin/shops/shop")&&e.jsx("div",{className:a.layout_content,children:e.jsx(Kl,{})})]})}function Jl({item:o}){const{setErrorModal:t}=ue(),s=r=>{r.stopPropagation()};return e.jsx("div",{className:a.errorWrapper,onClick:()=>t({status:!1,message:""}),children:e.jsxs("div",{className:a.errorWrapper_block,onClick:s,children:[e.jsx("button",{className:a.errorWrapper_block_close,onClick:()=>t({status:!1,message:""}),children:e.jsx(z,{name:"XMarkIcon",width:25,height:25})}),e.jsx("span",{children:o.message})]})})}function Yl({localNewImage:o,setLocalNewImage:t}){const[s,r]=m.useState(null);function n(d,u){return d.order>u.order?1:-1}function c(d,u){r(u)}function p(d){d.target.style.background="white"}function i(d){d.preventDefault(),d.target.style.background="lightgray"}function _(d,u){d.preventDefault(),d.target.style.background="white";const b=o&&o.map(h=>h.id===u.id?{...h,order:(s==null?void 0:s.order)||h.order}:h.id===(s==null?void 0:s.id)?{...h,order:u.order}:h).sort((h,g)=>h.order-g.order);console.log(555,"newImages",b),b&&t(b),r(null)}const l=d=>{const u=o.filter(b=>b.id!==d);t([...u])};return m.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:o&&o.sort(n).map((d,u)=>e.jsxs("div",{className:`${a.productItem_photo} ${u==0?a.productItem_photo_active:""}`,draggable:!0,onDragStart:b=>c(b,d),onDragLeave:b=>p(b),onDragEnd:b=>p(b),onDragOver:b=>i(b),onDrop:b=>_(b,d),children:[e.jsx("div",{className:a.productItem_photo_img,children:e.jsx("img",{src:d.src?`https://api.mcrm.uz/${d.src}`:d.localSrc?d.localSrc:"/add.webp",width:100,height:140,alt:"img"})}),e.jsx("div",{className:a.productItem_photo_close,onClick:()=>l(d.id),children:e.jsx(z,{width:18,height:18,name:"XMarkIcon"})})]},d.id))})}function vt({stockName:o,myMxikCode:t,localNewImage:s,setLocalNewImage:r,setLocalFormData:n,localFormData:c}){const{errorModal:p}=ue(),i=m.useRef(null),_=()=>{i.current!=null&&i.current.click()},l=async d=>{var b,h;const u=(h=(b=d==null?void 0:d.target)==null?void 0:b.files)==null?void 0:h[0];if(u&&["image/jpeg","image/png","image/webp"].includes(u.type)){console.log(2,"выбрал новую картинку и она прошла проверку на рассширение files",u);const g=new FormData;g.append("files[]",u),console.log(3,"создал и инициализировал formData и сохранил в setLocalFormData(formData) formData",g),u&&n([...c,u]);const I=s&&(s==null?void 0:s.length)>0?s.reduce((W,$)=>$.order>W?$.order:W,-1/0):1,M=new FileReader;M.onload=W=>{var $;if(($=W.target)!=null&&$.result){const O={id:Q(),order:I?I+1:1,localSrc:URL.createObjectURL(u)},k=[...s,O];console.log(4,"создал новый объект {id,order,localSrc} и localSrc добавил выбранную картинку files newImages",k),r&&r([...k]),console.log(5,"сохранил этот объект в массив setLocalNewImage")}},M.readAsDataURL(u),console.log(6,"отрисовал выбранную картинку files",u),i.current&&(i.current.value="")}};return e.jsxs("div",{className:a.productItem_top,children:[p.status&&e.jsx(Jl,{item:p}),e.jsx("h1",{className:a.productItem_title,children:"Добавление объявления"}),e.jsx("h4",{className:a.productItem_basePhoto,children:s&&s.length>0?"Главное фото":""}),e.jsxs("div",{className:a.productItem_photos,children:[e.jsx(Yl,{stockName:o,myMxikCode:t,localNewImage:s,setLocalNewImage:r}),e.jsxs("div",{className:`${a.productItem_photo} ${a.productItem_add}`,onClick:_,children:[e.jsx(z,{width:24,height:24,name:"PlusIcon",color:"rgba(191, 187, 187, 1)"}),e.jsx("span",{className:a.productItem_add_text,children:"Добавить еще"}),e.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",style:{display:"none"},onChange:l,ref:i})]})]}),e.jsx("p",{className:a.productItem_photos_desc,children:"Переместите фото чтоб поменят их порядок вывода"})]})}function xt({localCategory:o,productName:t,productDescription:s,setProductDescription:r,setProductName:n,myBarcode:c,vendorCode:p,setVendorCode:i,myPrice:_}){var M,W,$,O;const{pickedCategory:l,currentProduct:d,setArticleModal:u,setOpenModalCategory:b}=ue();m.useEffect(()=>{(l||o)&&I()},[l,o]);const[h,g]=m.useState(""),I=async()=>{try{const P=(await oe.get(`categories/${l.id?l.id:o}`)).data;g(P.name.ru)}catch(k){console.log("Ошибка произошла при получении категонии по id",k)}};return e.jsxs("div",{className:a.productItem_left,children:[e.jsxs("div",{className:a.productItem_left_info,children:[e.jsxs("div",{className:a.productItem_left_item,children:[e.jsxs("div",{className:a.productItem_left_item_top,children:[e.jsx("span",{children:"Артикул"}),e.jsx("input",{type:"text",placeholder:"например:  #DF156651",className:a.productItem_left_item_top_input,value:p||"",onChange:k=>i(Number(k.target.value))})]}),e.jsx("div",{className:a.productItem_left_item_bottom,children:e.jsx("button",{className:a.productItem_left_item_button,onClick:()=>u(!0),children:"Изменить"})})]}),e.jsxs("div",{className:a.productItem_left_item,children:[e.jsxs("div",{className:a.productItem_left_item_top,children:[e.jsx("span",{children:"Категория:"}),e.jsx("span",{children:h||((W=(M=d==null?void 0:d.category)==null?void 0:M.name)!=null&&W.ru?(O=($=d==null?void 0:d.category)==null?void 0:$.name)==null?void 0:O.ru:"")})]}),e.jsx("div",{className:a.productItem_left_item_bottom,children:e.jsx("button",{className:a.productItem_left_item_button,onClick:()=>b(!0),children:l!=null&&l.name||d!=null&&d.category?"Изменить":"Выбрать"})})]}),e.jsx("div",{className:a.productItem_left_item,children:e.jsxs("div",{className:a.productItem_left_item_top,children:[e.jsx("span",{children:"Штрих-код"}),e.jsx("span",{children:c})]})}),e.jsx("div",{className:a.productItem_left_item,children:e.jsxs("div",{className:a.productItem_left_item_top,children:[e.jsx("span",{children:"Цена:"}),e.jsx("span",{children:_})]})}),e.jsx("div",{className:a.productItem_left_item,children:e.jsxs("div",{className:a.productItem_left_item_top,children:[e.jsx("span",{children:"PDF:"}),e.jsx("button",{className:a.productItem_left_item_button,children:"Загрузить"})]})})]}),e.jsxs("form",{className:a.productItem_left_form,children:[e.jsxs("label",{className:a.productItem_left_form_label,children:[e.jsx("span",{className:a.productItem_left_form_title,children:"Заголовок"}),e.jsx("input",{className:a.productItem_left_form_input,type:"text",value:t||"",onChange:k=>n(k.target.value)})]}),e.jsxs("label",{className:a.productItem_left_form_label,children:[e.jsx("span",{className:a.productItem_left_form_title,children:"Описание товара"}),e.jsx("textarea",{onChange:k=>r(k.target.value),value:s||"",className:a.productItem_left_form_textarea}),e.jsx("p",{className:a.productItem_left_form_size,children:e.jsx("span",{children:"200/200"})})]})]})]})}function Ql({color:o="black",title:t="",extraOptionsList:s,className:r,openBlock:n,setOpenBlock:c,setExtraOptionsList:p}){const i=m.useRef([]);m.useEffect(()=>{i.current.length>0&&_()},[s]);const _=()=>{s&&s.forEach(d=>{i.current.forEach(u=>{u.name==d.title&&(u.checked=d.isActive)})})},l=(d,u)=>{const b=JSON.parse(JSON.stringify(s));b.forEach(h=>{h.title==u&&(h.isActive=!h.isActive)}),p&&p(b)};return e.jsxs("div",{className:r??F.versionExtraOptions,children:[t&&e.jsx("span",{className:F.versionExtraOptions_title,children:t}),e.jsxs("div",{className:F.versionExtraOptions_block,children:[e.jsxs("div",{className:F.versionExtraOptions_block_top,onClick:()=>c&&c(!n),children:[e.jsx("h2",{className:F.versionExtraOptions_block_top_title,style:{color:o},children:t||"Выберите параметры"}),e.jsx("button",{className:F.versionExtraOptions_block_top_btn,children:e.jsx("div",{className:`${F.versionExtraOptions_block_top_arrow} ${n?F.versionExtraOptions_block_top_arrow_active:""}`,children:e.jsx(z,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${F.versionExtraOptions_block_dropdown} ${n?F.versionExtraOptions_block_dropdown_open:""}`,children:s&&s.map((d,u)=>e.jsxs("label",{className:F.versionExtraOptions_block_dropdown_item,children:[d.title,e.jsx("input",{ref:b=>{b&&(i.current[u]=b)},type:"checkbox",name:d.title,"data-type":d.title,onChange:b=>l(b,d.title)})]},d.id))})]})]})}function e_({color:o="black",title:t="",versionList:s,className:r}){const[n,c]=m.useState(!1),[p,i]=m.useState("");m.useEffect(()=>{s==null||s.forEach(d=>{d.isActive&&i(d.title)})},[]);const _=()=>{c(!n)},l=d=>{s==null||s.forEach(u=>u.isActive=!1),s==null||s.forEach(u=>{u.title==d.title&&(u.isActive=!0,i(u.title))}),_()};return e.jsxs("div",{className:r??F.version3,children:[e.jsx("span",{className:F.version3_title,children:t}),e.jsxs("div",{className:F.version3_block,children:[e.jsxs("div",{className:F.version3_block_top,onClick:()=>_(),children:[e.jsx("h2",{className:F.version3_block_top_title,style:{color:o},children:p||"Выбрать"}),e.jsx("button",{className:F.version3_block_top_btn,children:e.jsx("div",{className:`${F.version3_block_top_arrow} ${n?F.version3_block_top_arrow_active:""}`,children:e.jsx(z,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${F.version3_block_dropdown} ${n?F.version3_block_dropdown_open:""}`,style:{height:`${s&&s.length==1?"50px":""}`},children:s&&s.map(d=>e.jsx("span",{className:F.version3_block_dropdown_item,onClick:()=>l(d),children:s.length>1?d.title:e.jsx("input",{type:"text",placeholder:"Введите вруччную",style:{width:"120px"}})},d.id))})]})]})}function t_({extraOptionsStatus:o,localCategory:t,setExtraOptionsStatus:s,extraOptions:r}){const[n,c]=m.useState(!1);return m.useEffect(()=>{},[t]),e.jsxs("div",{className:a.productItem_right_item,children:[e.jsxs("div",{className:a.productItem_right_top,onClick:()=>s(!o),children:[e.jsx("h5",{className:a.productItem_right_title,children:"Доп. параметры"}),e.jsx(ke,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)",status:o})]}),e.jsxs("div",{className:`${a.productItem_right_bottom_items} ${o?a.productItem_right_bottom_items_active:""}`,children:[e.jsx("div",{className:a.productItem_right_bottom_item,children:e.jsx(Ql,{color:"",extraOptionsList:r,openBlock:n,setOpenBlock:c})}),r.map(p=>{if(p.isActive)return e.jsxs("div",{className:a.productItem_right_bottom_item,children:[e.jsx(e_,{color:"",title:p.title,versionList:p.type}),e.jsx("button",{className:a.productItem_right_bottom_del,children:"Удалить"})]},p.id)})]})]})}function at({color:o="black",title:t="",versionList:s=[{id:"1",title:"версия 1",isActive:!0,navIcon:""},{id:"2",title:"версия 2",isActive:!1,navIcon:""},{id:"3",title:"версия 3",isActive:!1,navIcon:""}],className:r,openBlock:n,currentVersion:c,setOpenBlock:p,setCurrentVersion:i,setVersionList:_}){const l=d=>{i&&i(d.title);const u=s.map(g=>({id:g.id,title:g.title,isActive:!1})),b=u.find(g=>g.id==d.id),h=u.findIndex(g=>g.id==d.id);b&&(b.isActive=!0,u.splice(h,1,b),_&&_(u))};return e.jsxs("div",{className:r??F.version3,children:[e.jsx("span",{className:F.version3_title,children:t}),e.jsxs("div",{className:F.version3_block,children:[e.jsxs("div",{className:F.version3_block_top,children:[e.jsx("h2",{className:F.version3_block_top_title,style:{color:o},children:c}),e.jsx("button",{className:F.version3_block_top_btn,onClick:()=>p&&p(!n),children:e.jsx("div",{className:`${F.version3_block_top_arrow} ${n?F.version3_block_top_arrow_active:""}`,children:e.jsx(z,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${F.version3_block_dropdown} ${n?F.version3_block_dropdown_open:""}`,children:s.map(d=>e.jsx("span",{className:F.version3_block_dropdown_item,onClick:()=>l(d),children:d.title},d.id))})]})]})}function s_({brieflyProductStatus:o,setBrieflyProductStatus:t}){return e.jsxs("div",{className:a.productItem_right_item,children:[e.jsxs("div",{className:a.productItem_right_top,onClick:()=>t(!o),children:[e.jsx("h5",{className:a.productItem_right_title,children:"Коротко о товаре"}),e.jsx(ke,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)",status:o})]}),e.jsx("div",{className:`${a.productItem_right_bottom_items} ${o?a.productItem_right_bottom_items_active:""}`,children:e.jsxs("div",{className:`${a.productItem_right_bottom_item} ${a.productItem_right_bottom_row}`,children:[e.jsx(at,{color:"",title:"Объем, л"}),e.jsx(at,{color:"",title:"Кол-во в упаковке"})]})})]})}function ft({currentProduct:o,extraOptionsStatus:t,setExtraOptionsStatus:s,brieflyProductStatus:r,setBrieflyProductStatus:n,localCategory:c,extraOptions:p,setExtraOptions:i}){return e.jsxs("div",{className:a.productItem_right,children:[e.jsx("div",{className:a.productItem_right_item,children:e.jsxs("div",{className:a.productItem_right_top,children:[e.jsx("h5",{className:a.productItem_right_title,children:"Коментарии"}),e.jsx(ke,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)"})]})}),e.jsx(t_,{extraOptionsStatus:t,setExtraOptionsStatus:s,localCategory:c,extraOptions:p,setExtraOptions:i,currentProduct:o}),e.jsx(s_,{brieflyProductStatus:r,setBrieflyProductStatus:n})]})}function kt({stockName:o,setAdminSettings:t}){return e.jsxs("div",{className:a.settings_content_buttons,children:[e.jsx(Z,{to:o=="stock"?"/admin/product/adding/stock":"/admin/product/adding/website",className:`${a.settings_content_btn} ${a.settings_content_btn_cancel}`,children:"Отмена"}),e.jsx("button",{className:`${a.settings_content_btn} ${a.settings_content_btn_save}`,onClick:()=>t(),children:o=="website"?"Сохранить":"Добавить"})]})}function o_(){const{setArticleModal:o}=ue();return e.jsxs("div",{className:a.articleModal_block_nav,children:[e.jsx("h2",{className:a.articleModal_block_title,children:"Артикул"}),e.jsx("button",{onClick:()=>o(!1),children:e.jsx(z,{name:"XMarkIcon"})})]})}function n_({productName:o}){const[t]=m.useState(""),[s]=m.useState("");return e.jsxs("div",{className:a.articleModal_block_info,children:[e.jsxs("div",{className:a.articleModal_block_info_item,children:[e.jsx("span",{children:"Товар:"}),e.jsx("span",{children:o})]}),e.jsxs("div",{className:a.articleModal_block_info_item,children:[e.jsx("span",{children:"Обьем:"}),e.jsxs("span",{children:[t,"1л"]})]}),e.jsxs("div",{className:a.articleModal_block_info_item,children:[e.jsx("span",{children:"Жирность:"}),e.jsxs("span",{children:[s,"1%"]})]})]})}function jt({item:o}){return e.jsxs("div",{className:a.articleModal_block_recommended_item,children:[e.jsx("h3",{className:a.articleModal_block_recommended_item_title,children:o.title}),e.jsxs("div",{className:a.articleModal_block_recommended_content,children:[e.jsx("div",{className:a.articleModal_block_recommended_img,children:e.jsx("img",{src:"/молоко.jpg",alt:""})}),e.jsxs("div",{className:a.articleModal_block_recommended_info,children:[e.jsxs("div",{className:a.articleModal_block_recommended_desc,children:[e.jsxs("p",{children:["Жирность ",e.jsx("span",{children:"1%"})]}),e.jsxs("p",{children:["обьем ",e.jsx("span",{children:"1л"})]})]}),e.jsxs("div",{className:a.articleModal_block_recommended_desc,children:[e.jsxs("p",{children:["Жирность ",e.jsx("span",{children:"1.5%"})]}),e.jsxs("p",{children:["обьем ",e.jsx("span",{children:"1.5л"})]})]}),e.jsxs("div",{className:a.articleModal_block_recommended_desc,children:[e.jsxs("p",{children:["Жирность ",e.jsx("span",{children:"3%"})]}),e.jsxs("p",{children:["обьем ",e.jsx("span",{children:"1л"})]})]})]}),e.jsx("h2",{className:a.articleModal_block_recommended_article,children:o.article})]})]})}const r_=[{id:Q(),title:"Молоко Nestle",article:"#DF262515"}];function a_(){return e.jsxs("div",{className:a.articleModal_block_recommended,children:[e.jsx("h2",{className:a.articleModal_block_recommended_title,children:"Рекомендуем"}),e.jsx("div",{className:a.articleModal_block_recommended_list,children:r_.map(o=>e.jsx(jt,{item:o},o.id))})]})}function c_(){return e.jsx("div",{className:a.articleModal_block_search,children:e.jsxs("div",{className:a.articleModal_block_search_box,children:[e.jsxs("div",{className:a.articleModal_block_search_input,children:[e.jsx("input",{type:"text",placeholder:"Поиск товара"}),e.jsx(z,{name:"MagnifyingGlassIcon",width:17,height:17})]}),e.jsx("button",{className:a.articleModal_block_search_btn,children:"Найти"})]})})}const i_=[{id:Q(),title:"Молоко Nestle",article:"#DF262515"},{id:Q(),title:"Молоко Nestle",article:"#DF262515"},{id:Q(),title:"Молоко Nestle",article:"#DF262515"}];function l_(){return e.jsx("div",{className:a.articleModal_block_found,children:i_.map(o=>e.jsx(jt,{item:o},o.id))})}function yt({productName:o}){return e.jsx("div",{className:a.articleModal,children:e.jsxs("div",{className:a.articleModal_block,children:[e.jsx(o_,{}),e.jsx(n_,{productName:o}),e.jsx(a_,{}),e.jsx(c_,{}),e.jsx(l_,{}),e.jsx("div",{className:a.articleModal_block_buttonBox,children:e.jsx("button",{className:a.articleModal_block_button,children:"Выбрать"})})]})})}function __(){const o=Be(),t=ae(),{id:s}=ct(),{openModalCategory:r}=ue(),{pickedCategory:n,currentProduct:c,setErrorModal:p,setCurrentProduct:i,setPickedCategory:_,articleModal:l}=ue(),[d,u]=m.useState(""),[b,h]=m.useState(0),[g,I]=m.useState(0),[M,W]=m.useState(Number(s)),[$,O]=m.useState(!1),[k,P]=m.useState([]),[j,v]=m.useState(!1),[S,D]=m.useState(0),[C,E]=m.useState(""),[T,ee]=m.useState([]),[f,L]=m.useState([]);async function R(){try{return await(await oe.get(`nomenclatures/${s}`)).data}catch(w){console.log("Ошибка произошла при получении продукта со склада по id",w)}}m.useEffect(()=>{_({})},[t.pathname]),m.useEffect(()=>{B()},[s,n]);async function B(){var x;const w=await R();w&&(u((x=w==null?void 0:w.name)==null?void 0:x.ru),i({...w}),W(w==null?void 0:w.categoryId),h(w==null?void 0:w.barcode),I(w==null?void 0:w.price))}const ve=async()=>{if(c){n.id&&(await xe(),W(n.id));const w=await he(f),x=S||await fe(),q={nomenclatureId:c.id,title:d,article:x,images:[...w],description:C,document:"string"};await be(q),_({}),P([]),o("/admin/product/adding/stock",{replace:!0})}else p({status:!0,message:'"Выберите категорию"'})};async function be(w){try{await oe.post("web-nomenclatures",w)}catch(x){console.log("Ошибка произошла при добавлении web nomenclatures",x)}}async function xe(){try{await oe.patch(`nomenclatures/${s}`,{categoryId:n.id}),W(n.id)}catch(w){console.log("Ошибка произошла при изменении котегории на складе",w)}}const he=async w=>{if(w){const x=new FormData;w.forEach((q,X)=>{x.append(`files[${X}]`,q)});try{return await(await oe.post("media-objects/uploads",x)).data}catch(q){console.error("Ошибка при добавлении картинок на сервер",q)}}},fe=async()=>{const w=je.get("multi-store");try{const x=await oe.get(`web-credentials/${w}`);return console.log("fetchArticle res",x),x.data.article}catch(x){console.log("Ошибка при получении артикля",x)}};return e.jsxs("div",{className:a.productItem,children:[r&&e.jsx(it,{}),e.jsx(vt,{stockName:"stock",myMxikCode:s,localFormData:f,setLocalFormData:L,localNewImage:T,setLocalNewImage:ee}),e.jsxs("div",{className:a.productItem_settings,children:[e.jsx(xt,{myPrice:g,setMyPrice:I,myBarcode:b,setMyBarcode:h,localCategory:M,productName:d,productDescription:C,setProductDescription:E,setProductName:u,vendorCode:S,setVendorCode:D}),e.jsx(ft,{extraOptionsStatus:$,setExtraOptionsStatus:O,brieflyProductStatus:j,setBrieflyProductStatus:v,localCategory:M,extraOptions:k,setExtraOptions:P,currentProduct:c})]}),e.jsx(kt,{stockName:"stock",setAdminSettings:ve}),l&&e.jsx(yt,{productName:d})]})}function d_(){const o=Be(),t=ae(),{id:s}=ct(),{openModalCategory:r}=ue(),{pickedCategory:n,webCurrentProduct:c,setWebCurrentProduct:p,setErrorModal:i,setPickedCategory:_,articleModal:l}=ue(),[d,u]=m.useState(""),[b,h]=m.useState(0),[g,I]=m.useState(0),[M,W]=m.useState(0),[$,O]=m.useState(Number(s)),[k,P]=m.useState(!1),[j,v]=m.useState([]),[S,D]=m.useState(!1),[C,E]=m.useState(0),[T,ee]=m.useState(""),[f,L]=m.useState([]),[R,B]=m.useState([]);async function ve(){try{return await(await oe.get(`web-nomenclatures/${s}`)).data}catch(x){console.log("Ошибка произошла при получении продукта с сайта по id",x)}}m.useEffect(()=>{_({})},[t.pathname]),m.useEffect(()=>{be()},[s]);async function be(){var q,X,Y,se,V,le,_e;const x=await ve();if(x){I((q=x==null?void 0:x.nomenclature)==null?void 0:q.price),h((X=x==null?void 0:x.nomenclature)==null?void 0:X.barcode),W((Y=x==null?void 0:x.nomenclature)==null?void 0:Y.id),E(x==null?void 0:x.article),u(x!=null&&x.title?x==null?void 0:x.title:(V=(se=x==null?void 0:x.nomenclature)==null?void 0:se.name)==null?void 0:V.ru),p({...x}),O((_e=(le=x==null?void 0:x.nomenclature)==null?void 0:le.category)==null?void 0:_e.id);let pe=1;const Je=x.images?x.images.map(De=>({id:Q(),order:pe++,src:De})):[];L(Je),pe=1,ee(x.description?x.description:"")}}const xe=async()=>{if(c||n.label){n.id&&await fe();const x=await w(R);console.log(15,"получил ответ от функции fetchPhotos() images",x),console.log(16,"добавил localNewImage и images в один массив и сохранил в setLocalNewImage([...localNewImage, ...images])");const q=f.filter(Y=>Y.src).map(Y=>{if(Y.src)return Y.src});console.log(17,"создал новый массив newImg и сохранил туда все содержимое localNewImage из ключей src",q);const X={nomenclatureId:c.id,title:d,article:C,images:[...q,...x],description:T,document:"string"};console.log(18,"создал новый объект продукта newProduct",X),console.log(18,"localNewImage",f),he(X),_({}),v([]),o("/admin/product/adding/website",{replace:!0})}else i({status:!0,message:'"Выберите категорию"'})};async function he(x){try{await oe.patch(`web-nomenclatures/${s}`,x)}catch(q){console.log("Ошибка произошла при добавлении web nomenclatures",q)}}async function fe(){try{await oe.patch(`nomenclatures/${M}`,{categoryId:n.id}),O(n.id)}catch(x){console.log("Ошибка произошла при изменении котегории на сайте",x)}}const w=async x=>{if(x){const q=new FormData;x.forEach((X,Y)=>{q.append(`files[${Y}]`,X)});try{return await(await oe.post("media-objects/uploads",q)).data}catch(X){console.error("Ошибка при добавлении картинок на сервер",X)}}};return e.jsxs("div",{className:a.productItem,children:[r&&e.jsx(it,{}),e.jsx(vt,{stockName:"website",myMxikCode:s,localNewImage:f,setLocalNewImage:L,localFormData:R,setLocalFormData:B}),e.jsxs("div",{className:a.productItem_settings,children:[e.jsx(xt,{myPrice:g,setMyPrice:I,myBarcode:b,setMyBarcode:h,localCategory:$,productName:d,productDescription:T,setProductDescription:ee,setProductName:u,vendorCode:C,setVendorCode:E}),e.jsx(ft,{extraOptionsStatus:k,setExtraOptionsStatus:P,brieflyProductStatus:S,setBrieflyProductStatus:D,localCategory:$,extraOptions:j,setExtraOptions:v,currentProduct:c})]}),e.jsx(kt,{stockName:"website",setAdminSettings:xe}),l&&e.jsx(yt,{productName:d})]})}function f_(){const{user:o}=St(),{setCurrentShop:t}=Ne(),r=ae().pathname;m.useEffect(()=>{r.startsWith("/admin/shops")||t("0")},[r]);const n=[{id:"1",label:"Настройки",href:"/admin/settings",icon:e.jsx(z,{name:"CogIcon"}),isActive:!0},{id:"2",label:"Товар",href:"/admin/product",icon:e.jsx(z,{name:"ShoppingCartIcon"}),isActive:!1},{id:"3",label:"Пользователи",href:"/admin/users",icon:e.jsx(z,{name:"UsersIcon"}),isActive:!1},{id:"4",label:"Магазины",href:"/admin/shops",icon:e.jsx(z,{name:"BuildingStorefrontIcon"}),isActive:!1}],[c,p]=m.useState(n),i=_=>{const l=c.map(u=>({id:u.id,label:u.label,href:u.href,icon:u.icon,isActive:!1})),d=l.find(u=>u.id==_);d&&(d.isActive=!0),p(l)};return e.jsxs(e.Fragment,{children:[e.jsx(Dt,{}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:a.wrapper,children:[e.jsx("h1",{className:a.wrapper_title,children:o==null?void 0:o.username}),e.jsxs("div",{className:a.content,children:[e.jsx("div",{className:a.content_left,children:e.jsx("ul",{className:a.tools,children:c.map(_=>e.jsx("li",{children:e.jsxs(Z,{to:_.href,className:`${a.tools_link} ${r.startsWith(_.href)?a.tools_link_active:""}`,onClick:()=>i(_.id),children:[_.icon,_.label]})},_.id))})}),r.startsWith("/admin")&&e.jsxs("div",{className:a.content_right,children:[r.startsWith("/admin/settings")&&e.jsx(Gi,{}),r.startsWith("/admin/users")&&e.jsx(Hl,{}),r.startsWith("/admin/shops")&&e.jsx(Zl,{}),r.startsWith("/admin/product")&&e.jsx(el,{}),r.startsWith("/admin/stock-product")&&e.jsx(__,{}),r.startsWith("/admin/website-product")&&e.jsx(d_,{})]})]})]})})]})}export{f_ as default};
