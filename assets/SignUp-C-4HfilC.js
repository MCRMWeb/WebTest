import{r as h,b as p,a as b,j as e,L as j}from"./index-7WS4nBfv.js";import{u as k,C as s,e as w}from"./errorMessage-BOrLbXHM.js";import{C as N}from"./CustomBtn-av_lWUk1.js";import"./CustomIcon-By7wfQXi.js";import"./XMarkIcon-BdOORnjM.js";const v="_enter_182ka_1",y="_enter_title_182ka_14",C="_enter_form_182ka_17",L="_enter_info_182ka_27",S="_enter_info_error_182ka_33",q="_enter_info_text_182ka_37",E="_enter_info_link_182ka_40",U="_enter_button_182ka_46",M="_enter_button_icon_182ka_68",r={enter:v,enter_title:y,enter_form:C,enter_info:L,enter_info_error:S,enter_info_text:q,enter_info_link:E,enter_button:U,enter_button_icon:M},P=()=>{console.log("SignUp.tsx отрисовался");const[i,o]=h.useState(""),_=p(),l=b(),{register:t,handleSubmit:c,reset:m,watch:u,formState:{errors:n,isValid:d}}=k({mode:"onChange"}),g=u("password"),f=async a=>{try{await _.mutateAsync(a),o(""),l("/signin")}catch(x){o(""),o(w(x))}m()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:r.enter,children:[e.jsx("h1",{className:r.enter_title,children:"Регистрация"}),e.jsxs("form",{className:r.enter_form,onSubmit:c(f),children:[e.jsx(s,{label:"Ваше username",type:"text",holder:"Username",errors:n.username,register:t("username",{required:"Поле обязательно для заполнения",minLength:{value:3,message:"Минимум 3 символа"}})}),e.jsx(s,{label:"Ваше email",type:"email",holder:"Email",errors:n.email,register:t("email",{required:"Поле обязательно для заполнения"})}),e.jsx(s,{label:"Ваше пароль",type:"password",holder:"Пароль",errors:n.password,register:t("password",{required:"Поле обязательно для заполнения",minLength:{value:8,message:"Минимум 8 символов"}})}),e.jsx(s,{label:"Подтвердите пароль",type:"password",holder:"Пароль",errors:n.password2,register:t("password2",{required:"Поле обязательно для заполнения",validate:a=>a===g||"Пароли не совпадают",minLength:{value:8,message:"Минимум 8 символов"}})}),e.jsx(N,{text:"Зарегистрироваться",width:240,height:50,disabled:!d,mg:"auto",icon:"UserPlusIcon",background:"rgb(137, 250, 135)",className:r.enter_button,iconClassName:r.enter_button_icon})]}),e.jsxs("div",{className:r.enter_info,children:[i&&e.jsx("h3",{className:"enter__info-error text-[red] text-center",children:i}),e.jsx("p",{className:r.enter_info_text,children:"Есть аккаунт?"}),e.jsx(j,{to:"/signin",className:r.enter_info_link,children:"Войти"})]})]})})};export{P as default};
