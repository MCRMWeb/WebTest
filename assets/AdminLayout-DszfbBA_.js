import{j as e,w as ce,r as m,x as Te,L as H,v as se,q as we,o as ie,y as ae,e as ne,u as Pe,z as Dt,A as Ot,B as Ft,C as dt}from"./index-CmrTXM3T.js";import{u as At}from"./userStore-BgNxRvSQ.js";import{C as U}from"./CustomIcon-DZTY_XZv.js";import{s as Ve}from"./shop1Store-io8SI-Vx.js";import{a as qe,c as Ze,H as Bt}from"./Header-CDdx1yhr.js";import{a as ge,s as Q,M as pt}from"./Modal-CSORf7HO.js";import{b as pe}from"./bannerStore-CKDxI1Fa.js";import{F as Lt,a as Mt,b as Wt,c as Et,d as Ut,e as Rt,f as zt,g as Tt,h as Vt,i as qt,j as Kt,k as Ht,l as Xt,m as Gt,n as Zt,o as Jt,p as Qt,q as Yt,r as es,s as ts,t as ss,u as os,v as ns,w as as,x as rs,y as is,z as cs,A as ls,B as _s,C as ds,D as ps,E as us,G as ms}from"./XMarkIcon-CMMRH_jn.js";const hs="_wrapper_1c282_1",gs="_wrapper_title_1c282_4",vs="_content_1c282_10",bs="_content_left_1c282_16",xs="_content_right_1c282_19",fs="_tools_1c282_45",ks="_tools_link_1c282_50",ys="_tools_link_active_1c282_63",js="_settings_1c282_86",ws="_settings_title_1c282_89",Cs="_settings_content_1c282_94",Ss="_settings_content_top_1c282_97",Ns="_settings_content_buttons_1c282_100",Is="_settings_content_btn_1c282_110",$s="_settings_content_btn_cancel_1c282_122",Ps="_settings_content_btn_save_1c282_125",Ds="_settings_tools_1c282_128",Os="_settings_tools_link_1c282_133",Fs="_settings_tools_link_active_1c282_148",As="_wrapperModules_1c282_153",Bs="_item_1c282_160",Ls="_item_top_1c282_165",Ms="_item_top_title_1c282_176",Ws="_item_top_arrow_1c282_180",Es="_item_top_arrow_active_1c282_188",Us="_item_block_1c282_191",Rs="_item_block_item_1c282_202",zs="_item_block_open_1c282_205",Ts="_item_onOff_1c282_211",Vs="_item_delivery_1c282_211",qs="_versions_block_1c282_217",Ks="_versions_block_top_1c282_222",Hs="_versions_block_top_title_1c282_232",Xs="_versions_block_top_arrow_1c282_237",Gs="_versions_block_top_arrow_active_1c282_246",Zs="_versions_block_dropdown_1c282_249",Js="_versions_block_dropdown_item_1c282_260",Qs="_versions_block_dropdown_open_1c282_271",Ys="_versions_block_onOff_1c282_277",eo="_versions_block_delivery_1c282_277",to="_categoriesDropDown_title_1c282_283",so="_categoriesDropDown_item_1c282_286",oo="_categoriesDropDown_item_top_1c282_292",no="_categoriesDropDown_item_top_title_1c282_303",ao="_categoriesDropDown_item_top_arrow_1c282_307",ro="_categoriesDropDown_item_top_arrow_active_1c282_314",io="_categoriesDropDown_item_block_1c282_317",co="_categoriesDropDown_item_block_line_1c282_326",lo="_categoriesDropDown_item_block_active_1c282_338",_o="_categoriesDropDown_item_block_open_1c282_341",po="_categoriesDropDown_item_onOff_1c282_346",uo="_categoriesDropDown_item_delivery_1c282_346",mo="_products_buttons_1c282_352",ho="_products_btn_1c282_358",go="_products_btn_active_1c282_369",vo="_productItem_title_1c282_374",bo="_productItem_basePhoto_1c282_379",xo="_productItem_photos_1c282_385",fo="_productItem_photos_desc_1c282_391",ko="_productItem_photo_1c282_385",yo="_productItem_photo_img_1c282_406",jo="_productItem_photo_close_1c282_417",wo="_productItem_photo_active_1c282_429",Co="_productItem_add_1c282_433",So="_productItem_add_text_1c282_441",No="_productItem_settings_1c282_446",Io="_productItem_left_info_1c282_450",$o="_productItem_left_item_1c282_458",Po="_productItem_left_item_top_1c282_462",Do="_productItem_left_item_top_input_1c282_483",Oo="_productItem_left_item_bottom_1c282_489",Fo="_productItem_left_form_1c282_502",Ao="_productItem_left_form_label_1c282_509",Bo="_productItem_left_form_title_1c282_513",Lo="_productItem_left_form_input_1c282_519",Mo="_productItem_left_form_textarea_1c282_527",Wo="_productItem_left_form_size_1c282_535",Eo="_productItem_right_1c282_543",Uo="_productItem_right_item_1c282_550",Ro="_productItem_right_top_1c282_555",zo="_productItem_right_title_1c282_562",To="_productItem_right_bottom_items_1c282_568",Vo="_productItem_right_bottom_items_active_1c282_577",qo="_productItem_right_bottom_item_1c282_568",Ko="_productItem_right_bottom_row_1c282_603",Ho="_productItem_right_bottom_del_1c282_608",Xo="_banner_nav_list_1c282_619",Go="_banner_nav_link_1c282_625",Zo="_banner_nav_link_active_1c282_640",Jo="_addingWrapper_title_1c282_645",Qo="_addingWrapper_form_1c282_650",Yo="_addingWrapper_form_btn_1c282_655",en="_addingWrapper_search_1c282_672",tn="_addingWrapper_search_input_1c282_678",sn="_addingWrapper_search_icon_1c282_686",on="_addingWrapper_table_1c282_689",nn="_addingWrapper_table_error_1c282_692",an="_addingWrapper_thead_tr_1c282_696",rn="_addingWrapper_thead_th_1c282_700",cn="_addingWrapper_tbody_tr_1c282_708",ln="_addingWrapper_tbody_td_1c282_711",_n="_addingWrapper_tbody_buttons_1c282_725",dn="_addingWrapper_tbody_add_1c282_730",pn="_addingWrapper_tbody_del_1c282_737",un="_errorWrapper_1c282_745",mn="_errorWrapper_block_1c282_754",hn="_errorWrapper_block_close_1c282_764",gn="_layout_title_1c282_775",vn="_layout_buttons_1c282_780",bn="_layout_btn_1c282_786",xn="_layout_btn_active_1c282_800",fn="_editBlock_1c282_805",kn="_articleModal_1c282_817",yn="_articleModal_block_1c282_826",jn="_articleModal_block_nav_1c282_833",wn="_articleModal_block_title_1c282_840",Cn="_articleModal_block_info_1c282_845",Sn="_articleModal_block_info_item_1c282_848",Nn="_articleModal_block_recommended_1c282_863",In="_articleModal_block_recommended_title_1c282_866",$n="_articleModal_block_recommended_item_1c282_872",Pn="_articleModal_block_recommended_item_title_1c282_876",Dn="_articleModal_block_recommended_content_1c282_882",On="_articleModal_block_recommended_img_1c282_887",Fn="_articleModal_block_recommended_info_1c282_897",An="_articleModal_block_recommended_desc_1c282_902",Bn="_articleModal_block_recommended_article_1c282_916",Ln="_articleModal_block_search_1c282_921",Mn="_articleModal_block_search_box_1c282_924",Wn="_articleModal_block_search_input_1c282_929",En="_articleModal_block_search_btn_1c282_941",Un="_articleModal_block_found_1c282_951",Rn="_articleModal_block_buttonBox_1c282_957",zn="_articleModal_block_button_1c282_957",Tn="_homePage_blocks_1c282_974",Vn="_homePage_addBlock_1c282_980",qn="_homePage_addBlock_title_1c282_997",Kn="_homePage_addBlock_active_1c282_1000",Hn="_homePage_addBlockItem_1c282_1004",Xn="_homePage_addBlockItem_close_1c282_1012",Gn="_homePage_addBlockItem_super_1c282_1018",Zn="_homePage_addBlockItem_super_title_1c282_1022",Jn="_homePage_addBlockItem_super_block_1c282_1027",Qn="_homePage_addBlockItem_super_item_1c282_1052",Yn="_homePage_addBlockItem_content_1c282_1063",ea="_homePage_addBlockItem_categories_1c282_1067",d={wrapper:hs,wrapper_title:gs,content:vs,content_left:bs,content_right:xs,tools:fs,tools_link:ks,tools_link_active:ys,settings:js,settings_title:ws,settings_content:Cs,settings_content_top:Ss,settings_content_buttons:Ns,settings_content_btn:Is,settings_content_btn_cancel:$s,settings_content_btn_save:Ps,settings_tools:Ds,settings_tools_link:Os,settings_tools_link_active:Fs,wrapperModules:As,item:Bs,item_top:Ls,item_top_title:Ms,item_top_arrow:Ws,item_top_arrow_active:Es,item_block:Us,item_block_item:Rs,item_block_open:zs,item_onOff:Ts,item_delivery:Vs,versions_block:qs,versions_block_top:Ks,versions_block_top_title:Hs,versions_block_top_arrow:Xs,versions_block_top_arrow_active:Gs,versions_block_dropdown:Zs,versions_block_dropdown_item:Js,versions_block_dropdown_open:Qs,versions_block_onOff:Ys,versions_block_delivery:eo,categoriesDropDown_title:to,categoriesDropDown_item:so,categoriesDropDown_item_top:oo,categoriesDropDown_item_top_title:no,categoriesDropDown_item_top_arrow:ao,categoriesDropDown_item_top_arrow_active:ro,categoriesDropDown_item_block:io,categoriesDropDown_item_block_line:co,categoriesDropDown_item_block_active:lo,categoriesDropDown_item_block_open:_o,categoriesDropDown_item_onOff:po,categoriesDropDown_item_delivery:uo,products_buttons:mo,products_btn:ho,products_btn_active:go,productItem_title:vo,productItem_basePhoto:bo,productItem_photos:xo,productItem_photos_desc:fo,productItem_photo:ko,productItem_photo_img:yo,productItem_photo_close:jo,productItem_photo_active:wo,productItem_add:Co,productItem_add_text:So,productItem_settings:No,productItem_left_info:Io,productItem_left_item:$o,productItem_left_item_top:Po,productItem_left_item_top_input:Do,productItem_left_item_bottom:Oo,productItem_left_form:Fo,productItem_left_form_label:Ao,productItem_left_form_title:Bo,productItem_left_form_input:Lo,productItem_left_form_textarea:Mo,productItem_left_form_size:Wo,productItem_right:Eo,productItem_right_item:Uo,productItem_right_top:Ro,productItem_right_title:zo,productItem_right_bottom_items:To,productItem_right_bottom_items_active:Vo,productItem_right_bottom_item:qo,productItem_right_bottom_row:Ko,productItem_right_bottom_del:Ho,banner_nav_list:Xo,banner_nav_link:Go,banner_nav_link_active:Zo,addingWrapper_title:Jo,addingWrapper_form:Qo,addingWrapper_form_btn:Yo,addingWrapper_search:en,addingWrapper_search_input:tn,addingWrapper_search_icon:sn,addingWrapper_table:on,addingWrapper_table_error:nn,addingWrapper_thead_tr:an,addingWrapper_thead_th:rn,addingWrapper_tbody_tr:cn,addingWrapper_tbody_td:ln,addingWrapper_tbody_buttons:_n,addingWrapper_tbody_add:dn,addingWrapper_tbody_del:pn,errorWrapper:un,errorWrapper_block:mn,errorWrapper_block_close:hn,layout_title:gn,layout_buttons:vn,layout_btn:bn,layout_btn_active:xn,editBlock:fn,articleModal:kn,articleModal_block:yn,articleModal_block_nav:jn,articleModal_block_title:wn,articleModal_block_info:Cn,articleModal_block_info_item:Sn,articleModal_block_recommended:Nn,articleModal_block_recommended_title:In,articleModal_block_recommended_item:$n,articleModal_block_recommended_item_title:Pn,articleModal_block_recommended_content:Dn,articleModal_block_recommended_img:On,articleModal_block_recommended_info:Fn,articleModal_block_recommended_desc:An,articleModal_block_recommended_article:Bn,articleModal_block_search:Ln,articleModal_block_search_box:Mn,articleModal_block_search_input:Wn,articleModal_block_search_btn:En,articleModal_block_found:Un,articleModal_block_buttonBox:Rn,articleModal_block_button:zn,homePage_blocks:Tn,homePage_addBlock:Vn,homePage_addBlock_title:qn,homePage_addBlock_active:Kn,homePage_addBlockItem:Hn,homePage_addBlockItem_close:Xn,homePage_addBlockItem_super:Gn,homePage_addBlockItem_super_title:Zn,homePage_addBlockItem_super_block:Jn,homePage_addBlockItem_super_item:Qn,homePage_addBlockItem_content:Yn,homePage_addBlockItem_categories:ea};function Ie({width:o=78,color:t="white",backgroundOn:s="rgba(137, 250, 135, 1)",backgroundOff:a="rgba(193, 193, 193, 1)",speed:n=500,scale:_=1.1,status:l=!1}){const r={width:`${o}px`,height:`${o/2-o/20}px`,background:l?s:a,borderRadius:`${o/2}px`,display:"flex",alignItems:"center",transition:`${n}ms`,cursor:"pointer"},i={background:`${t}`,height:`${o/2-o/20}px`,width:`${o/2-o/20}px`,border:`${o/25}px solid ${l?s:a}`,borderRadius:"50%",transition:`${n}ms`,transform:`scale(${_}) translateX(${l?"110%":"0"})`};return e.jsx("div",{style:r,children:e.jsx("div",{style:i})})}const ta="_versions_1cgvq_1",sa="_versions_block_1cgvq_6",oa="_versions_block_top_1cgvq_11",na="_versions_block_top_title_1cgvq_21",aa="_versions_block_top_arrow_1cgvq_25",ra="_versions_block_top_arrow_active_1cgvq_34",ia="_versions_block_dropdown_1cgvq_37",ca="_versions_block_dropdown_item_1cgvq_49",la="_versions_block_dropdown_open_1cgvq_60",_a="_versions_block_onOff_1cgvq_66",da="_versions_block_delivery_1cgvq_66",pa="_versions2_1cgvq_72",ua="_versions2_block_1cgvq_77",ma="_versions2_block_top_1cgvq_82",ha="_versions2_block_top_title_1cgvq_92",ga="_versions2_block_top_arrow_1cgvq_96",va="_versions2_block_top_arrow_active_1cgvq_105",ba="_versions2_block_dropdown_1cgvq_108",xa="_versions2_block_dropdown_item_1cgvq_119",fa="_versions2_block_dropdown_open_1cgvq_130",ka="_versions2_block_onOff_1cgvq_136",ya="_versions2_block_delivery_1cgvq_136",ja="_version3_1cgvq_142",wa="_version3_title_1cgvq_147",Ca="_version3_block_1cgvq_153",Sa="_version3_block_top_1cgvq_158",Na="_version3_block_top_title_1cgvq_169",Ia="_version3_block_top_arrow_1cgvq_173",$a="_version3_block_top_arrow_active_1cgvq_183",Pa="_version3_block_dropdown_1cgvq_186",Da="_version3_block_dropdown_item_1cgvq_197",Oa="_version3_block_dropdown_open_1cgvq_213",Fa="_version3_block_onOff_1cgvq_237",Aa="_version3_block_delivery_1cgvq_237",Ba="_versionExtraOptions_1cgvq_243",La="_versionExtraOptions_title_1cgvq_248",Ma="_versionExtraOptions_block_1cgvq_254",Wa="_versionExtraOptions_block_top_1cgvq_259",Ea="_versionExtraOptions_block_top_title_1cgvq_270",Ua="_versionExtraOptions_block_top_arrow_1cgvq_275",Ra="_versionExtraOptions_block_top_arrow_active_1cgvq_285",za="_versionExtraOptions_block_dropdown_1cgvq_288",Ta="_versionExtraOptions_block_dropdown_item_1cgvq_299",Va="_versionExtraOptions_block_dropdown_open_1cgvq_316",qa="_versionExtraOptions_block_onOff_1cgvq_340",Ka="_versionExtraOptions_block_delivery_1cgvq_340",z={versions:ta,versions_block:sa,versions_block_top:oa,versions_block_top_title:na,versions_block_top_arrow:aa,versions_block_top_arrow_active:ra,versions_block_dropdown:ia,versions_block_dropdown_item:ca,versions_block_dropdown_open:la,versions_block_onOff:_a,versions_block_delivery:da,versions2:pa,versions2_block:ua,versions2_block_top:ma,versions2_block_top_title:ha,versions2_block_top_arrow:ga,versions2_block_top_arrow_active:va,versions2_block_dropdown:ba,versions2_block_dropdown_item:xa,versions2_block_dropdown_open:fa,versions2_block_onOff:ka,versions2_block_delivery:ya,version3:ja,version3_title:wa,version3_block:Ca,version3_block_top:Sa,version3_block_top_title:Na,version3_block_top_arrow:Ia,version3_block_top_arrow_active:$a,version3_block_dropdown:Pa,version3_block_dropdown_item:Da,version3_block_dropdown_open:Oa,version3_block_onOff:Fa,version3_block_delivery:Aa,versionExtraOptions:Ba,versionExtraOptions_title:La,versionExtraOptions_block:Ma,versionExtraOptions_block_top:Wa,versionExtraOptions_block_top_title:Ea,versionExtraOptions_block_top_arrow:Ua,versionExtraOptions_block_top_arrow_active:Ra,versionExtraOptions_block_dropdown:za,versionExtraOptions_block_dropdown_item:Ta,versionExtraOptions_block_dropdown_open:Va,versionExtraOptions_block_onOff:qa,versionExtraOptions_block_delivery:Ka};function st({color:o="black",title:t="",versionList:s=[{id:"1",title:"версия 1",isActive:!0,navIcon:""},{id:"2",title:"версия 2",isActive:!1,navIcon:""},{id:"3",title:"версия 3",isActive:!1,navIcon:""}],className:a,openBlock:n,currentVersion:_,setOpenBlock:l,setCurrentVersion:r,setVersionList:i}){const c=p=>{r(p.title);const u=s.map(v=>({id:v.id,title:v.title,isActive:!1})),h=u.find(v=>v.id==p.id),g=u.findIndex(v=>v.id==p.id);h&&(h.isActive=!0,u.splice(g,1,h),i(u))};return e.jsxs("div",{className:a??z.versions,children:[e.jsx("span",{children:t}),e.jsxs("div",{className:z.versions_block,children:[e.jsxs("div",{className:z.versions_block_top,children:[e.jsx("h2",{className:z.versions_block_top_title,style:{color:o},children:_}),e.jsx("button",{className:z.versions_block_top_btn,onClick:()=>l(!n),children:e.jsx("div",{className:`${z.versions_block_top_arrow} ${n?z.versions_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${z.versions_block_dropdown} ${n?z.versions_block_dropdown_open:""}`,children:s.map(p=>e.jsx("span",{className:z.versions_block_dropdown_item,onClick:()=>c(p),children:p.title},p.id))})]})]})}function Ha(){const{modulesCashRegisterStatus:o,deliveryStatus:t,cashRegisterVersionList:s,cashRegisterCurrentVersion:a,openBlockCashRegister:n,openBlockCashRegisterVersion:_,openBlockCart:l,cartVersionList:r,modulesCartStatus:i,cartCurrentVersion:c,openBlockCartVersion:p,setCartVersionList:u,setCartCurrentVersion:h,setModulesCartStatus:g,setOpenBlockCart:v,setOpenBlockCartVersion:I,setDeliveryStatus:D,setOpenBlockCashRegister:O,setCashRegisterVersionList:C,setModulesCashRegisterStatus:S,setCashRegisterCurrentVersion:f,setOpenBlockCashRegisterVersion:y}=ce(),x=()=>{v(!l)},b=()=>{O(!n)};return e.jsxs("div",{className:d.wrapperModules,children:[e.jsxs("div",{className:d.item,children:[e.jsxs("div",{className:d.item_top,onClick:()=>x(),children:[e.jsx("h2",{className:d.item_top_title,children:"Корзина"}),e.jsx("button",{className:d.item_top_btn,onClick:()=>x(),children:e.jsx("div",{className:`${d.item_top_arrow} ${l?d.item_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsxs("div",{className:`${d.item_block} ${l?d.item_block_open:""}`,children:[e.jsxs("div",{className:d.item_onOff,children:[e.jsx("span",{children:"Выкл / Вкл"}),e.jsx("div",{className:d.item_shell,onClick:()=>g(!i),children:e.jsx(Ie,{status:i,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]}),e.jsx(st,{color:"rgb(137, 250, 135)",openBlock:p,setOpenBlock:I,title:"Выберите версию",versionList:r,currentVersion:c,setCurrentVersion:h,setVersionList:u}),e.jsxs("div",{className:d.item_delivery,children:[e.jsx("span",{children:"Доставка"}),e.jsx("div",{className:d.item_shell,onClick:()=>D(!t),children:e.jsx(Ie,{status:t,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]})]})]}),e.jsxs("div",{className:d.item,children:[e.jsxs("div",{className:d.item_top,onClick:()=>b(),children:[e.jsx("h2",{className:d.item_top_title,children:"Кacca"}),e.jsx("button",{className:d.item_top_btn,onClick:()=>b(),children:e.jsx("div",{className:`${d.item_top_arrow} ${n?d.item_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsxs("div",{className:`${d.item_block} ${n?d.item_block_open:""}`,children:[e.jsxs("div",{className:d.item_onOff,children:[e.jsx("span",{children:"Выкл / Вкл"}),e.jsx("div",{className:d.item_shell,onClick:()=>S(!o),children:e.jsx(Ie,{status:o,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]}),e.jsx(st,{color:"rgb(137, 250, 135)",openBlock:_,setOpenBlock:y,title:"Выберите версию",versionList:s,currentVersion:a,setCurrentVersion:f,setVersionList:C})]})]})]})}function Xa(){const{templates:o,setTemplates:t}=ce(),[s,a]=m.useState([...o]);m.useEffect(()=>{a([...o])},[o]);const n=r=>{const i=s.map(c=>c.id===r?{...c,open:!c.open}:c);a(i)},_=(r,i)=>{const c=s.map(p=>p.id===r?{...p,isActive:!0,templateThemes:p.templateThemes.map(u=>u.id===i?{...u,isActive:!0}:{...u,isActive:!1})}:{...p,isActive:!1,templateThemes:p.templateThemes.map(u=>({...u,isActive:!1}))});a(c)};function l(){t(s)}return e.jsxs("div",{className:d.wrapperModules,children:[s.map(r=>e.jsxs("div",{className:d.item,children:[e.jsxs("div",{className:d.item_top,onClick:()=>n(r.id),children:[e.jsx("h2",{className:d.item_top_title,children:r.title}),e.jsx("button",{className:d.item_top_btn,onClick:()=>n(r.id),children:e.jsx("div",{className:`${d.item_top_arrow} ${r.open?d.item_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${d.item_block} ${r.open?d.item_block_open:""}`,children:r.templateThemes.map(i=>e.jsxs("div",{className:d.item_onOff,children:[e.jsx("span",{children:i.title}),e.jsx("div",{className:d.item_shell,onClick:()=>_(r.id,i.id),children:e.jsx(Ie,{status:i.isActive,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]},i.id))})]},r.id)),e.jsxs("div",{className:d.settings_content_buttons,children:[e.jsx("button",{className:`${d.settings_content_btn} ${d.settings_content_btn_cancel}`,children:"Отмена"}),e.jsx("button",{className:`${d.settings_content_btn} ${d.settings_content_btn_save}`,onClick:()=>l(),children:"Сохранить"})]})]})}function Ga({title:o,setOpenModal:t}){const{currentCategory:s}=ce(),[a,n]=m.useState(""),{selectedSuperCategory:_,selectedCategory:l}=qe();m.useEffect(()=>{s=="Котегории"&&_&&r(_),s=="Подкотегории"&&l&&r(l)},[s,_,l]);const r=async c=>{try{const u=await(await Te.get(`https://api.mcrm.uz/api/categories/${c}`)).data;n(u.name.ru)}catch(p){console.error("Ошибка произошла при получении названия варианта категории",p)}},i=()=>{t&&t(!0)};return e.jsxs("div",{className:d.editBlock,onClick:i,children:[a||o,e.jsx(U,{name:"PencilIcon"})]})}const Za="_modalCategory_xzv82_1",Ja="_modalCategory_block_xzv82_10",Qa="_modalCategory_nav_xzv82_16",Ya="_modalCategory_nav_title_xzv82_23",er="_modalCategory_content_xzv82_29",tr="_modalCategory_content_message_xzv82_36",sr="_modalCategory_content_link_xzv82_44",or="_modalCategory_content_link_active_xzv82_72",nr="_modalCategory_content_item_xzv82_82",ar="_modalCategory_content_block_xzv82_104",rr="_modalCategory_content_block_title_xzv82_108",ir="_settings_xzv82_115",cr="_settings_title_xzv82_118",lr="_settings_content_xzv82_123",_r="_settings_content_top_xzv82_126",dr="_settings_content_buttons_xzv82_129",pr="_settings_content_btn_xzv82_139",ur="_settings_content_btn_cancel_xzv82_151",mr="_settings_content_btn_save_xzv82_154",hr="_settings_tools_xzv82_157",gr="_settings_tools_link_xzv82_162",vr="_settings_tools_link_active_xzv82_177",oe={modalCategory:Za,modalCategory_block:Ja,modalCategory_nav:Qa,modalCategory_nav_title:Ya,modalCategory_content:er,modalCategory_content_message:tr,modalCategory_content_link:sr,modalCategory_content_link_active:or,modalCategory_content_item:nr,modalCategory_content_block:ar,modalCategory_content_block_title:rr,settings:ir,settings_title:cr,settings_content:lr,settings_content_top:_r,settings_content_buttons:dr,settings_content_btn:pr,settings_content_btn_cancel:ur,settings_content_btn_save:mr,settings_tools:hr,settings_tools_link:gr,settings_tools_link_active:vr};function br({setCancel:o}){return e.jsxs("div",{className:oe.modalCategory_nav,children:[e.jsx("h2",{className:oe.modalCategory_nav_title,children:"Котегория"}),e.jsx("button",{className:oe.modalCategory_nav_close,onClick:o,children:e.jsx(U,{width:24,height:24,name:"XMarkIcon"})})]})}function xr({superCategory:o,category:t,setMessageStatus:s,fetchCategories:a}){const{currentCategory:n}=ce(),{selectedSuperCategory:_,setSelectedSuperCategory:l}=qe(),{setCurrentCategory:r}=ge(),[i,c]=m.useState(10),p=(h,g)=>{if(h.preventDefault(),n==="Подкотегории"){a("category",1,10,g.id);const v=t.filter(I=>I.parentId==g.id);r(v),l(g.id),s(!1)}l(g.id)},u=h=>{h.preventDefault();const g=i+10;c(g),a("super",1,g)};return e.jsxs("div",{className:oe.modalCategory_content_block,children:[e.jsx("h2",{className:oe.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:oe.modalCategory_content_item,children:[o.map(h=>e.jsxs(H,{to:"#",className:`${oe.modalCategory_content_link} ${h.id==_?oe.modalCategory_content_link_active:""} `,onClick:g=>p(g,h),children:[h.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},h.id)),e.jsx(H,{to:"#",className:oe.modalCategory_content_link,onClick:h=>u(h),children:"Ещё..."})]})]})}function fr({categoryId:o,category:t,setCategoryId:s,setSubCategory:a,fetchCategories:n}){const{selectedSuperCategory:_}=qe(),[l,r]=m.useState(10),i=p=>{p.preventDefault();const u=l+10;r(u),n("category",1,u,_)},c=(p,u)=>{a(p,u),s(u.id)};return t.length>0&&e.jsxs("div",{className:oe.modalCategory_content_block,children:[e.jsx("h2",{className:oe.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:oe.modalCategory_content_item,children:[t==null?void 0:t.map(p=>e.jsxs(H,{to:"#",className:`${oe.modalCategory_content_link} ${p.id==o?oe.modalCategory_content_link_active:""} `,onClick:u=>c(u,p),children:[p.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},p.id)),e.jsx(H,{to:"#",className:oe.modalCategory_content_link,onClick:p=>i(p),children:"Ещё..."})]})]})}function kr({setSettings:o,setCancel:t}){return e.jsxs("div",{className:oe.settings_content_buttons,children:[e.jsx("button",{className:`${oe.settings_content_btn} ${oe.settings_content_btn_cancel}`,onClick:t,children:"Отмена"}),e.jsx(H,{to:"#",className:`${oe.settings_content_btn} ${oe.settings_content_btn_save}`,onClick:o,children:"Сохранить"})]})}function yr({setOpenModal:o}){const{currentCategory:t}=ce(),{selectedSuperCategory:s,setSelectedSuperCategory:a,selectedCategory:n,setSelectedCategory:_}=qe(),[l,r]=m.useState(0),[i,c]=m.useState(!1),[p,u]=m.useState("Выберите категорию"),[h,g]=m.useState([]),[v,I]=m.useState([]);m.useEffect(()=>{S("super",1,10),n&&r(n)},[]);const D=(y,x)=>{y.preventDefault(),S("subCategory",1,10,x.id),c(!1)},O=()=>{t=="Котегории"?a(s):t=="Подкотегории"&&_(l),C()},C=()=>{c(!1),u("Выберите категорию"),o(!1)},S=async(y,x,b,N)=>{try{const $=y=="super"?`https://api.mcrm.uz/api/categories?&page=${x}&perPage=${b}`:`https://api.mcrm.uz/api/categories?parentId=${N}&page=${x}&perPage=${b}`,L=(await Te.get($)).data.data.map(E=>({...E,label:y==="super"?"Супер категория":y==="category"?"Категория":"Субкатегория"}));y==="super"&&g([...L]),y==="category"&&I([...L])}catch($){console.error(`Ошибка произошла при получении ${y} категорий`,$)}},f=()=>{o(!1)};return e.jsx("div",{className:oe.modalCategory,onClick:f,children:e.jsxs("div",{className:oe.modalCategory_block,onClick:y=>y.stopPropagation(),children:[e.jsx(br,{setCancel:C}),e.jsx("p",{className:oe.modalCategory_content_message,children:i?p:""}),e.jsxs("div",{className:oe.modalCategory_content,children:[e.jsx(xr,{superCategory:h,category:v,setMessageStatus:c,fetchCategories:S}),t==="Подкотегории"&&e.jsx(fr,{categoryId:l,category:v,setCategoryId:r,setSubCategory:D,fetchCategories:S}),e.jsx(kr,{setSettings:O,setCancel:C})]})]})})}function jr(){const[o,t]=m.useState(!1),[s,a]=m.useState(!1),{currentCategory:n,categoriesStatus:_,categories:l,setCategoriesStatus:r,setCurrentCategory:i}=ce();m.useEffect(()=>{t(n==="Котегории"||n==="Подкотегории")},[n]);const c=p=>{i(p.title),p.title==="Котегории"||p.title==="Подкотегории"?t(!0):t(!1)};return e.jsxs("div",{className:d.categoriesDropDown,children:[e.jsx("h2",{className:d.categoriesDropDown_title,children:"Настройки каталога"}),s&&e.jsx(yr,{setOpenModal:a}),e.jsxs("div",{className:d.categoriesDropDown_item,children:[e.jsxs("div",{className:d.categoriesDropDown_item_top,onClick:()=>r(!_),children:[e.jsx("h2",{className:d.categoriesDropDown_item_top_title,children:n}),e.jsx("button",{className:d.categoriesDropDown_item_top_btn,onClick:()=>r(!_),children:e.jsx("div",{className:`${d.categoriesDropDown_item_top_arrow} ${_?d.categoriesDropDown_item_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${d.categoriesDropDown_item_block} ${_?d.categoriesDropDown_item_block_open:""}`,children:l.map(p=>e.jsx("div",{className:`${d.categoriesDropDown_item_block_line} ${p.title==n?d.categoriesDropDown_item_block_active:""}`,onClick:()=>c(p),children:p.title},p.id))})]}),o&&e.jsx(Ga,{title:"Выберите вариант",setOpenModal:a})]})}const wr="_banner_1eodh_1",Cr="_banner_title_1eodh_5",Sr="_products_banner_1eodh_10",Nr="_products_banner_wrap_1eodh_13",Ir="_products_banner_wrap_btn_1eodh_19",$r="_products_banner_wrap_filter_1eodh_30",Pr="_products_banner_wrap_filter_text_1eodh_40",Dr="_products_banner_form_1eodh_48",Or="_products_banner_form_wrap_1eodh_53",Fr="_products_banner_form_wrap_btn_1eodh_59",Ar="_products_banner_form_wrap_input_1eodh_75",Br="_products_banner_form_wrap_icon_1eodh_83",Lr="_table_1eodh_87",Mr="_table_tbody_1eodh_92",Wr="_table_tbody_tr_1eodh_97",Er="_table_tbody_tr_active_1eodh_100",Ur="_table_tbody_img_1eodh_103",Rr="_table_tr_1eodh_108",zr="_table_th_1eodh_111",Tr="_table_td_1eodh_122",Vr="_table_td_edit_1eodh_130",qr="_table_btn_1eodh_136",Kr="_versions_1eodh_144",Hr="_versions_block_1eodh_149",Xr="_versions_block_top_1eodh_154",Gr="_versions_block_top_title_1eodh_164",Zr="_versions_block_top_arrow_1eodh_168",Jr="_versions_block_top_arrow_active_1eodh_177",Qr="_versions_block_dropdown_1eodh_180",Yr="_versions_block_dropdown_item_1eodh_195",ei="_versions_block_dropdown_open_1eodh_206",ti="_add_banner_1eodh_213",si="_add_banner_header_1eodh_221",oi="_add_banner_header_title_1eodh_225",ni="_add_banner_content_1eodh_229",ai="_add_banner_content_product_1eodh_232",ri="_add_banner_content_link_1eodh_254",ii="_add_banner_content_info_1eodh_262",ci="_add_banner_content_info_text_1eodh_266",li="_add_banner_content_download_1eodh_272",_i="_add_banner_content_download_link_1eodh_281",di="_add_banner_content_btns_1eodh_293",pi="_add_banner_content_btn_1eodh_293",ui="_category_wrap_1eodh_311",mi="_modalCategory_1eodh_315",hi="_modalCategory_block_1eodh_323",gi="_modalCategory_nav_1eodh_328",vi="_modalCategory_nav_title_1eodh_335",bi="_modalCategory_content_1eodh_341",xi="_modalCategory_content_message_1eodh_348",fi="_modalCategory_content_link_1eodh_356",ki="_modalCategory_content_link_active_1eodh_384",yi="_modalCategory_content_item_1eodh_394",ji="_modalCategory_content_block_1eodh_416",wi="_modalCategory_content_block_title_1eodh_420",Ci="_add_link_1eodh_427",Si="_add_link_title_1eodh_430",Ni="_add_link_input_1eodh_434",Ii="_modal_btn_1eodh_443",F={banner:wr,banner_title:Cr,products_banner:Sr,products_banner_wrap:Nr,products_banner_wrap_btn:Ir,products_banner_wrap_filter:$r,products_banner_wrap_filter_text:Pr,products_banner_form:Dr,products_banner_form_wrap:Or,products_banner_form_wrap_btn:Fr,products_banner_form_wrap_input:Ar,products_banner_form_wrap_icon:Br,table:Lr,table_tbody:Mr,table_tbody_tr:Wr,table_tbody_tr_active:Er,table_tbody_img:Ur,table_tr:Rr,table_th:zr,table_td:Tr,table_td_edit:Vr,table_btn:qr,versions:Kr,versions_block:Hr,versions_block_top:Xr,versions_block_top_title:Gr,versions_block_top_arrow:Zr,versions_block_top_arrow_active:Jr,versions_block_dropdown:Qr,versions_block_dropdown_item:Yr,versions_block_dropdown_open:ei,add_banner:ti,add_banner_header:si,add_banner_header_title:oi,add_banner_content:ni,add_banner_content_product:ai,add_banner_content_link:ri,add_banner_content_info:ii,add_banner_content_info_text:ci,add_banner_content_download:li,add_banner_content_download_link:_i,add_banner_content_btns:di,add_banner_content_btn:pi,category_wrap:ui,modalCategory:mi,modalCategory_block:hi,modalCategory_nav:gi,modalCategory_nav_title:vi,modalCategory_content:bi,modalCategory_content_message:xi,modalCategory_content_link:fi,modalCategory_content_link_active:ki,modalCategory_content_item:yi,modalCategory_content_block:ji,modalCategory_content_block_title:wi,add_link:Ci,add_link_title:Si,add_link_input:Ni,modal_btn:Ii};function ut({color:o="black",title:t="",versionList:s=[],className:a,openBlock:n,setOpenBlock:_,setVersionList:l}){const[r,i]=m.useState(s[0].title),{setChangeCategoryStyles:c}=pe(),p=u=>{const h=s.map(g=>({...g,isOpen:g.id===u.id}));u.title=="Категория"&&c(!0),i(u.title),l(h),_(!1)};return e.jsxs("div",{className:a??F.versions,children:[e.jsx("span",{children:t}),e.jsxs("div",{className:F.versions_block,children:[e.jsxs("div",{className:F.versions_block_top,children:[e.jsx("h2",{className:F.versions_block_top_title,style:{color:o},children:r}),e.jsx("button",{className:F.versions_block_top_btn,onClick:()=>_(!n),children:e.jsx("div",{className:`${F.versions_block_top_arrow} ${n?F.versions_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${F.versions_block_dropdown} ${n?F.versions_block_dropdown_open:""}`,children:s.map(u=>e.jsx("span",{className:F.versions_block_dropdown_item,onClick:()=>p(u),children:u.title},u.id))})]})]})}function Ge({width:o=78,color:t="white",backgroundOn:s="rgba(137, 250, 135, 1)",backgroundOff:a="rgba(193, 193, 193, 1)",speed:n=500,scale:_=1.1,status:l=!1,disabled:r=!1}){const i={width:`${o}px`,height:`${o/2-o/20}px`,background:l?s:a,borderRadius:`${o/2}px`,display:"flex",alignItems:"center",transition:`${n}ms`,cursor:"pointer",opacity:r?1:.3},c={background:`${t}`,height:`${o/2-o/20}px`,width:`${o/2-o/20}px`,border:`${o/25}px solid ${l?s:a}`,borderRadius:"50%",transition:`${n}ms`,transform:`scale(${_}) translateX(${l?"110%":"0"})`};return e.jsx("div",{style:i,children:e.jsx("div",{style:c})})}const We=({arr:o=[{id:"1",title:"Заголовок"},{id:"2",title:"Цена"},{id:"3",title:"Кол-во"},{id:"4",title:""}],arrToUse:t,selectionMode:s,isActive:a=!1,isEdit:n=!1,isCategory:_,isLinks:l,setPickedProduct:r,setPickedProductActive:i})=>{const{bannersArr:c,selectedProductEdit:p,imageUrlEditBanner:u,bannersArrProduct:h,bannersArrLink:g,setBannersArrLink:v,setSelectedProductEdit:I,setImageUrlEditBanner:D,setCurrentProductOpen:O,clearPickedProductsArr:C,setBannersArrProduct:S,setBannersArr:f,setBannersArrCategory:y}=pe(),[x,b]=m.useState("");m.useState(new Set);const N=j=>c.some(W=>W.title===j&&W.isBannerActive),$=(j,W)=>{if(s==="byId"&&(r==null||r(j)),n&&W){const V={id:se(),bannerUrl:u,title:W.title,isProductBanner:!0,isBannerActive:!0,toggleSwitcher:!0};V.title!=null&&!N(V.title)?(S(h.map(A=>A.id===p?V:A)),f(c.map(A=>A.id===p?V:A)),O(!1)):console.warn("Объект с таким brandName уже существует.")}b(j)},P=(j,W)=>{s==="productId"&&(i==null||i(j),$==null||$(j),b(j),C(),W.id&&I(W.id),W.bannerUrl&&D(W.bannerUrl))},L=(j,W,V)=>{if(j.stopPropagation(),V.isBannerActive)a&&(S(t.map(A=>A.id===W?{...A,toggleSwitcher:!A.toggleSwitcher}:A)),f(c.map(A=>A.id===W?{...A,toggleSwitcher:!A.toggleSwitcher}:A))),_&&(y(t.map(A=>A.id===W?{...A,toggleSwitcher:!A.toggleSwitcher}:A)),f(c.map(A=>A.id===W?{...A,toggleSwitcher:!A.toggleSwitcher}:A))),l&&(v(t.map(A=>A.id===W?{...A,toggleSwitcher:!A.toggleSwitcher}:A)),f(c.map(A=>A.id===W?{...A,toggleSwitcher:!A.toggleSwitcher}:A)));else return},E=j=>j.id!==void 0,T=(j,W)=>{j.stopPropagation(),S(t.map(V=>V.id===W.id?{...V,isBannerActive:!1,title:"-"}:V)),f(c.map(V=>V.id===W.id?{...V,isBannerActive:!1,title:"-"}:V))};return e.jsxs("table",{className:F.table,children:[e.jsx("thead",{className:F.table_thead,children:e.jsx("tr",{className:F.table_tr,children:o.map(j=>e.jsx("th",{className:F.table_th,children:j.title},j.id))})}),e.jsx("tbody",{className:F.table_tbody,children:t==null?void 0:t.map(j=>{var W;return e.jsxs("tr",{className:`${F.table_tbody_tr} ${!n&&x==j.id?F.table_tbody_tr_active:""}`,style:{cursor:a||_||l?"pointer":"default"},onClick:()=>P(j.id,j),children:[e.jsxs("td",{className:F.table_td,children:[s==="byId"&&(j==null?void 0:j.title),n?j.title:"",a&&e.jsx("img",{className:F.table_tbody_img,src:j.bannerUrl??"",alt:"Banner"}),_&&e.jsx("img",{className:F.table_tbody_img,src:j.bannerUrl??"",alt:"Banner"}),l&&e.jsx("img",{className:F.table_tbody_img,src:j.bannerUrl??"",alt:"Banner"})]}),e.jsxs("td",{className:F.table_td,children:[_?j.categoryTitle:"",a?j.title:(W=j.nomenclature)==null?void 0:W.price,l&&j.title]}),e.jsx("td",{className:F.table_td,children:a?"":j.crmAmount}),e.jsx("td",{className:F.table_td,children:_?e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:V=>{const A=j;A.id&&L(V,A.id,j)},children:e.jsx(Ge,{width:62,status:E(j)&&j.toggleSwitcher&&j.isBannerActive,disabled:E(j)&&j.isBannerActive})}):a?e.jsxs("div",{className:F.table_td_edit,children:[j.brandName!=="-"&&e.jsx("button",{className:F.table_btn,style:{width:"156px",background:"#FFB5B5"},onClick:V=>T(V,j),children:"Открепить продукт"}),e.jsx("div",{onClick:V=>{const A=j;A.id&&L(V,A.id,j)},children:e.jsx(Ge,{width:62,status:E(j)&&j.toggleSwitcher&&j.isBannerActive,disabled:E(j)&&j.isBannerActive})})]}):l?e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:V=>{const A=j;A.id&&L(V,A.id,j)},children:e.jsx(Ge,{width:62,status:E(j)&&j.toggleSwitcher&&j.isBannerActive,disabled:E(j)&&j.isBannerActive})}):e.jsx("button",{className:F.table_btn,onClick:()=>$(j.id,j),children:n?"Заменить":"Выбрать"})})]},(E(j),j.id))})})]})};function $i({setCancel:o}){return e.jsxs("div",{className:Q.modalCategory_nav,children:[e.jsx("h2",{className:Q.modalCategory_nav_title,children:"Котегория"}),e.jsx("button",{className:Q.modalCategory_nav_close,onClick:o,children:e.jsx(U,{width:24,height:24,name:"XMarkIcon"})})]})}function Pi({superCategory:o,category:t,superId:s,setLocalPicked:a,setSuperId:n,setMessageStatus:_,setSubCategories:l,fetchCategories:r,setSuperCategoryObj:i}){const{changeCategoryStyles:c,categoriesArr:p,setCategoriesArr:u,setActiveCategory:h,setActiveCategoryTitle:g}=pe(),{setCurrentCategory:v}=ge(),[I,D]=m.useState(10),O=(S,f)=>{S.preventDefault(),r("category",1,10,f.id),l([]);const y=t.filter(x=>x.parentId==f.id);if(v(y),a(f),n(f.id),_(!1),c&&f.label&&(h(f.label),g(f.name.ru)),c){const x=p.filter(b=>b.label!==f.label);x.push(f),u(x)}i==null||i(f)},C=()=>{const S=I+10;D(S),r("super",1,S),console.log("addPage",S)};return e.jsxs("div",{className:Q.modalCategory_content_block,children:[e.jsx("h2",{className:Q.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:Q.modalCategory_content_item,children:[o.map(S=>e.jsxs(H,{to:"#",className:`${Q.modalCategory_content_link} ${S.id==s?Q.modalCategory_content_link_active:""} `,onClick:f=>O(f,S),children:[S.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},S.id)),e.jsx(H,{to:"#",className:Q.modalCategory_content_link,onClick:()=>C(),children:"Ещё..."})]})]})}function Di({superId:o,categoryId:t,category:s,setSubCategory:a,fetchCategories:n}){const[_,l]=m.useState(10),r=()=>{const c=_+10;l(c),n("category",1,c,o),console.log("addPage",c,o)},i=(c,p)=>{a(c,p)};return s.length>0&&e.jsxs("div",{className:Q.modalCategory_content_block,children:[e.jsx("h2",{className:Q.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:Q.modalCategory_content_item,children:[s==null?void 0:s.map(c=>e.jsxs(H,{to:"#",className:`${Q.modalCategory_content_link} ${c.id==t?Q.modalCategory_content_link_active:""} `,onClick:p=>i(p,c),children:[c.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},c.id)),e.jsx(H,{to:"#",className:Q.modalCategory_content_link,onClick:()=>r(),children:"Ещё..."})]})]})}function Oi({subId:o,categoryId:t,subCategories:s,setSubProductsList:a,fetchCategories:n}){const[_,l]=m.useState(10),r=()=>{const i=_+10;l(i),n("subCategory",1,i,t),console.log("addPage",i)};return s.length>0&&e.jsxs("div",{className:Q.modalCategory_content_block,children:[e.jsx("h2",{className:Q.modalCategory_content_block_title,children:"Подкотегория"}),e.jsxs("div",{className:Q.modalCategory_content_item,children:[s==null?void 0:s.map(i=>e.jsxs(H,{to:"#",className:`${Q.modalCategory_content_link} ${i.id==o?Q.modalCategory_content_link_active:""} `,onClick:c=>a(c,i),children:[i.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},i.id)),e.jsx(H,{to:"#",className:Q.modalCategory_content_link,onClick:()=>r(),children:"Ещё..."})]})]})}function Fi({setSettings:o,setCancel:t}){return e.jsxs("div",{className:Q.settings_content_buttons,children:[e.jsx("button",{className:`${Q.settings_content_btn} ${Q.settings_content_btn_cancel}`,onClick:t,children:"Отмена"}),e.jsx("button",{className:`${Q.settings_content_btn} ${Q.settings_content_btn_save}`,onClick:o,children:"Сохранить"})]})}function Ke({isProduct:o,isCategory:t=!1}){const{setOpenModalCategory:s,setPickedCategory:a,setCurrentCategory:n,setCurrentSubCategory:_}=ge(),{changeCategoryStyles:l,categoriesArr:r,pickedProducts:i,setCategoriesArr:c,setPickedProducts:p,setActiveCategory:u,setActiveCategoryTitle:h,setOpenModalCategoryBanner:g}=pe(),v=l?F:Q;Ve();const[I,D]=m.useState(0),[O,C]=m.useState(0),[S,f]=m.useState(0),[y,x]=m.useState({}),[b,N]=m.useState(!1),[$,P]=m.useState("Выберите категорию"),[L,E]=m.useState([]),[T,j]=m.useState([]),[W,V]=m.useState([]),[A,ke]=m.useState(null),[ve,be]=m.useState(null),[ue,Y]=m.useState(null);m.useEffect(()=>{console.log("pickedProducts",i)},[i]),m.useEffect(()=>{Ce("super",1,10)},[]);const[k]=m.useState(1),[w]=m.useState(10);m.useState([]);const K=(re,J)=>{re.preventDefault(),Ce("subCategory",1,10,J.id);const me=W.filter(ye=>ye.parentId==J.id);if(_(me),x(J),C(J.id),N(!1),l&&J.label&&(u(J.label),h(J.name.ru)),l){const ye=r.filter(Be=>Be.label!==J.label);ye.push(J),c(ye)}be(J)},G=(re,J)=>{if(re.preventDefault(),x(J),f(J.id),N(!1),l&&J.label&&(u(J.label),h(J.name.ru)),l){const me=r.filter(ye=>ye.name.ru!==J.name.ru);me.push(J),console.log("newCategories",me),c(me)}Y(J)};async function te(re){const J=we.get("multi-store");try{const me=await ie.get(`web-nomenclatures?multiStoreId=${J}&categoryId=${re}&page=${k}&perPage=${w}`);p(me.data.data)}catch(me){console.log("error",me)}}const xe=()=>{if(Object.keys(y).length===0){N(!0),P("Выберите Суперкотегорию");return}if(T.length>0&&O===0){N(!0),P("Выберите Категорию");return}if(W.length>0&&S===0){N(!0),P("Выберите Подкотегорию");return}console.log(y),te(y.id);const re=[];A&&re.push(A),ve&&re.push(ve),ue&&re.push(ue),c(re),le()},le=()=>{a(y),s(!1),D(0),C(0),f(0),x({}),n([]),_([]),N(!1),P("Выберите категорию"),g(!1)},Ce=async(re,J,me,ye)=>{try{const Be=re=="super"?`https://api.mcrm.uz/api/categories?&page=${J}&perPage=${me}`:`https://api.mcrm.uz/api/categories?parentId=${ye}&page=${J}&perPage=${me}`,Xe=(await Te.get(Be)).data.data.map(Pt=>({...Pt,label:re==="super"?"Супер категория":re==="category"?"Категория":"Субкатегория"}));re==="super"&&E([...Xe]),re==="category"&&j([...Xe]),re==="subCategory"&&V([...Xe])}catch(Be){console.error(`Ошибка произошла при получении ${re} категорий`,Be)}};return e.jsx("div",{className:v.modalCategory,children:e.jsxs("div",{className:v.modalCategory_block,children:[!l&&e.jsx($i,{setCancel:le}),e.jsx("p",{className:v.modalCategory_content_message,children:b?$:""}),e.jsxs("div",{className:v.modalCategory_content,children:[e.jsx(Pi,{superId:I,superCategory:L,category:T,setLocalPicked:x,setSuperId:D,setMessageStatus:N,fetchCategories:Ce,setSubCategories:V,setSuperCategoryObj:ke}),e.jsx(Di,{superId:I,categoryId:O,category:T,setSubCategory:K,fetchCategories:Ce}),e.jsx(Oi,{subId:S,categoryId:O,subCategories:W,setSubProductsList:G,fetchCategories:Ce}),!t&&e.jsx(Fi,{setSettings:xe,setCancel:le})]})]})})}const Fe=({title:o,currentProductEdit:t,isEdit:s,isCategory:a,isLinks:n,linkTextEdit:_,deleteBanner:l,isProduct:r})=>{const{currentProductTable:i,changeCategoryStyles:c,categoriesArr:p,bannersArr:u,linksPageBannerText:h,openLinksPage:g,openProductsPage:v,activeCategory:I,activeCategoryTitle:D,bannersArrProduct:O,bannersArrCategory:C,bannersArrLink:S,setBannersArrLink:f,setCurrentProductOpen:y,clearCategoriesArr:x,addBannerToArr:b,setLinksPageBannerText:N,setBannersArrProduct:$,setBannersArr:P,setBannersArrCategory:L}=pe(),[E,T]=m.useState(null),[j,W]=m.useState(null),[V,A]=m.useState(""),ke=k=>{if(k.target.files&&k.target.files[0]){const w=k.target.files[0];console.log("file",w),W(w);const K=new FileReader;K.onloadend=()=>{const G=K.result;T(G)},K.readAsDataURL(w)}},ve=()=>{document.getElementById("upload").click()},be=()=>{if(!j)return;const k=()=>{switch(I){case"Супер категория":return"superCategory";case"Категория":return"bannerCategory";case"Субкатегория":return"subCategory";default:return""}};if(j&&i&&v){const w={id:se(),bannerUrl:E||"",title:i.title,isProductBanner:!0,isBannerActive:!0,toggleSwitcher:!0};u.some(te=>te.title===w.title)||b(w),y(!1),T(null),W(null);const G=document.getElementById("upload");G&&(G.value="")}if(c&&g==!1){const w=k(),K={id:se(),bannerUrl:E||"",categoryLabel:w,categoryTitle:D,isCategoryBanner:!0,isBannerActive:!0,toggleSwitcher:!0};u.some(xe=>xe.categoryTitle===K.categoryTitle)||b(K),T(null),W(null);const te=document.getElementById("upload");te&&(te.value="")}if(g&&h){const w={id:se(),bannerUrl:E||"",title:h,isLinkBanner:!0,isBannerActive:!0,toggleSwitcher:!0};u.some(te=>te.title===w.title)||(b(w),console.log("bannersArr",u)),T(null),W(null),N("");const G=document.getElementById("upload");G&&(G.value="")}},ue=()=>{E===null?(console.log("bannersArrProduct",O),console.log("bannersArr",u),s&&(a&&(A((()=>{switch(I){case"Супер категория":return"superCategory";case"Категория":return"bannerCategory";case"Субкатегория":return"subCategory";default:return""}})()),L(C.map(w=>w.id===(i==null?void 0:i.id)?{...w,categoryTitle:D,activeCategoryEdit:V}:w))),n&&(f(S.map(k=>k.id===(t==null?void 0:t.id)?{...k,title:_}:k)),P(u.map(k=>k.id===(t==null?void 0:t.id)?{...k,title:_}:k))),y(!1))):s&&(r&&($(O.map(k=>k.id===(t==null?void 0:t.id)?{...k,bannerUrl:E}:k)),P(u.map(k=>k.id===(t==null?void 0:t.id)?{...k,bannerUrl:E}:k))),a&&(L(C.map(k=>k.id===(t==null?void 0:t.id)?{...k,bannerUrl:E,categoryTitle:D}:k)),P(u.map(k=>k.id===(t==null?void 0:t.id)?{...k,bannerUrl:E,categoryTitle:D}:k))),n&&(f(S.map(k=>k.id===(t==null?void 0:t.id)?{...k,bannerUrl:E,title:_}:k)),P(u.map(k=>k.id===(t==null?void 0:t.id)?{...k,bannerUrl:E,title:_}:k))),y(!1))},Y=()=>{l==null||l(t==null?void 0:t.id),y(!1)};return e.jsxs("div",{className:F.add_banner,children:[e.jsx("div",{className:F.add_banner_header,children:e.jsx("h3",{className:F.add_banner_header_title,children:"Баннер"})}),e.jsxs("div",{className:F.add_banner_content,children:[c?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:F.add_banner_content_product,children:[o,":",a&&e.jsxs("span",{children:[" ",t==null?void 0:t.categoryTitle]}),n&&e.jsxs("span",{children:[" ",t==null?void 0:t.title]})]}),p==null?void 0:p.map(k=>e.jsx("span",{className:F.add_banner_content_product,children:k.name.ru},k.name.ru))]}):e.jsx("p",{className:F.add_banner_content_product,children:g?`${o}: ${h}`:`${o}: ${i==null?void 0:i.title}`}),e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},id:"upload",onChange:ke}),e.jsx("label",{htmlFor:"upload",className:F.add_banner_content_link,children:"Загрузить"}),e.jsx("div",{className:F.add_banner_content_info,children:e.jsx("p",{className:F.add_banner_content_info_text,children:"Оптимальный размер картинки 800x800px (прозрачный фон) максимальный размер 10MB"})}),s?e.jsx("div",{className:F.add_banner_content_download,children:e.jsx("img",{src:E||(t==null?void 0:t.bannerUrl),alt:"",style:{width:"555px",height:"229px",objectFit:"cover"}})}):e.jsx("div",{className:F.add_banner_content_download,children:E?e.jsx("img",{src:E,alt:"Uploaded",className:F.add_banner_content_download_image,style:{width:"555px",height:"229px",objectFit:"cover"}}):e.jsxs("a",{className:F.add_banner_content_download_link,onClick:()=>ve(),children:[e.jsx(U,{name:"PhotoIcon",width:72,height:72,color:"#C1C1C1"}),e.jsx("span",{children:"Загрузите баннер"})]})}),s?e.jsxs("div",{className:F.add_banner_content_btns,children:[e.jsx("button",{className:F.add_banner_content_btn,onClick:Y,style:{background:"#FFB5B5"},children:"Удалить"}),e.jsx("button",{className:F.add_banner_content_btn,style:{background:"#01C2EE"},onClick:()=>ue(),children:"Изменить"})]}):e.jsxs("div",{className:F.add_banner_content_btns,children:[e.jsx("button",{className:F.add_banner_content_btn,onClick:()=>y(!1),children:"Отмена"}),e.jsx("button",{className:F.add_banner_content_btn,onClick:()=>be(),children:"Сохранить"})]})]})]})};function mt({inputText:o,setInputText:t,filteredUsers:s,isProductEdit:a}){const{categoriesArr:n,filteredSubCategory:_,filteredCategory:l,filteredSuperCategory:r,setCurrentProductOpen:i,setChangeCategoryStyles:c,setOpenModalCategoryBanner:p,clearCategoriesArr:u,setFilteredSubCategory:h,setFilteredCategory:g,setFilteredSuperCategory:v}=pe(),I=()=>{a&&i(!1),c(!1),p(!0),u()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:F.products_banner_wrap,children:[e.jsx("button",{className:F.products_banner_wrap_btn,onClick:I,children:e.jsx(U,{name:"FunnelIcon",width:20})}),(n==null?void 0:n.length)!==0&&e.jsx("div",{className:F.products_banner_wrap_filter,children:n==null?void 0:n.map(D=>e.jsx("span",{className:F.products_banner_wrap_filter_text,children:D.name.ru},D.id))}),e.jsxs("form",{action:"",className:F.products_banner_form,onSubmit:D=>s==null?void 0:s(D),children:[e.jsxs("div",{className:F.products_banner_form_wrap,children:[e.jsx("input",{type:"text",className:F.products_banner_form_wrap_input,placeholder:"Поиск товаров",value:o,onChange:D=>t==null?void 0:t(D.target.value)}),e.jsx(U,{className:F.products_banner_form_wrap_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:F.products_banner_form_wrap_btn,children:"Найти"})]})]})})}const Ai=[{id:"1",title:"Заголовок"},{id:"2",title:"Цена"},{id:"3",title:"Кол-во"},{id:"4",title:""}],Bi=()=>{const{openModalCategoryBanner:o,currentProductOpen:t,searchTextBanner:s,pickedProducts:a,webProductsArr:n,setCurrentProductTable:_,clearCategoriesArr:l,setSearchTextBanner:r,clearPickedProductsArr:i,setOpenLinksPage:c,setOpenProductsPage:p,setCurrentProductOpen:u,setOpenModalCategoryBanner:h}=pe(),[g,v]=m.useState(""),I=f=>{f.preventDefault(),r(g),l()},D=f=>{const y=n.find(x=>x.id===f);y&&(console.log("currentProduct",y),_(y),u(!0))},[O,C]=m.useState([]);m.useEffect(()=>{let f=n;f=f==null?void 0:f.filter(y=>{var x;return(x=y.title)==null?void 0:x.toLowerCase().includes(s.toLowerCase())}),C(f)},[s,n]);const S=s?O:a;return m.useEffect(()=>{g===""&&(r(""),i(),u(!1)),o&&v("")},[g,o]),m.useEffect(()=>{u(!1),c(!1),p(!0),h(!1),l()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:F.products_banner,style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(mt,{inputText:g,setInputText:v,filteredUsers:I}),e.jsx(We,{arrToUse:S,arr:Ai,setPickedProduct:D,selectionMode:"byId"})]}),o&&e.jsx(Ke,{isProduct:!0}),t&&e.jsx(Fe,{title:"Товар"})]})},Li=()=>{const{categoriesArr:o,setOpenLinksPage:t,setChangeCategoryStyles:s,setOpenProductsPage:a}=pe();return m.useEffect(()=>{t(!1),s(!0),a(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:F.category_wrap,children:e.jsx(Ke,{isCategory:!0})}),e.jsx(Fe,{title:"Каталог",categories:o})]})},Mi=()=>{const{linksPageBannerText:o,setLinksPageBannerText:t,setOpenLinksPage:s,setChangeCategoryStyles:a,setOpenProductsPage:n}=pe();return m.useEffect(()=>{s(!0),a(!1),t(""),n(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:F.add_link,children:[e.jsx("h3",{className:F.add_link_title,children:"Ссылка на станицу"}),e.jsx("input",{className:F.add_link_input,type:"text",value:o,onChange:_=>t(_.target.value)})]}),e.jsx(Fe,{title:"Страница"})]})};function Wi(){const{bannerDropdownOptions:o,openBannerDropdown:t,setBannerDropdownOptions:s,setOpenBannerDropdown:a,resetDropdownToDefault:n}=pe(),_=()=>{const l=o.find(r=>r.isOpen);if(!l)return null;switch(l.title){case"Продукт":return e.jsx(Bi,{});case"Категория":return e.jsx(Li,{});case"Страница":return e.jsx(Mi,{});default:return null}};return m.useEffect(()=>{n()},[]),e.jsxs("div",{className:F.banner,children:[e.jsx("h3",{className:F.banner_title,children:"Выберите вариант куда прикрепить баннер"}),e.jsx(ut,{openBlock:t,setOpenBlock:a,versionList:o,setVersionList:s}),e.jsx("div",{className:F.banner_content,children:_()})]})}const Ei=[{id:"1",title:"Баннер"},{id:"2",title:"Продукт"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],Ui=()=>{const{pickedProducts:o,currentProductOpen:t,openModalCategoryBanner:s,bannersArr:a,searchTextBanner:n,currentProductTable:_,bannersArrProduct:l,webProductsArr:r,clearPickedProductsArr:i,clearCategoriesArr:c,setCurrentProductOpen:p,setCurrentProductTable:u,setSearchTextBanner:h,setOpenLinksPage:g,setOpenProductsPage:v,setOpenModalCategoryBanner:I,setBannersArrProduct:D,setBannersArr:O}=pe(),[C,S]=m.useState(""),[f,y]=m.useState([]),x=P=>{P.preventDefault(),h(C),c()},b=P=>{const L=l.find(E=>E.id===P);L&&(u(L),p(!0))};m.useEffect(()=>{let P=r;P=P==null?void 0:P.filter(L=>{var E;return(E=L.title)==null?void 0:E.toLowerCase().includes(n.toLowerCase())}),y(P)},[n,r]);const N=P=>{D(l.filter(L=>L.id!=P)),O(a.filter(L=>L.id!==P))},$=n?f:o;return m.useEffect(()=>{p(!1),g(!1),v(!0),I(!1),c()},[p,g,v,I,c]),m.useEffect(()=>{C===""&&(h(""),i())},[C]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(We,{arrToUse:l,arr:Ei,setPickedProductActive:b,selectionMode:"productId",isActive:!0}),t&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(mt,{filteredUsers:x,setInputText:S}),e.jsx(We,{arrToUse:$,isEdit:!0,selectionMode:"mxikCode"}),e.jsx(Fe,{title:"Продукт",currentProductEdit:_,isEdit:!0,isProduct:!0,deleteBanner:N})]})]}),s&&e.jsx(Ke,{})]})},Ri=[{id:"1",title:"Баннер"},{id:"2",title:"Каталог"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],zi=()=>{const{bannersArr:o,bannersArrCategory:t,currentProductTable:s,currentProductOpen:a,setCurrentProductOpen:n,setBannersArr:_,setCurrentProductTable:l,setBannersArrCategory:r}=pe(),i=p=>{const u=t.find(h=>h.id===p);u&&(l(u),n(!0),console.log("currentProductTable",s))},c=p=>{r(t.filter(u=>u.id!=p)),_(o.filter(u=>u.id!==p))};return m.useEffect(()=>{n(!1)},[]),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(We,{arr:Ri,arrToUse:t,selectionMode:"productId",isCategory:!0,setPickedProductActive:i}),a&&e.jsx(Ke,{isCategory:!0}),a&&e.jsx(Fe,{title:"Каталог",currentProductEdit:s,isEdit:!0,isCategory:!0,deleteBanner:c})]})},Ti=({setLinkText:o,currentProductEdit:t})=>{pe();const[s,a]=m.useState(t.brandName||""),n=_=>{a(_),o(_)};return m.useEffect(()=>{a(t.brandName||"")},[t.brandName]),e.jsxs("div",{children:[e.jsx("p",{className:F.add_link_title,children:"Ссылка на страницу"}),e.jsx("input",{className:F.add_link_input,type:"text",onChange:_=>n(_.target.value),value:s})]})},Vi=[{id:"1",title:"Баннер"},{id:"2",title:"Страницы"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],qi=()=>{const{bannersArr:o,bannersArrLink:t,currentProductOpen:s,currentProductTable:a,setBannersArr:n,setBannersArrLink:_,setCurrentProductTable:l,setCurrentProductOpen:r}=pe(),[i,c]=m.useState(""),p=h=>{const g=t.find(v=>v.id===h);g&&(l(g),console.log("currentProductTable",a),r(!0))},u=h=>{_(t.filter(g=>g.id!=h)),n(o.filter(g=>g.id!==h))};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(We,{arr:Vi,arrToUse:t,selectionMode:"productId",setPickedProductActive:p,isLinks:!0}),s&&e.jsxs(e.Fragment,{children:[e.jsx(Ti,{setLinkText:c,currentProductEdit:a}),e.jsx(Fe,{title:"Страница",currentProductEdit:a,deleteBanner:u,isLinks:!0,isEdit:!0,linkTextEdit:i})]})]})};function Ki(){const{bannerDropdownOptions:o,openBannerDropdown:t,bannersArr:s,bannersArrProduct:a,bannersArrCategory:n,bannersArrLink:_,setBannerDropdownOptions:l,setOpenBannerDropdown:r,resetDropdownToDefault:i,setBannersArrProduct:c,setBannersArrCategory:p,setBannersArrLink:u}=pe();m.useEffect(()=>{c(s.filter(g=>g.isProductBanner===!0)),p(s.filter(g=>g.isCategoryBanner===!0)),u(s.filter(g=>g.isLinkBanner===!0))},[]);const h=()=>{const g=o.find(v=>v.isOpen);if(!g)return null;switch(g.title){case"Продукт":return e.jsx(Ui,{});case"Категория":return e.jsx(zi,{});case"Страница":return e.jsx(qi,{});default:return null}};return m.useEffect(()=>{i()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h3",{className:F.banner_title,children:"Выберите вариант редактирования баннера"}),e.jsx(ut,{openBlock:t,setOpenBlock:r,versionList:o,setVersionList:l})]}),e.jsx("div",{className:F.banner_content,children:h()})]})}const Hi=[{id:1,title:"Новый",href:"/admin/settings/banner"},{id:2,title:"Активные",href:"/admin/settings/banner/activeBanner"}];function Xi(){const[o]=m.useState(1),[t]=m.useState(10),a=ae().pathname,{setCurrentProductOpen:n,setWebProductsArr:_}=pe();m.useEffect(()=>{n(!1)},[]);async function l(){const r=we.get("multi-store");try{const i=await ie.get(`web-nomenclatures?multiStoreId=${r}&page=${o}&perPage=${t}`);_(i.data.data)}catch(i){console.log("error",i)}}return m.useEffect(()=>{l()},[]),e.jsx("div",{className:d.banner,children:e.jsxs("div",{className:d.banner_nav,children:[e.jsx("ul",{className:d.banner_nav_list,children:Hi.map(r=>e.jsx("li",{children:e.jsx(H,{to:r.href,className:`${d.banner_nav_link} ${r.href==a?d.banner_nav_link_active:""}`,children:r.title})},r.id))}),a.startsWith("/admin/settings/banner")&&e.jsxs("div",{className:d.settings_content_base,children:[a=="/admin/settings/banner"&&e.jsx(Wi,{}),a=="/admin/settings/banner/activeBanner"&&e.jsx(Ki,{})]})]})})}const Gi="_contacts_mxkpi_1",Zi="_contacts_content_mxkpi_4",Ji="_contacts_nav_mxkpi_7",Qi="_contacts_nav_list_mxkpi_10",Yi="_contacts_nav_link_mxkpi_15",ec="_contacts_nav_link_active_mxkpi_30",tc="_contacts_btn_mxkpi_34",sc="_socials_mxkpi_55",oc="_socials_title_mxkpi_60",nc="_socials_content_mxkpi_65",ac="_socials_content_wrap_mxkpi_70",rc="_socials_content_wrap_input_mxkpi_75",ic="_aboutUs_mxkpi_84",cc="_aboutUs_add_image_mxkpi_87",lc="_aboutUs_content_mxkpi_90",_c="_aboutUs_image_wrap_mxkpi_95",dc="_aboutUs_download_mxkpi_104",pc="_aboutUs_text_mxkpi_112",uc="_aboutUs_inputs_mxkpi_120",mc="_aboutUs_inputs_wrap_mxkpi_126",hc="_aboutUs_inputs_wrap_title_mxkpi_130",gc="_aboutUs_inputs_wrap_input_mxkpi_136",vc="_aboutUs_inputs_wrap_textarea_mxkpi_144",bc="_aboutUs_btn_mxkpi_152",xc="_aboutUs_week_info_mxkpi_172",fc="_aboutUs_week_info_text_mxkpi_178",kc="_aboutUs_week_content_mxkpi_183",yc="_aboutUs_week_wrap_mxkpi_189",jc="_aboutUs_week_wrap_colored_mxkpi_193",wc="_aboutUs_week_wrap_colored_active_mxkpi_203",Cc="_aboutUs_week_wrap_colored_last_mxkpi_206",Sc="_aboutUs_week_wrap_day_mxkpi_209",Nc="_aboutUs_week_wrap_schedule_mxkpi_215",Ic="_aboutUs_week_wrap_input_mxkpi_221",$c="_custom_checkbox_mxkpi_241",Pc="_custom_checkbox_input_mxkpi_247",Dc="_custom_checkbox_box_mxkpi_252",Oc="_custom_checkbox_box_icon_mxkpi_261",R={contacts:Gi,contacts_content:Zi,contacts_nav:Ji,contacts_nav_list:Qi,contacts_nav_link:Yi,contacts_nav_link_active:ec,contacts_btn:tc,socials:sc,socials_title:oc,socials_content:nc,socials_content_wrap:ac,socials_content_wrap_input:rc,aboutUs:ic,aboutUs_add_image:cc,aboutUs_content:lc,aboutUs_image_wrap:_c,aboutUs_download:dc,aboutUs_text:pc,aboutUs_inputs:uc,aboutUs_inputs_wrap:mc,aboutUs_inputs_wrap_title:hc,aboutUs_inputs_wrap_input:gc,aboutUs_inputs_wrap_textarea:vc,aboutUs_btn:bc,aboutUs_week_info:xc,aboutUs_week_info_text:fc,aboutUs_week_content:kc,aboutUs_week_wrap:yc,aboutUs_week_wrap_colored:jc,aboutUs_week_wrap_colored_active:wc,aboutUs_week_wrap_colored_last:Cc,aboutUs_week_wrap_day:Sc,aboutUs_week_wrap_schedule:Nc,aboutUs_week_wrap_input:Ic,custom_checkbox:$c,custom_checkbox_input:Pc,custom_checkbox_box:Dc,custom_checkbox_box_icon:Oc},Fc=({temporaryImageUrl:o,setTemporaryImageUrl:t})=>{Ze();const[s,a]=m.useState(null),[n,_]=m.useState(null);m.useEffect(()=>{const i=localStorage.getItem("savedLogoImageUrl");i&&(a(i),t(i))},[t]);const l=i=>{if(i.target.files&&i.target.files[0]){const c=i.target.files[0];_(c);const p=new FileReader;p.onloadend=()=>{const u=p.result;a(u),t(u),localStorage.setItem("savedLogoImageUrl",u)},p.readAsDataURL(c)}},r=()=>{document.getElementById("upload").click()};return e.jsxs("div",{className:R.aboutUs_add_image,children:[e.jsx("div",{className:R.aboutUs_image_wrap,children:s||o?e.jsx("img",{src:o||s,alt:"Uploaded",style:{width:"60px",height:"60px",objectFit:"contain"}}):e.jsx("a",{style:{cursor:"pointer"},onClick:()=>r(),children:e.jsx(U,{name:"PhotoIcon",width:33,height:33,color:"#C1C1C1"})})}),e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},id:"upload",onChange:l}),e.jsx("label",{htmlFor:"upload",className:R.aboutUs_download,children:"Загрузить"}),e.jsx("p",{className:R.aboutUs_text,children:"Оптимальный размер картинки 500x500px (прозрачный фон) максимальный размер 10MB"})]})};function $e(){return $e=Object.assign?Object.assign.bind():function(o){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},$e.apply(this,arguments)}const ht=(o,t)=>{const s={};for(const a in o)t.indexOf(a)===-1&&(s[a]=o[a]);return s},gt=ne.createContext(null),He=ne.createContext(null),Ac=o=>t=>ne.createElement(He.Consumer,null,s=>ne.createElement(o,$e({parent:s},t))),Bc=(o=[])=>{const[t,s]=m.useState(!1),a=m.useRef(o),n=(()=>{const l=m.useContext(gt);if(l===null)throw new Error("Couldn't find Yandex.Maps API in the context. Make sure that hook useYMaps is inside <YMaps /> provider");return l})(),_=n.getApi();return m.useEffect(()=>{n.load().then(()=>Promise.all(a.current.map(n.loadModule))).then(()=>s(!0))},[]),t&&_?_:null},Lc=()=>{},Mc=["onLoad","onError","modules","apiLoader"];function vt(o,t=!1,s=[]){return a=>{const{width:n,height:_,modules:l=[],onLoad:r=Lc}=a,i=Bc(s.concat(l)),c=!t||!!i,p=ht(a,Mc);return m.useEffect(()=>i?r(i):void 0,[i]),c?ne.createElement(o,$e({ymaps:i},p)):ne.createElement("div",{style:{width:n,height:_}})}}const Wc=typeof window<"u",ot={lang:"ru_RU",load:"",ns:"",mode:"release"},Ec=o=>{const{version:t="2.1",enterprise:s=!1,query:a={lang:"ru_RU",load:"",ns:""},preload:n=!1,children:_}=o,l=m.useRef((r=>{const{query:i=ot}=r,c=Date.now().toString(32),p=i.ns||"",u="__yandex-maps-api-onload__$$"+c,h="__yandex-maps-api-onerror__$$"+c,g=Wc?window:{},v={};let I;const D=()=>p?g[p]:I,O=()=>{delete g[u],delete g[h]};return{load:()=>{if(D())return Promise.resolve(I);if(v[p])return v[p];const C={onload:u,onerror:h,...ot,...i},S=Object.keys(C).map(y=>`${y}=${C[y]}`).join("&"),f=[`https://${r.enterprise?"enterprise.":""}api-maps.yandex.ru`,r.version,"?"+S].join("/");return v[p]=new Promise((y,x)=>{g[u]=b=>{O(),b.ready(()=>{I=b,y(b)})},g[h]=b=>{O(),x(b)},(b=>new Promise((N,$)=>{const P=document.createElement("script");P.type="text/javascript",P.onload=N,P.onerror=$,P.src=b,P.async=!0,document.head.appendChild(P)}))(f).catch(g[h])}),v[p]},getApi:D,loadModule:C=>new Promise((S,f)=>{I.modules.require(C).done(y=>{y.forEach(x=>{((b,N,$,P=!1)=>{const L=typeof N=="string"?N.split("."):N.slice();let E,T=b;for(;L.length>1;)E=L.shift(),T[E]||(T[E]={}),T=T[E];const j=L[0];T[j]=P===!0&&T[j]||$})(I,C,x,!0)}),S(I)},f)})}})({version:t,enterprise:s,query:a,preload:n}));return m.useEffect(()=>{n&&l.current.load()},[l.current]),ne.createElement(gt.Provider,{value:l.current},_)},nt=/^on(?=[A-Z])/;function ee(o){return Object.keys(o).reduce((t,s)=>{if(nt.test(s)){const a=s.replace(nt,"").toLowerCase();t._events[a]=o[s]}else t[s]=o[s];return t},{_events:{}})}function De(o,t,s){typeof s=="function"&&o.events.add(t,s)}function Oe(o,t,s){typeof s=="function"&&o.events.remove(t,s)}function Ae(o,t,s){Object.keys(Object.assign({},t,s)).forEach(a=>{t[a]!==s[a]&&(Oe(o,a,t[a]),De(o,a,s[a]))})}const bt=o=>"default"+o.charAt(0).toUpperCase()+o.slice(1);function _e(o,t){return o[t]!==void 0||o[bt(t)]===void 0}function B(o,t,s){return(_e(o,t)?o[t]:o[bt(t)])||s}function de(o,t,s=null){if(o!==t){if(o&&("current"in o?o.current=null:typeof o=="function"&&o(null)),!t)return;"current"in t?t.current=s:typeof t=="function"&&t(s)}}function xt(o){const{width:t,height:s,style:a,className:n}=o;return a!==void 0||n!==void 0?Object.assign({},a&&{style:a},n&&{className:n}):{style:{width:t,height:s}}}class Uc extends ne.Component{constructor(t){super(t),this.state={error:null,errorInfo:null}}componentDidCatch(t,s){const{onError:a=()=>{}}=this.props;a(t),this.setState({error:t,errorInfo:s})}render(){return this.state.error?null:this.props.children}}const ft=o=>({onError:t,...s})=>ne.createElement(Uc,{onError:t},ne.createElement(o,s));class Le extends ne.Component{constructor(){super(),this.instance=null,this.state={instance:null},this._parentElement=null,this._getRef=t=>{this._parentElement=t}}componentDidMount(){this.instance=Le.mountObject(this._parentElement,this.props.ymaps.Map,this.props),this.setState({instance:this.instance})}componentDidUpdate(t){this.instance!==null&&Le.updateObject(this.instance,t,this.props)}componentWillUnmount(){Le.unmountObject(this.instance,this.props)}render(){const t=xt(this.props),s=ee(this.props),a=ht(s,["_events","state","defaultState","options","defaultOptions","instanceRef","ymaps","children","width","height","style","className"]);return ne.createElement(He.Provider,{value:this.state.instance},ne.createElement("div",$e({ref:this._getRef},t,a),this.props.children))}static mountObject(t,s,a){const{instanceRef:n,_events:_}=ee(a),l=new s(t,B(a,"state"),B(a,"options"));return Object.keys(_).forEach(r=>De(l,r,_[r])),de(null,n,l),l}static updateObject(t,s,a){const{_events:n,instanceRef:_}=ee(a),{_events:l,instanceRef:r}=ee(s);if(_e(a,"state")){const i=B(s,"state",{}),c=B(a,"state",{});i.type!==c.type&&t.setType(c.type),i.behaviors!==c.behaviors&&(i.behaviors&&t.behaviors.disable(i.behaviors),c.behaviors&&t.behaviors.enable(c.behaviors)),c.zoom&&i.zoom!==c.zoom&&t.setZoom(c.zoom),c.center&&i.center!==c.center&&t.setCenter(c.center),c.bounds&&i.bounds!==c.bounds&&t.setBounds(c.bounds)}if(_e(a,"options")){const i=B(s,"options"),c=B(a,"options",{});i!==c&&t.options.set(c)}B(s,"width")===B(a,"width")&&B(s,"height")===B(a,"height")||t.container.fitToViewport(),Ae(t,l,n),de(r,_,t)}static unmountObject(t,s){const{instanceRef:a,_events:n}=ee(s);t!==null&&(Object.keys(n).forEach(_=>Oe(t,_,n[_])),t.destroy(),de(a))}}const kt=ft(vt(Le,!0,["Map"]));kt.defaultProps={width:320,height:240};class Ee extends ne.Component{constructor(){super(),this.state={instance:null},this._parentElement=null,this._getRef=t=>{this._parentElement=t}}componentDidMount(){this._mounted=!0,this.props.ymaps.panorama.isSupported()&&Ee.mountObject(this._parentElement,this.props.ymaps.panorama,this.props).then(t=>this._mounted&&this.setState({instance:t}))}componentDidUpdate(t){this.state.instance!==null&&Ee.updateObject(this.state.instance,t,this.props)}componentWillUnmount(){this._mounted=!1,Ee.unmountObject(this.state.instance,this.props)}render(){const t=xt(this.props);return ne.createElement("div",$e({ref:this._getRef},t))}static mountObject(t,s,a){const{instanceRef:n,_events:_}=ee(a),l=B(a,"point"),r=B(a,"locateOptions"),i=B(a,"options");return new Promise((c,p)=>{s.locate(l,r).done(u=>{if(u.length>0){const h=new s.Player(t,u[0],i);de(null,n,h),Object.keys(_).forEach(g=>De(h,g,_[g])),c(h)}},p)})}static updateObject(t,s,a){const{_events:n,instanceRef:_}=ee(a),{_events:l,instanceRef:r}=ee(s);if(_e(a,"options")){const i=B(s,"options"),c=B(a,"options");i!==c&&t.options.set(c)}if(_e(a,"point")){const i=B(a,"point"),c=B(s,"point"),p=B(a,"locateOptions");i!==c&&t.moveTo(i,p)}Ae(t,l,n),de(r,_,t)}static unmountObject(t,s){const{instanceRef:a,_events:n}=ee(s);t!==null&&(Object.keys(n).forEach(_=>Oe(t,_,n[_])),de(a))}}class Me extends ne.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const t=Me.mountControl(this.props.ymaps.control[this.props.name],this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.instance!==null&&Me.updateControl(this.instance,t,this.props)}componentWillUnmount(){Me.unmountControl(this.instance,this.props)}render(){return ne.createElement(He.Provider,{value:this.state.instance},this.props.children)}static mountControl(t,s){const{instanceRef:a,parent:n,lazy:_,_events:l}=ee(s),r=new t({data:B(s,"data"),options:B(s,"options"),state:B(s,"state"),mapTypes:B(s,"mapTypes"),lazy:_});if(Object.keys(l).forEach(i=>De(r,i,l[i])),n&&n.controls&&typeof n.controls.add=="function")n.controls.add(r);else{if(!n||!n.add||typeof n.add!="function")throw new Error(`No parent found to mount ${s.name}`);n.add(r)}return de(null,a,r),r}static updateControl(t,s,a){const{_events:n,instanceRef:_}=ee(a),{_events:l,instanceRef:r}=ee(s);if(_e(a,"options")){const i=B(s,"options"),c=B(a,"options");i!==c&&t.options.set(c)}if(_e(a,"data")){const i=B(s,"data"),c=B(a,"data");i!==c&&t.data.set(c)}if(_e(a,"state")){const i=B(s,"state"),c=B(a,"state");i!==c&&t.state.set(c)}if(_e(a,"mapTypes")){const i=B(s,"mapTypes"),c=B(a,"mapTypes");i!==c&&(t.removeAllMapTypes(),c.forEach(p=>t.addMapType(p)))}Ae(t,l,n),de(r,_,t)}static unmountControl(t,s){const{instanceRef:a,parent:n,_events:_}=ee(s);t!==null&&(Object.keys(_).forEach(l=>Oe(t,l,_[l])),n.controls&&typeof n.controls.remove=="function"?n.controls.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),de(a))}}var Rc=ft(Ac(vt(o=>ne.createElement(Me,$e({},o,{name:"ZoomControl"})),!0,["control.ZoomControl"])));class Ue extends ne.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const t=Ue.mountObject(this.props.ymaps.Clusterer,this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.state.instance!==null&&Ue.updateObject(this.instance,t,this.props)}componentWillUnmount(){Ue.unmountObject(this.instance,this.props)}render(){return ne.createElement(He.Provider,{value:this.state.instance},this.props.children)}static mountObject(t,s){const{instanceRef:a,parent:n,_events:_}=ee(s),l=new t(B(s,"options"));if(Object.keys(_).forEach(r=>De(l,r,_[r])),n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(l);else{if(!n.add||typeof n.add!="function")throw new Error("No parent found to mount Clusterer");n.add(l)}return de(null,a,l),l}static updateObject(t,s,a){const{_events:n,instanceRef:_}=ee(a),{_events:l,instanceRef:r}=ee(s);if(_e(a,"options")){const i=B(s,"options"),c=B(a,"options");i!==c&&t.options.set(c)}Ae(t,l,n),de(r,_,t)}static unmountObject(t,s){const{instanceRef:a,parent:n,_events:_}=ee(s);t!==null&&(Object.keys(_).forEach(l=>Oe(t,l,_[l])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),de(a))}}class Re extends ne.Component{constructor(){super(),this.state={instance:null}}componentDidMount(){const t=Re.mountObject(this.props.ymaps.ObjectManager,this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.instance!==null&&Re.updateObject(this.instance,t,this.props)}componentWillUnmount(){Re.unmountObject(this.instance,this.props)}render(){return null}static mountObject(t,s){const{instanceRef:a,parent:n,_events:_}=ee(s),l=B(s,"options",{}),r=B(s,"features",{}),i=B(s,"filter",null),c=B(s,"objects",{}),p=B(s,"clusters",{}),u=new t(l);if(u.add(r||[]),u.setFilter(i),u.objects.options.set(c),u.clusters.options.set(p),Object.keys(_).forEach(h=>De(u,h,_[h])),n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(u);else{if(!n.add||typeof n.add!="function")throw new Error("No parent found to mount ObjectManager");n.add(u)}return de(null,a,u),u}static updateObject(t,s,a){const{_events:n,instanceRef:_}=ee(a),{_events:l,instanceRef:r}=ee(s);if(_e(a,"options")){const i=B(s,"options"),c=B(a,"options");i!==c&&t.options.set(c)}if(_e(a,"objects")){const i=B(s,"objects"),c=B(a,"objects");i!==c&&t.objects.options.set(c)}if(_e(a,"clusters")){const i=B(s,"clusters"),c=B(a,"clusters");i!==c&&t.clusters.options.set(c)}if(_e(a,"filter")){const i=B(s,"filter"),c=B(a,"filter");i!==c&&t.setFilter(c)}if(_e(a,"features")){const i=B(s,"features"),c=B(a,"features");i!==c&&(t.remove(i),t.add(c))}Ae(t,l,n),de(r,_,t)}static unmountObject(t,s){const{instanceRef:a,parent:n,_events:_}=ee(s);t!==null&&(Object.keys(_).forEach(l=>Oe(t,l,_[l])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),de(a))}}class ze extends ne.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const{name:t,ymaps:s,dangerZone:a}=this.props,n=ze.mountObject(a&&typeof a.modifyConstructor=="function"?a.modifyConstructor(s[t]):s[t],this.props);this.instance=n,this.setState({instance:n})}componentDidUpdate(t){this.instance!==null&&ze.updateObject(this.instance,t,this.props)}componentWillUnmount(){ze.unmountObject(this.instance,this.props)}render(){return null}static mountObject(t,s){const{instanceRef:a,parent:n,_events:_}=ee(s),l=new t(B(s,"geometry"),B(s,"properties"),B(s,"options"));if(Object.keys(_).forEach(r=>De(l,r,_[r])),n&&n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(l);else{if(!n||!n.add||typeof n.add!="function")throw new Error(`No parent found to mount ${s.name}`);n.add(l)}return de(null,a,l),l}static updateObject(t,s,a){const{_events:n,instanceRef:_}=ee(a),{_events:l,instanceRef:r}=ee(s);if(_e(a,"geometry")){const i=B(s,"geometry",{}),c=B(a,"geometry",{});Array.isArray(c)&&c!==i?Array.isArray(c[0])&&typeof c[1]=="number"?(t.geometry.setCoordinates(c[0]),t.geometry.setRadius(c[1])):t.geometry.setCoordinates(c):typeof c=="object"&&(c.coordinates!==i.coordinates&&t.geometry.setCoordinates(c.coordinates),c.radius!==i.radius&&t.geometry.setRadius(c.radius))}if(_e(a,"properties")){const i=B(s,"properties"),c=B(a,"properties");i!==c&&t.properties.set(c)}if(_e(a,"options")){const i=B(s,"options"),c=B(a,"options");i!==c&&t.options.set(c)}Ae(t,l,n),de(r,_,t)}static unmountObject(t,s){const{instanceRef:a,parent:n,_events:_}=ee(s);t!==null&&(Object.keys(_).forEach(l=>Oe(t,l,_[l])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),de(a))}}const zc=()=>{const o=m.useRef(null);return e.jsx(Ec,{children:e.jsx("div",{children:e.jsx(kt,{defaultState:{center:[41.32,69.27],zoom:12,controls:[]},width:500,instanceRef:t=>{o.current=t,t&&t.behaviors.disable("scrollZoom")},children:e.jsx(Rc,{options:{position:{bottom:20,right:20}}})})})})},Tc=({temporarySocialPlatforms:o,setTemporarySocialPlatforms:t})=>{const s=(a,n)=>{t(_=>_.map(l=>l.id===n?{...l,text:a}:l))};return e.jsxs("div",{className:R.aboutUs_inputs,children:[o.map(a=>e.jsx("div",{className:R.aboutUs_inputs_wrap,children:a.type=="isTextarea"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:R.aboutUs_inputs_wrap_title,children:a.title}),e.jsx("textarea",{className:R.aboutUs_inputs_wrap_textarea,onChange:n=>s(n.target.value,a.id),value:a.text})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:R.aboutUs_inputs_wrap_title,children:a.title}),e.jsx("input",{className:R.aboutUs_inputs_wrap_input,type:a.type==="isPhone"?"number":a.type==="isEmail"?"email":"text",onChange:n=>s(n.target.value,a.id),value:a.text})]})},a.id)),e.jsx(zc,{})]})},Vc=({id:o,checked:t,onChange:s})=>{const a=n=>{s(o,n.target.checked)};return e.jsxs("label",{className:R.custom_checkbox,children:[e.jsx("input",{className:R.custom_checkbox_input,type:"checkbox",checked:t,onChange:a}),e.jsx("span",{className:R.custom_checkbox_box,children:e.jsx(U,{name:"CheckIcon",width:18,height:18,className:R.custom_checkbox_box_icon})})]})},qc=({temporaryContactsSchedule:o,setTemporaryContactsSchedule:t})=>{const s=r=>{const i=r.replace(/\D/g,"");return i.length<=2?i:`${i.slice(0,2)}:${i.slice(2,4)}`},a=(r,i,c,p)=>{if(!p.isActive)return;const u=s(c);t(h=>h.map(g=>g.id===r?{...g,workHours:{...g.workHours,[i]:u}}:g))},n=(r,i)=>{t(c=>c.map(p=>p.id===r?{...p,isActive:i,workHours:i?p.workHours:{start:"",end:""}}:p))},_=m.useRef({}),l=m.useRef({});return m.useEffect(()=>{o.forEach(r=>{var i;r.isActive&&_.current[r.id]&&!l.current[r.id]&&((i=_.current[r.id])==null||i.focus(),l.current[r.id]=!0)})},[o]),e.jsxs("div",{className:R.aboutUs_week,children:[e.jsxs("div",{className:R.aboutUs_week_info,children:[e.jsx("span",{className:R.aboutUs_week_info_text,children:"Рабочие дни:"}),e.jsx("span",{className:R.aboutUs_week_info_text,children:"Рабочие время:"})]}),e.jsx("div",{className:R.aboutUs_week_content,children:o.map((r,i)=>{const c=i===o.length-1,p=c&&r.isActive?R.aboutUs_week_wrap_colored_active:"";return e.jsxs("div",{className:R.aboutUs_week_wrap,children:[e.jsxs("div",{className:`
                  ${R.aboutUs_week_wrap_colored} 
                  ${r.isActive?R.aboutUs_week_wrap_colored_active:""} 
                  ${c?R.aboutUs_week_wrap_colored_last:""} 
                  ${p}
                `,children:[e.jsx("span",{className:R.aboutUs_week_wrap_day,children:r.day}),e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{className:R.aboutUs_week_wrap_schedule,children:"c:"}),e.jsx("input",{ref:u=>_.current[r.id]=u,className:R.aboutUs_week_wrap_input,type:"text",placeholder:"00:00",onChange:u=>a(r.id,"start",u.target.value,r),value:r.workHours.start}),e.jsx("span",{className:R.aboutUs_week_wrap_schedule,children:"до:"}),e.jsx("input",{className:R.aboutUs_week_wrap_input,type:"text",placeholder:"00:00",onChange:u=>a(r.id,"end",u.target.value,r),value:r.workHours.end})]})]}),e.jsx(Vc,{id:r.id,checked:r.isActive,onChange:n})]},r.id)})})]})},Kc=()=>{const{contactsFormInputsArr:o,setContactsFormInputsArr:t,contactsSchedule:s,setContactsSchedule:a,setImageUrlLogo:n}=Ze(),[_,l]=m.useState(o),[r,i]=m.useState(""),[c,p]=m.useState(s),u=()=>{t(_),n(r);const h=c.map(g=>g.workHours&&g.workHours.start===""&&g.workHours.end===""?{...g,isActive:!1}:g);a(h)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:R.aboutUs,children:[e.jsx(Fc,{temporaryImageUrl:r,setTemporaryImageUrl:i}),e.jsxs("div",{className:R.aboutUs_content,children:[e.jsx(Tc,{temporarySocialPlatforms:_,setTemporarySocialPlatforms:l}),e.jsx(qc,{temporaryContactsSchedule:c,setTemporaryContactsSchedule:p})]})]}),e.jsx("button",{className:R.aboutUs_btn,onClick:u,children:"Сохранить"})]})};function Hc({width:o=78,color:t="white",backgroundOn:s="rgba(137, 250, 135, 1)",backgroundOff:a="rgba(193, 193, 193, 1)",speed:n=500,scale:_=1.1,status:l=!1,disabled:r=!1}){const i={width:`${o}px`,height:`${o/2-o/20}px`,background:l?s:a,borderRadius:`${o/2}px`,display:"flex",alignItems:"center",transition:`${n}ms`,cursor:"pointer"},c={background:`${t}`,height:`${o/2-o/20}px`,width:`${o/2-o/20}px`,border:`${o/25}px solid ${l?s:a}`,borderRadius:"50%",transition:`${n}ms`,transform:`scale(${_}) translateX(${l?"110%":"0"})`};return e.jsx("div",{style:i,children:e.jsx("div",{style:c})})}const Xc=({temporarySocialPlatforms:o,setTemporarySocialPlatforms:t})=>{const s=(n,_)=>{t(l=>l.map(r=>r.id===n?{...r,url:_,isActive:_===""?!1:r.isActive}:r))},a=(n,_)=>{n.url!==""&&t(l=>l.map(r=>r.id===_?{...r,isActive:!r.isActive,url:n.isActive?"":n.url}:r))};return e.jsx(e.Fragment,{children:o.map(n=>e.jsxs("div",{className:R.socials_content_wrap,children:[e.jsx("img",{src:n.icon,alt:n.alt}),e.jsx("input",{type:"text",className:R.socials_content_wrap_input,value:n.url||"",onChange:_=>s(n.id,_.target.value)}),e.jsx("div",{onClick:()=>a(n,n.id),children:e.jsx(Hc,{status:n.isActive})})]},n.id))})},Gc=()=>{const{socialPlatforms:o,setSocialPlatforms:t,setActiveSocials:s}=Ze(),[a,n]=m.useState(o);async function _(){const r=we.get("multi-store"),i=await ie.get(`web-credentials/${r}`);if(i){const c=Object.entries(i.data.social).filter(([u,h])=>h.isActive).map(([u,h])=>({name:u,...h})),p=o.filter(u=>c.some(h=>h.name===u.name)).map(u=>{const h=c.find(g=>g.name===u.name);return{...u,...h,isActive:!0}});s(p)}}async function l(){t(a);const r=we.get("multi-store"),i=a.reduce((c,p)=>(c[p.name]={url:p.url,isActive:p.isActive},c),{});try{const c=await ie.patch(`web-credentials/${r}`,{social:i});_()}catch(c){console.log("error",c)}}return e.jsxs("div",{className:R.socials,children:[e.jsx("h3",{className:R.socials_title,children:"Соц-сети"}),e.jsx("div",{className:R.socials_content,children:e.jsx(Xc,{temporarySocialPlatforms:a,setTemporarySocialPlatforms:n})}),e.jsx("button",{className:R.contacts_btn,onClick:l,children:"Сохранить"})]})},Zc=[{id:se(),title:"Соц-сети",href:"/admin/settings/contacts"},{id:se(),title:"О нас",href:"/admin/settings/contacts/aboutUs"}];function Jc(){const t=ae().pathname;return e.jsx("div",{className:R.contacts,children:e.jsxs("div",{className:R.contacts_content,children:[e.jsx("div",{className:R.contacts_nav,children:e.jsx("ul",{className:R.contacts_nav_list,children:Zc.map(s=>e.jsx(H,{to:s.href,className:`${R.contacts_nav_link} ${s.href==t?R.contacts_nav_link_active:""}`,children:s.title},s.id))})}),t==="/admin/settings/contacts"&&e.jsx(Gc,{}),t==="/admin/settings/contacts/aboutUs"&&e.jsx(Kc,{})]})})}const Qc="_radioLabel_1w8t1_1",Yc="_radioLabel_selected_1w8t1_7",el="_radioLabel_radio_1w8t1_7",tl="_radioLabel_input_1w8t1_15",sl="_radioLabel_text_1w8t1_28",ol="_storeBtn_1w8t1_34",nl="_storeBtn_active_1w8t1_48",al="_deliveryInput_text_1w8t1_53",rl="_deliveryInput_wrap_1w8t1_58",il="_deliveryInput_wrap_input_1w8t1_66",cl="_version3_1w8t1_74",ll="_version3_title_1w8t1_79",_l="_version3_block_1w8t1_85",dl="_version3_block_top_1w8t1_90",pl="_version3_block_top_title_1w8t1_102",ul="_version3_block_top_arrow_1w8t1_106",ml="_version3_block_top_arrow_active_1w8t1_119",hl="_version3_block_dropdown_1w8t1_122",gl="_version3_block_dropdown_item_1w8t1_133",vl="_version3_block_dropdown_open_1w8t1_149",bl="_version3_block_onOff_1w8t1_173",xl="_version3_block_delivery_1w8t1_173",fl="_version3_pickedWrap_1w8t1_178",kl="_version3_pickedWrap_item_1w8t1_189",yl="_kilometerPricing_1w8t1_205",jl="_kilometerPricing_wrap_1w8t1_210",wl="_kilometerPricing_wrap_input_1w8t1_219",Cl="_textarea_1w8t1_225",Sl="_textarea_title_1w8t1_230",Nl="_textarea_text_1w8t1_236",Il="_textarea_count_1w8t1_243",q={radioLabel:Qc,radioLabel_selected:Yc,radioLabel_radio:el,radioLabel_input:tl,radioLabel_text:sl,storeBtn:ol,storeBtn_active:nl,deliveryInput_text:al,deliveryInput_wrap:rl,deliveryInput_wrap_input:il,version3:cl,version3_title:ll,version3_block:_l,version3_block_top:dl,version3_block_top_title:pl,version3_block_top_arrow:ul,version3_block_top_arrow_active:ml,version3_block_dropdown:hl,version3_block_dropdown_item:gl,version3_block_dropdown_open:vl,version3_block_onOff:bl,version3_block_delivery:xl,version3_pickedWrap:fl,version3_pickedWrap_item:kl,kilometerPricing:yl,kilometerPricing_wrap:jl,kilometerPricing_wrap_input:wl,textarea:Cl,textarea_title:Sl,textarea_text:Nl,textarea_count:Il},je=({id:o,value:t,checked:s,onChange:a,label:n})=>e.jsxs("label",{className:`${q.radioLabel} ${s?q.radioLabel_selected:""}`,children:[e.jsx("input",{type:"radio",id:o,value:t,checked:s,onChange:a,className:q.radioLabel_input}),e.jsx("span",{className:q.radioLabel_radio}),e.jsx("span",{className:q.radioLabel_text,children:n})]}),Je=(o,t)=>{const s=Pe();return ae(),{handleChange:m.useCallback(n=>{const _=n.target.value;o(_);const l=t[_];l&&s(l)},[s,t,o])}},$l="_delivery_vkjtc_1",Pl="_delivery_title_vkjtc_5",Dl="_delivery_main_vkjtc_10",Ol="_delivery_btn_vkjtc_16",Fl="_deliveryOrg_vkjtc_28",Al="_deliveryOrg_radios_vkjtc_31",Bl="_deliveryOrg_children_vkjtc_37",Ll="_deliveryOrg_children_wrap_vkjtc_40",Ml="_storeDelivery_vkjtc_46",Wl="_storeDelivery_stores_vkjtc_49",El="_storeDelivery_radios_vkjtc_55",Z={delivery:$l,delivery_title:Pl,delivery_main:Dl,delivery_btn:Ol,deliveryOrg:Fl,deliveryOrg_radios:Al,deliveryOrg_children:Bl,deliveryOrg_children_wrap:Ll,storeDelivery:Ml,storeDelivery_stores:Wl,storeDelivery_radios:El},fe=({text:o,placeholder:t,value:s,setValue:a})=>e.jsxs("div",{className:q.deliveryInput,children:[e.jsx("p",{className:q.deliveryInput_text,children:o}),e.jsxs("div",{className:q.deliveryInput_wrap,children:[e.jsx("input",{className:q.deliveryInput_wrap_input,type:"number",placeholder:t,value:s,onChange:n=>a(n.target.value)}),e.jsx("span",{className:q.deliveryInput_wrap_input_text,children:"UZS"})]})]}),he=Dt()(Ot(Ft(o=>({deliveryStoresArr:[{id:se(),name:"Магазин1",location:"",deliveryFree:[],deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]},{id:se(),name:"Магазин2",location:"",deliveryFree:[],deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]},{id:se(),name:"Магазин3",location:"",deliveryFree:[],deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]}],setDeliveryStoresArr:t=>o({deliveryStoresArr:t}),isActiveStoreId:"",setIsActiveStoreId:t=>o({isActiveStoreId:t}),citiesDelivery:[{id:se(),city:"Ташкент"},{id:se(),city:"Бухара"},{id:se(),city:"Самарканд"}],setCitiesDelivery:t=>o({citiesDelivery:t}),selectedOption:"",setSelectedOption:t=>o({selectedOption:t}),selectedOrganizationOption:"",setSelectedOrganizationOption:t=>o({selectedOrganizationOption:t}),selectedStoreOption:"",setSelectedStoreOption:t=>o({selectedStoreOption:t}),saveLocation:"",setSaveLocation:t=>o({saveLocation:t}),savePathStore:"",setSavePathStore:t=>o({savePathStore:t}),saveLocationStore:[],setSaveLocationStore:t=>o({saveLocationStore:t}),pickedCitiesFreeDelivery:[],setPickedCitiesFreeDelivery:t=>o({pickedCitiesFreeDelivery:t}),inputSumFree:"",setInputSumFree:t=>o({inputSumFree:t}),pickedCitiesFixedDelivery:[],setPickedCitiesFixedDelivery:t=>o({pickedCitiesFixedDelivery:t}),inputSumFixed:"",setInputSumFixed:t=>o({inputSumFixed:t}),inputFixedPrice:"",setInputFixedPrice:t=>o({inputFixedPrice:t}),pickedCitiesFlexibleDelivery:[],setPickedCitiesFlexibleDelivery:t=>o({pickedCitiesFlexibleDelivery:t}),inputSumFlexible:"",setInputSumFlexible:t=>o({inputSumFlexible:t}),inputFirstKm:"",setInputFirstKm:t=>o({inputFirstKm:t}),inputLastKm:"",setInputLastKm:t=>o({inputLastKm:t}),inputExtraKm:"",setInputExtraKm:t=>o({inputExtraKm:t}),pickedCitiesOwnDelivery:[],setPickedCitiesOwnDelivery:t=>o({pickedCitiesOwnDelivery:t}),inputSumOwn:"",setInputSumOwn:t=>o({inputSumOwn:t}),textareaVal:"",setTextareaVal:t=>o({textareaVal:t}),openCountriesDropdown:!1,setOpenCountriesDropdown:t=>o({openCountriesDropdown:t})}),{name:"delivery-store",partialize:o=>({...o})})));function Se({citiesArrDelivery:o,setCitiesArrDelivery:t,pickedCities:s,setPickedCities:a}){const{openCountriesDropdown:n,setOpenCountriesDropdown:_}=he(),l=i=>{s.some(c=>c.id===i.id)||a([...s,i]),_(!1)},r=(i,c)=>{c.stopPropagation(),a(s.filter(p=>p.id!==i.id))};return e.jsxs("div",{className:q.version3,children:[e.jsx("span",{className:q.version3_title,children:"Города"}),e.jsxs("div",{className:q.version3_block,children:[e.jsxs("div",{className:`${s.length>0?q.version3_pickedWrap:q.version3_block_top}`,onClick:()=>_(!n),children:[s.length>0?s.map(i=>e.jsxs("div",{className:q.version3_pickedWrap_item,children:[e.jsx("h2",{className:q.version3_block_top_title,children:i.city}),e.jsx("button",{onClick:c=>r(i,c),children:e.jsx(U,{name:"XMarkIcon",width:15})})]},i.id)):e.jsx("h2",{className:q.version3_block_top_title,children:"Выберите город"}),e.jsx("button",{className:q.version3_block_top_btn,onClick:()=>_(!n),children:e.jsx("div",{className:`${q.version3_block_top_arrow} ${n&&o.length>0?q.version3_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${q.version3_block_dropdown} ${n&&o.length>0?q.version3_block_dropdown_open:""}`,children:o==null?void 0:o.map(i=>e.jsx("span",{className:q.version3_block_dropdown_item,onClick:()=>l(i),children:i.city},i.id))})]})]})}const Ne=()=>{const{setPickedCitiesFreeDelivery:o,setInputSumFree:t,setPickedCitiesFixedDelivery:s,setInputSumFixed:a,setInputFixedPrice:n,setPickedCitiesFlexibleDelivery:_,setInputSumFlexible:l,setInputFirstKm:r,setInputLastKm:i,setInputExtraKm:c,setPickedCitiesOwnDelivery:p,setInputSumOwn:u,setTextareaVal:h}=he();return{resetOrg:v=>{v!=="free"&&(o([]),t("")),v!=="fixed"&&(s([]),a(""),n("")),v!=="flexible"&&(_([]),l(""),r(""),i(""),c("")),v!=="own"&&(p([]),u(""),h("")),v==="all"&&(o([]),t(""),s([]),a(""),n(""),_([]),l(""),r(""),i(""),c(""),p([]),u(""),h(""))}}},Ul=()=>{const{setInputSumFree:o,citiesDelivery:t,setCitiesDelivery:s,pickedCitiesFreeDelivery:a,inputSumFree:n,setPickedCitiesFreeDelivery:_,deliveryStoresArr:l,setDeliveryStoresArr:r,setOpenCountriesDropdown:i,setSaveLocation:c,setSaveLocationStore:p}=he(),u=ae(),[h,g]=m.useState(a),[v,I]=m.useState(n);m.useEffect(()=>{i(!1)},[]);const{resetOrg:D}=Ne(),O=()=>{D("free");const C=h,S=v;_(C),o(S);const f=[{cities:C,minPrice:S}],y=l.map(x=>({...x,location:"storeFreeDelivery",deliveryFree:f,deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]}));console.log("deliveryStoresArr",l),r(y),c(u.pathname),p([]),i(!1)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(fe,{text:"Минимальная сумма заказа",placeholder:"0",value:v,setValue:I}),e.jsx(Se,{citiesArrDelivery:t,setCitiesArrDelivery:s,pickedCities:h,setPickedCities:g}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>O(),children:"Сохранить"})]})},Rl=()=>{const{resetOrg:o}=Ne(),{inputSumFixed:t,setInputSumFixed:s,inputFixedPrice:a,setInputFixedPrice:n,citiesDelivery:_,setCitiesDelivery:l,pickedCitiesFixedDelivery:r,setPickedCitiesFixedDelivery:i,deliveryStoresArr:c,setDeliveryStoresArr:p,setOpenCountriesDropdown:u,setSaveLocation:h,setSaveLocationStore:g}=he(),[v,I]=m.useState(r),[D,O]=m.useState(t),[C,S]=m.useState(a);m.useEffect(()=>{u(!1)},[]);const f=()=>{o("fixed");const y=v,x=D,b=C;i(y),s(x),n(b);const N=[{cities:y,minPrice:x,fixedPrice:b}],$=c.map(P=>({...P,location:"storeFixedPriceDelivery",deliveryFree:[],deliveryFixed:N,deliveryFlexible:[],deliveryOwn:[]}));p($),h(location.pathname),g([]),console.log("deliveryStoresArr",c),u(!1)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(fe,{text:"Минимальная сумма заказа",placeholder:"0",value:D,setValue:O}),e.jsx(fe,{text:"Цена за доставку",placeholder:"0",value:C,setValue:S}),e.jsx(Se,{citiesArrDelivery:_,setCitiesArrDelivery:l,pickedCities:v,setPickedCities:I}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>f(),children:"Сохранить"})]})},yt=({valueFirst:o,setValueFirst:t,valueLast:s,setValueLast:a})=>e.jsxs("div",{className:q.kilometerPricing,children:[e.jsx("span",{className:q.deliveryInput_text,children:"Первые"}),e.jsxs("div",{className:q.kilometerPricing_wrap,children:[e.jsx("input",{className:q.kilometerPricing_wrap_input,type:"number",value:o,placeholder:"0",onChange:n=>t(n.target.value)}),e.jsx("span",{children:"KM"})]}),e.jsx("span",{className:q.deliveryInput_text,children:"по"}),e.jsxs("div",{className:q.kilometerPricing_wrap,children:[e.jsx("input",{className:q.kilometerPricing_wrap_input,type:"number",value:s,placeholder:"0",onChange:n=>a(n.target.value)}),e.jsx("span",{children:"KM"})]})]}),zl=()=>{const{deliveryStoresArr:o,citiesDelivery:t,setCitiesDelivery:s,setDeliveryStoresArr:a,pickedCitiesFlexibleDelivery:n,setPickedCitiesFlexibleDelivery:_,inputSumFlexible:l,setInputSumFlexible:r,inputFirstKm:i,setInputFirstKm:c,inputLastKm:p,setInputLastKm:u,inputExtraKm:h,setInputExtraKm:g,setOpenCountriesDropdown:v,setSaveLocation:I,setSaveLocationStore:D}=he(),[O,C]=m.useState(n),[S,f]=m.useState(l),[y,x]=m.useState(i),[b,N]=m.useState(p),[$,P]=m.useState(h),{resetOrg:L}=Ne(),E=()=>{L("flexible");const T=O,j=S,W=y,V=b,A=$;_(T),r(j),c(W),u(V),g(A);const ke=[{cities:T,minPrice:j,pricingPerKm:{firstKm:W,lastKm:V},extraPricing:A}],ve=o.map(be=>({...be,location:"storeFlexibleDelivery",deliveryFree:[],deliveryFixed:[],deliveryFlexible:ke,deliveryOwn:[]}));a(ve),I(location.pathname),D([]),v(!1)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(fe,{text:"Минимальная сумма заказа",placeholder:"0",value:S,setValue:f}),e.jsx(yt,{valueFirst:y,setValueFirst:x,valueLast:b,setValueLast:N}),e.jsx(fe,{text:"За каждый следующий км",placeholder:"0",value:$,setValue:P}),e.jsx(Se,{citiesArrDelivery:t,setCitiesArrDelivery:s,pickedCities:O,setPickedCities:C}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>E(),children:"Сохранить"})]})},jt=({value:o,setValue:t})=>{const[a,n]=m.useState(400),_=l=>{const r=l.target.value;t(r),r.length<=400&&n(400-r.length)};return e.jsxs("div",{className:q.textarea,children:[e.jsx("span",{className:q.textarea_title,children:"Текст для пояснения"}),e.jsx("textarea",{className:q.textarea_text,maxLength:400,onChange:_,value:o}),e.jsxs("span",{className:q.textarea_count,children:[a,"/",400]})]})},Tl=()=>{const{deliveryStoresArr:o,citiesDelivery:t,setCitiesDelivery:s,setDeliveryStoresArr:a,pickedCitiesOwnDelivery:n,setPickedCitiesOwnDelivery:_,inputSumOwn:l,setInputSumOwn:r,textareaVal:i,setTextareaVal:c,setSaveLocation:p,setSaveLocationStore:u}=he(),[h,g]=m.useState(n),[v,I]=m.useState(l),[D,O]=m.useState(i),{resetOrg:C}=Ne(),S=()=>{C("own");const f=h,y=v,x=D;_(f),r(y),c(x);const b=[{cities:f,minPrice:y,description:x}],N=o.map($=>({...$,location:"storeOwnVersionDelivery",deliveryFree:[],deliveryFixed:[],deliveryFlexible:[],deliveryOwn:b}));a(N),p(location.pathname),u([])};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(fe,{text:"Минимальная сумма заказа",placeholder:"0",value:v,setValue:I}),e.jsx(jt,{value:D,setValue:O}),e.jsx(Se,{citiesArrDelivery:t,setCitiesArrDelivery:s,pickedCities:h,setPickedCities:g}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>S(),children:"Сохранить"})]})},Vl=()=>{const{selectedOrganizationOption:o,saveLocation:t,setSelectedOrganizationOption:s}=he(),a=ae(),n=Pe(),_={freeDelivery:"/admin/settings/delivery/forOrganization/freeDelivery",fixedPriceDelivery:"/admin/settings/delivery/forOrganization/fixedPriceDelivery",flexibleDelivery:"/admin/settings/delivery/forOrganization/flexibleDelivery",ownVersionDelivery:"/admin/settings/delivery/forOrganization/ownVersionDelivery"};m.useEffect(()=>{t?n(t):s("")},[t,n]),m.useEffect(()=>{const r=a.pathname,i=Object.keys(_).find(c=>_[c]===r);i&&s(i)},[a.pathname,s]);const{handleChange:l}=Je(s,_);return e.jsxs("div",{className:Z.deliveryOrg,children:[e.jsx("h4",{className:Z.delivery_title,children:"Выберите вид доставки"}),e.jsxs("div",{className:Z.deliveryOrg_radios,children:[e.jsx(je,{id:"freeDelivery",value:"freeDelivery",checked:o==="freeDelivery",onChange:l,label:"Бесплатная доставка"}),e.jsx(je,{id:"fixedPriceDelivery",value:"fixedPriceDelivery",checked:o==="fixedPriceDelivery",onChange:l,label:"Фиксированная цена"}),e.jsx(je,{id:"flexibleDelivery",value:"flexibleDelivery",checked:o==="flexibleDelivery",onChange:l,label:"Гибкая доставка"}),e.jsx(je,{id:"ownVersionDelivery",value:"ownVersionDelivery",checked:o==="ownVersionDelivery",onChange:l,label:"Свой вариант"})]}),e.jsxs("div",{className:Z.deliveryOrg_children,children:[a.pathname.startsWith("/admin/settings/delivery/forOrganization/freeDelivery")&&e.jsx(Ul,{}),a.pathname.startsWith("/admin/settings/delivery/forOrganization/fixedPriceDelivery")&&e.jsx(Rl,{}),a.pathname.startsWith("/admin/settings/delivery/forOrganization/flexibleDelivery")&&e.jsx(zl,{}),a.pathname.startsWith("/admin/settings/delivery/forOrganization/ownVersionDelivery")&&e.jsx(Tl,{})]})]})},ql=({text:o,isActive:t,onClick:s,href:a})=>e.jsx(H,{className:`${q.storeBtn} ${t?q.storeBtn_active:""}`,onClick:s,to:`settings/delivery/forStore/${a}/settingsSave`,children:o}),Kl=()=>{const{isActiveStoreId:o,deliveryStoresArr:t,setDeliveryStoresArr:s,citiesDelivery:a,setCitiesDelivery:n,saveLocationStore:_,setSaveLocationStore:l,setSaveLocation:r,setSavePathStore:i}=he(),c=ae(),[p,u]=m.useState([]),[h,g]=m.useState("");m.useEffect(()=>{var O,C;const D=t.find(S=>S.id===o);D&&D.deliveryFree?(u(((O=D.deliveryFree[0])==null?void 0:O.cities)||[]),g(((C=D.deliveryFree[0])==null?void 0:C.minPrice)||"")):(u([]),g(""))},[o]);const{resetOrg:v}=Ne(),I=()=>{v("all");const C=[{cities:p,minPrice:h}],S=t.map(x=>x.id===o?{...x,deliveryFree:C,deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]}:x);s(S);const f=[..._],y=f.findIndex(x=>x.id===o);y>=0?f[y].location=c.pathname:f.push({id:o,location:c.pathname}),l(f),console.log("saveLocationStore",_),r(""),i(c.pathname)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(fe,{text:"Минимальная сумма заказа",placeholder:"0",value:h,setValue:g}),e.jsx(Se,{citiesArrDelivery:a,setCitiesArrDelivery:n,pickedCities:p,setPickedCities:u}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>I(),children:"Сохранить"})]})},Hl=()=>{const{isActiveStoreId:o,deliveryStoresArr:t,setDeliveryStoresArr:s,citiesDelivery:a,setCitiesDelivery:n,saveLocationStore:_,setSaveLocationStore:l,setSaveLocation:r,setSavePathStore:i}=he(),c=ae(),[p,u]=m.useState([]),[h,g]=m.useState(""),[v,I]=m.useState("");m.useEffect(()=>{var S,f,y;const C=t.find(x=>x.id===o);C&&C.deliveryFixed?(u(((S=C.deliveryFixed[0])==null?void 0:S.cities)||[]),g(((f=C.deliveryFixed[0])==null?void 0:f.minPrice)||""),I(((y=C.deliveryFixed[0])==null?void 0:y.fixedPrice)||"")):(u([]),g(""),I(""))},[o]);const{resetOrg:D}=Ne(),O=()=>{D("all");const y=[{cities:p,minPrice:h,fixedPrice:v}],x=t.map($=>$.id===o?{...$,deliveryFixed:y,deliveryFree:[],deliveryFlexible:[],deliveryOwn:[]}:$);s(x);const b=[..._],N=b.findIndex($=>$.id===o);N>=0?b[N].location=c.pathname:b.push({id:o,location:c.pathname}),l(b),r(""),i(c.pathname)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(fe,{text:"Минимальная сумма заказа",placeholder:"0",value:h,setValue:g}),e.jsx(fe,{text:"Цена за доставку",placeholder:"0",value:v,setValue:I}),e.jsx(Se,{citiesArrDelivery:a,setCitiesArrDelivery:n,pickedCities:p,setPickedCities:u}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>O(),children:"Сохранить"})]})},Xl=()=>{const{isActiveStoreId:o,deliveryStoresArr:t,setDeliveryStoresArr:s,citiesDelivery:a,setCitiesDelivery:n,saveLocationStore:_,setSaveLocationStore:l,setSaveLocation:r,setSavePathStore:i}=he(),c=ae(),[p,u]=m.useState([]),[h,g]=m.useState(""),[v,I]=m.useState(""),[D,O]=m.useState(""),[C,S]=m.useState("");m.useEffect(()=>{var b,N,$,P,L,E,T;const x=t.find(j=>j.id===o);x&&x.deliveryFlexible?(u(((b=x.deliveryFlexible[0])==null?void 0:b.cities)||[]),g(((N=x.deliveryFlexible[0])==null?void 0:N.minPrice)||""),I(((P=($=x.deliveryFlexible[0])==null?void 0:$.pricingPerKm)==null?void 0:P.firstKm)||""),O(((E=(L=x.deliveryFlexible[0])==null?void 0:L.pricingPerKm)==null?void 0:E.lastKm)||""),S(((T=x.deliveryFlexible[0])==null?void 0:T.extraPricing)||"")):(u([]),g(""),I(""),O(""),S(""))},[o]);const{resetOrg:f}=Ne(),y=()=>{f("all");const L=[{cities:p,minPrice:h,pricingPerKm:{firstKm:v,lastKm:D},extraPricing:C}],E=t.map(W=>W.id===o?{...W,deliveryFlexible:L,deliveryFree:[],deliveryFixed:[],deliveryOwn:[]}:W);s(E);const T=[..._],j=T.findIndex(W=>W.id===o);j>=0?T[j].location=c.pathname:T.push({id:o,location:c.pathname}),l(T),r(""),i(c.pathname)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(fe,{text:"Минимальная сумма заказа",placeholder:"0",value:h,setValue:g}),e.jsx(yt,{valueFirst:v,setValueFirst:I,valueLast:D,setValueLast:O}),e.jsx(fe,{text:"За каждый следующий км",placeholder:"0",value:C,setValue:S}),e.jsx(Se,{citiesArrDelivery:a,setCitiesArrDelivery:n,pickedCities:p,setPickedCities:u}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>y(),children:"Сохранить"})]})},Gl=()=>{const{isActiveStoreId:o,deliveryStoresArr:t,setDeliveryStoresArr:s,citiesDelivery:a,setCitiesDelivery:n,saveLocationStore:_,setSaveLocationStore:l,setSaveLocation:r,setSavePathStore:i}=he(),c=ae(),[p,u]=m.useState([]),[h,g]=m.useState(""),[v,I]=m.useState("");m.useEffect(()=>{var S,f,y;const C=t.find(x=>x.id===o);C&&C.deliveryOwn?(u(((S=C.deliveryOwn[0])==null?void 0:S.cities)||[]),g(((f=C.deliveryOwn[0])==null?void 0:f.minPrice)||""),I(((y=C.deliveryOwn[0])==null?void 0:y.description)||"")):(u([]),g(""),I(""))},[o]);const{resetOrg:D}=Ne(),O=()=>{D("all");const y=[{cities:p,minPrice:h,description:v}],x=t.map($=>$.id===o?{...$,deliveryOwn:y,deliveryFree:[],deliveryFixed:[],deliveryFlexible:[]}:$);s(x);const b=[..._],N=b.findIndex($=>$.id===o);N>=0?b[N].location=c.pathname:b.push({id:o,location:c.pathname}),l(b),r(""),i(c.pathname)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(fe,{text:"Минимальная сумма заказа",placeholder:"0",value:h,setValue:g}),e.jsx(jt,{value:v,setValue:I}),e.jsx(Se,{citiesArrDelivery:a,setCitiesArrDelivery:n,pickedCities:p,setPickedCities:u}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>O(),children:"Сохранить"})]})},Zl=()=>{const{deliveryStoresArr:o,selectedStoreOption:t,isActiveStoreId:s,saveLocationStore:a,setSelectedStoreOption:n}=he(),_=ae(),l=Pe(),r={storeFreeDelivery:`/admin/settings/delivery/forStore/${s}/settingsSave/storeFreeDelivery`,storeFixedPriceDelivery:`/admin/settings/delivery/forStore/${s}/settingsSave/storeFixedPriceDelivery`,storeFlexibleDelivery:`/admin/settings/delivery/forStore/${s}/settingsSave/storeFlexibleDelivery`,storeOwnVersionDelivery:`/admin/settings/delivery/forStore/${s}/settingsSave/storeOwnVersionDelivery`},{handleChange:i}=Je(n,r);return m.useEffect(()=>{const c=a.find(h=>h.id===s),p=Object.keys(r).find(h=>r[h]===(c==null?void 0:c.location)),u=o[0].location;console.log("option",p),a.length>0&&c?(l(c.location),n(p)):(l(`/admin/settings/delivery/forStore/${s}/settingsSave/${u||""}`),n(u))},[s,a]),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h4",{className:Z.delivery_title,children:"Выберите вид доставки"}),e.jsxs("div",{className:Z.storeDelivery_radios,children:[e.jsx(je,{id:"storeFreeDelivery",value:"storeFreeDelivery",checked:t==="storeFreeDelivery",onChange:i,label:"Бесплатная доставка"}),e.jsx(je,{id:"storeFixedPriceDelivery",value:"storeFixedPriceDelivery",checked:t==="storeFixedPriceDelivery",onChange:i,label:"Фиксированная цена"}),e.jsx(je,{id:"storeFlexibleDelivery",value:"storeFlexibleDelivery",checked:t==="storeFlexibleDelivery",onChange:i,label:"Гибкая доставка"}),e.jsx(je,{id:"storeOwnVersionDelivery",value:"storeOwnVersionDelivery",checked:t==="storeOwnVersionDelivery",onChange:i,label:"Свой вариант"})]})]}),e.jsxs("div",{className:Z.deliveryOrg_children,children:[_.pathname.startsWith(`/admin/settings/delivery/forStore/${s}/settingsSave/storeFreeDelivery`)&&e.jsx(Kl,{}),_.pathname.startsWith(`/admin/settings/delivery/forStore/${s}/settingsSave/storeFixedPriceDelivery`)&&e.jsx(Hl,{}),_.pathname.startsWith(`/admin/settings/delivery/forStore/${s}/settingsSave/storeFlexibleDelivery`)&&e.jsx(Xl,{}),_.pathname.startsWith(`/admin/settings/delivery/forStore/${s}/settingsSave/storeOwnVersionDelivery`)&&e.jsx(Gl,{})]})]})},Jl=()=>{const{deliveryStoresArr:o,isActiveStoreId:t,setIsActiveStoreId:s,savePathStore:a}=he(),n=r=>{s(r)};m.useEffect(()=>{a&&l(a)},[]);const _=ae(),l=Pe();return e.jsxs("div",{className:Z.storeDelivery,children:[e.jsx("h4",{className:Z.delivery_title,children:"Выберите магазин "}),e.jsx("div",{className:Z.storeDelivery_stores,children:o.map(r=>e.jsx(ql,{text:r.name,isActive:r.id===t,onClick:()=>n(r.id),href:r.id},r.id))}),_.pathname.startsWith(`/admin/settings/delivery/forStore/${t}/settingsSave`)&&e.jsx(Zl,{})]})},Ql=()=>{const{selectedOption:o,setSelectedOption:t,saveLocationStore:s,savePathStore:a,saveLocation:n}=he(),_=ae(),l=Pe(),r={forOrganization:"/admin/settings/delivery/forOrganization",forStore:"/admin/settings/delivery/forStore"};m.useEffect(()=>{n!==""?(l(n),t("forOrganization")):s.some(c=>c.location)&&(l(a),t(s[0].location),t("forStore"))},[]);const{handleChange:i}=Je(t,r);return e.jsxs("div",{className:Z.delivery,children:[e.jsx("h3",{className:Z.delivery_title,children:"Выберите версию настройки доставки"}),e.jsxs("div",{className:Z.delivery_main,children:[e.jsx(je,{id:"forOrganization",value:"forOrganization",checked:o==="forOrganization",onChange:i,label:"Для организации"}),e.jsx(je,{id:"forStore",value:"forStore",checked:o==="forStore",onChange:i,label:"Для каждого магазина"})]}),_.pathname.startsWith("/admin/settings/delivery/forOrganization")&&e.jsx(Vl,{}),_.pathname.startsWith("/admin/settings/delivery/forStore")&&e.jsx(Jl,{})]})};function Yl({name:o="HandRaisedIcon",width:t=30,height:s=30,color:a="black",background:n="transparent",transition:_=500,className:l,onClick:r}){const i={width:`${t}px`,height:`${s||t}px`,color:a,transition:`${_}ms`,background:n};return e.jsxs(e.Fragment,{children:[o=="HandRaisedIcon"&&e.jsx(Lt,{className:l,style:i,onClick:r}),o=="UserIcon"&&e.jsx(Mt,{className:l,style:i,onClick:r}),o=="HeartIcon"&&e.jsx(Wt,{className:l,style:i,onClick:r}),o=="AdjustmentsHorizontalIcon"&&e.jsx(Et,{className:l,style:i,onClick:r}),o=="BanknotesIcon"&&e.jsx(Ut,{className:l,style:i,onClick:r}),o=="ShoppingBagIcon"&&e.jsx(Rt,{className:l,style:i,onClick:r}),o=="CogIcon"&&e.jsx(zt,{className:l,style:i,onClick:r}),o=="ShoppingCartIcon"&&e.jsx(Tt,{className:l,style:i,onClick:r}),o=="UsersIcon"&&e.jsx(Vt,{className:l,style:i,onClick:r}),o=="ChevronDownIcon"&&e.jsx(qt,{className:l,style:i,onClick:r}),o=="Cog8ToothIcon"&&e.jsx(Kt,{className:l,style:i,onClick:r}),o=="EyeIcon"&&e.jsx(Ht,{className:l,style:i,onClick:r}),o=="EyeSlashIcon"&&e.jsx(Xt,{className:l,style:i,onClick:r}),o=="IdentificationIcon"&&e.jsx(Gt,{className:l,style:i,onClick:r}),o=="WrenchScrewdriverIcon"&&e.jsx(Zt,{className:l,style:i,onClick:r}),o=="XMarkIcon"&&e.jsx(Jt,{className:l,style:i,onClick:r}),o=="PhoneXMarkIcon"&&e.jsx(Qt,{className:l,style:i,onClick:r}),o=="Bars3Icon"&&e.jsx(Yt,{className:l,style:i,onClick:r}),o=="AdjustmentsVerticalIcon"&&e.jsx(es,{className:l,style:i,onClick:r}),o=="TrashIcon"&&e.jsx(ts,{className:l,style:i,onClick:r}),o=="BackspaceIcon"&&e.jsx(ss,{className:l,style:i,onClick:r}),o=="QueueListIcon"&&e.jsx(os,{className:l,style:i,onClick:r}),o=="ChevronRightIcon"&&e.jsx(ns,{className:l,style:i,onClick:r}),o=="MagnifyingGlassIcon"&&e.jsx(as,{className:l,style:i,onClick:r}),o=="ArrowLeftStartOnRectangleIcon"&&e.jsx(rs,{className:l,style:i,onClick:r}),o=="BuildingStorefrontIcon"&&e.jsx(is,{className:l,style:i,onClick:r}),o=="BuildingLibraryIcon"&&e.jsx(cs,{className:l,style:i,onClick:r}),o=="ArrowLeftEndOnRectangleIcon"&&e.jsx(ls,{className:l,style:i,onClick:r}),o=="UserPlusIcon"&&e.jsx(_s,{className:l,style:i,onClick:r}),o=="PlusIcon"&&e.jsx(ds,{className:l,style:i,onClick:r}),o=="FolderOpenIcon"&&e.jsx(ps,{className:l,style:i,onClick:r}),o=="FunnelIcon"&&e.jsx(us,{className:l,style:i,onClick:r}),o=="PhotoIcon"&&e.jsx(ms,{className:l,style:i,onClick:r})]})}function e_(){const{addBlockStatus:o,setAddBlockStatus:t}=ce(),s=a=>{a.stopPropagation(),t(!o)};return e.jsxs("button",{className:`${d.homePage_addBlock} ${o?d.homePage_addBlock_active:""}`,onClick:a=>s(a),children:[e.jsx("span",{className:d.homePage_addBlock_title,children:"Добавить блок"}),e.jsx(Yl,{name:"PlusIcon"})]})}function t_({item:o}){const{addBlockStatus:t,homePageBlock:s,setHomePageBlock:a}=ce(),n=()=>{const _=s.filter(l=>l.id!=o.id);a([..._])};return console.log("item",o),e.jsxs("div",{className:d.homePage_wrapper,children:[e.jsx("h2",{children:o.title}),e.jsxs("div",{className:`${d.homePage_addBlockItem} ${t?d.homePage_addBlockItem_active:""}`,children:[e.jsx("button",{className:d.homePage_addBlockItem_close,onClick:n,children:e.jsx(U,{name:"XMarkIcon"})}),e.jsxs("p",{className:d.homePage_addBlockItem_categories,children:[e.jsxs("span",{children:[o.superCategory.name.ru," / "]}),e.jsxs("span",{children:[o.category.name.ru," / "]}),e.jsx("span",{children:o.subCategory.name.ru})]}),e.jsx("h2",{className:d.homePage_addBlockItem_super_title,children:"Продукты"}),e.jsx("div",{className:d.homePage_addBlockItem_content,children:o.products.map(_=>{var l,r;return e.jsx("div",{className:d.homePage_addBlockItem_super_item,children:e.jsx("span",{children:(r=(l=_.nomenclature)==null?void 0:l.name)==null?void 0:r.ru})},_.id)})})]})]})}const s_="_modalCategory_1ohox_1",o_="_modalCategory_block_1ohox_10",n_="_modalCategory_block_createTitle_1ohox_16",a_="_modalCategory_nav_1ohox_26",r_="_modalCategory_nav_title_1ohox_33",i_="_modalCategory_content_1ohox_39",c_="_modalCategory_content_message_1ohox_46",l_="_modalCategory_content_link_1ohox_54",__="_modalCategory_content_link_active_1ohox_82",d_="_modalCategory_content_item_1ohox_92",p_="_modalCategory_content_block_1ohox_114",u_="_modalCategory_content_block_title_1ohox_118",m_="_settings_1ohox_125",h_="_settings_title_1ohox_128",g_="_settings_content_1ohox_133",v_="_settings_content_top_1ohox_136",b_="_settings_content_buttons_1ohox_139",x_="_settings_content_btn_1ohox_149",f_="_settings_content_btn_cancel_1ohox_161",k_="_settings_content_btn_save_1ohox_164",y_="_settings_tools_1ohox_167",j_="_settings_tools_link_1ohox_172",w_="_settings_tools_link_active_1ohox_187",X={modalCategory:s_,modalCategory_block:o_,modalCategory_block_createTitle:n_,modalCategory_nav:a_,modalCategory_nav_title:r_,modalCategory_content:i_,modalCategory_content_message:c_,modalCategory_content_link:l_,modalCategory_content_link_active:__,modalCategory_content_item:d_,modalCategory_content_block:p_,modalCategory_content_block_title:u_,settings:m_,settings_title:h_,settings_content:g_,settings_content_top:v_,settings_content_buttons:b_,settings_content_btn:x_,settings_content_btn_cancel:f_,settings_content_btn_save:k_,settings_tools:y_,settings_tools_link:j_,settings_tools_link_active:w_};function C_({superCategory:o,category:t,superId:s,setLocalPicked:a,setSuperId:n,setMessageStatus:_,setSubCategories:l,fetchCategories:r}){const{setCurrentCategory:i}=ge(),[c,p]=m.useState(10),u=(g,v)=>{g.preventDefault(),r("category",1,10,v.id),l([]);const I=t.filter(D=>D.parentId==v.id);i(I),a(v),n(v.id),_(!1)},h=g=>{g.preventDefault();const v=c+10;p(v),r("super",1,v),console.log("addPage",v)};return e.jsxs("div",{className:X.modalCategory_content_block,children:[e.jsx("h2",{className:X.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:X.modalCategory_content_item,children:[o.map(g=>e.jsxs(H,{to:"#",className:`${X.modalCategory_content_link} ${g.id==s?X.modalCategory_content_link_active:""} `,onClick:v=>u(v,g),children:[g.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},g.id)),e.jsx(H,{to:"#",className:X.modalCategory_content_link,onClick:g=>h(g),children:"Ещё..."})]})]})}function S_({superId:o,categoryId:t,category:s,setSubCategory:a,fetchCategories:n}){const[_,l]=m.useState(10),r=c=>{c.preventDefault();const p=_+10;l(p),n("category",1,p,o),console.log("addPage",p,o)},i=(c,p)=>{a(c,p)};return s.length>0&&e.jsxs("div",{className:X.modalCategory_content_block,children:[e.jsx("h2",{className:X.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:X.modalCategory_content_item,children:[s==null?void 0:s.map(c=>e.jsxs(H,{to:"#",className:`${X.modalCategory_content_link} ${c.id==t?X.modalCategory_content_link_active:""} `,onClick:p=>i(p,c),children:[c.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},c.id)),e.jsx(H,{to:"#",className:X.modalCategory_content_link,onClick:c=>r(c),children:"Ещё..."})]})]})}function N_({subId:o,categoryId:t,subCategories:s,setSubProductsList:a,fetchCategories:n}){const{setAddBlockProducts:_}=ce(),[l]=m.useState(1),[r,i]=m.useState(10),c=h=>{h.preventDefault();const g=r+10;i(g),n("subCategory",1,g,t),console.log("addPage",g)},p=async(h,g)=>{a(h,g);const v=await u(g.id);_(v)},u=async h=>{const g=we.get("multi-store");try{const v=await ie.get(`web-nomenclatures?multiStoreId=${g}&categoryId=${h}&page=${l}&perPage=${r}`);return console.log(555,"res.data.data",v.data.data),v.data.data}catch(v){console.log("Ошибка при получении продуктов по id",v)}};return s.length>0&&e.jsxs("div",{className:X.modalCategory_content_block,children:[e.jsx("h2",{className:X.modalCategory_content_block_title,children:"Подкотегория"}),e.jsxs("div",{className:X.modalCategory_content_item,children:[s==null?void 0:s.map(h=>e.jsxs(H,{to:"#",className:`${X.modalCategory_content_link} ${h.id==o?X.modalCategory_content_link_active:""} `,onClick:g=>p(g,h),children:[h.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},h.id)),e.jsx(H,{to:"#",className:X.modalCategory_content_link,onClick:h=>c(h),children:"Ещё..."})]})]})}function I_({setSettings:o,setCancel:t}){const{setAddBlockStatus:s}=ce(),a=()=>{t(),s(!1)};return e.jsxs("div",{className:X.settings_content_buttons,children:[e.jsx("button",{className:`${X.settings_content_btn} ${X.settings_content_btn_cancel}`,onClick:a,children:"Отмена"}),e.jsx(H,{to:"#",className:`${X.settings_content_btn} ${X.settings_content_btn_save}`,onClick:n=>o(n),children:"Сохранить"})]})}function $_(){const[o,t]=m.useState(10),{addBlockProducts:s}=ce(),a=n=>{n.preventDefault();const _=o+10;t(_)};return s.length>0&&e.jsxs("div",{className:X.modalCategory_content_block,children:[e.jsx("h2",{className:X.modalCategory_content_block_title,children:"Подкотегория"}),e.jsxs("div",{className:X.modalCategory_content_item,children:[s==null?void 0:s.map(n=>{var _,l;return e.jsxs(H,{to:"#",className:`
                ${X.modalCategory_content_link}
                ${X.modalCategory_content_link_active} 
                `,children:[e.jsx("input",{type:"checkbox"}),(l=(_=n==null?void 0:n.nomenclature)==null?void 0:_.name)==null?void 0:l.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},n.id)}),e.jsx(H,{to:"#",className:X.modalCategory_content_link,onClick:n=>a(n),children:"Ещё..."})]})]})}function P_(){const{TemporaryData:o,currentProduct:t,setCurrentCategory:s,setPickedCategory:a,setCurrentSubCategory:n,setTemporaryData:_,setOpenModalCategory:l,setCurrentProduct:r}=ge(),{homePageBlock:i,setHomePageBlock:c,setAddBlockStatus:p,homePageBlockName:u,setHomePageBlockName:h,setAddBlockStatusItem:g,addBlockProducts:v}=ce(),[I,D]=m.useState(0),[O,C]=m.useState(0),[S,f]=m.useState(0),[y,x]=m.useState({}),[b,N]=m.useState(!1),[$,P]=m.useState("Выберите категорию"),[L,E]=m.useState([]),[T,j]=m.useState([]),[W,V]=m.useState([]);m.useEffect(()=>{ue("super",1,10)},[]);const A=(Y,k)=>{Y.preventDefault(),ue("subCategory",1,10,k.id);const w=W.filter(K=>K.parentId==k.id);n(w),x(k),C(k.id),N(!1)},ke=(Y,k)=>{Y.preventDefault(),x(k),f(k.id),N(!1)},ve=async Y=>{if(Y.preventDefault(),Object.keys(y).length===0){N(!0),P("Выберите Суперкотегорию");return}if(T.length>0&&O===0){N(!0),P("Выберите Категорию");return}if(W.length>0&&S===0){N(!0),P("Выберите Подкотегорию");return}if(console.log("TemporaryData",o),S){console.log(1,"superCategory",L),console.log(1,"category",T),console.log(1,"subCategories",W),console.log(1,"superId",I),console.log(2,"categoryId",O),console.log(3,"subId",S),console.log(4,"localPicked",y),g(!0);const k=L.filter(le=>le.id==I)[0],w=T.filter(le=>le.id==O)[0],K=W.filter(le=>le.id==S)[0],G={id:se(),title:u||"Заголовок не добавлен",superCategory:k,category:w,subCategory:K,products:v};c([G,...i]);const te=o.find(le=>le.mxikCode==(t==null?void 0:t.mxikCode)),xe=o.findIndex(le=>le.mxikCode==(t==null?void 0:t.mxikCode));te&&(te.crmCategory=y,o.splice(xe,1,te),_([...o]))}be()},be=()=>{a(y),l(!1),D(0),C(0),r({}),f(0),x({}),s([]),n([]),N(!1),P("Выберите категорию"),p(!1)},ue=async(Y,k,w,K)=>{try{const G=Y=="super"?`https://api.mcrm.uz/api/categories?&page=${k}&perPage=${w}`:`https://api.mcrm.uz/api/categories?parentId=${K}&page=${k}&perPage=${w}`,xe=(await Te.get(G)).data.data.map(le=>({...le,label:Y==="super"?"Супер категория":Y==="category"?"Категория":"Субкатегория"}));Y==="super"&&E([...xe]),Y==="category"&&j([...xe]),Y==="subCategory"&&V([...xe])}catch(G){console.error(`Ошибка произошла при получении ${Y} категорий`,G)}};return e.jsx("div",{className:X.modalCategory,onClick:Y=>Y.stopPropagation(),children:e.jsxs("div",{className:X.modalCategory_block,children:[e.jsx("p",{className:X.modalCategory_content_message,children:b?$:""}),e.jsxs("div",{className:X.modalCategory_block_createTitle,children:[e.jsx("input",{type:"text",value:u,onChange:Y=>h(Y.target.value),placeholder:"Заголовок  блока "}),e.jsx(U,{name:"PencilIcon",width:20,height:20})]}),e.jsxs("div",{className:X.modalCategory_content,children:[e.jsx(C_,{superId:I,superCategory:L,category:T,setLocalPicked:x,setSuperId:D,setMessageStatus:N,fetchCategories:ue,setSubCategories:V}),e.jsx(S_,{superId:I,categoryId:O,category:T,setSubCategory:A,fetchCategories:ue}),e.jsx(N_,{subId:S,categoryId:O,subCategories:W,setSubProductsList:ke,fetchCategories:ue}),e.jsx($_,{}),e.jsx(I_,{setSettings:ve,setCancel:be})]})]})})}function D_(){const{addBlockStatus:o,homePageBlock:t}=ce();return e.jsxs("div",{className:d.homePage,children:[e.jsx(e_,{}),o&&e.jsx(P_,{}),e.jsx("div",{className:d.homePage_blocks,children:t.length>0&&t.map(s=>e.jsx("div",{children:e.jsx(t_,{item:s})},s.id))})]})}const O_=[{id:"1",label:"Модули",href:"/admin/settings/modules"},{id:"2",label:"Шаблоны",href:"/admin/settings/templates"},{id:"3",label:"Категории",href:"/admin/settings/categories"},{id:"4",label:"Баннер",href:"/admin/settings/banner"},{id:"5",label:"Основные",href:"/admin/settings/contacts"},{id:"6",label:"Доставка",href:"/admin/settings/delivery"},{id:"7",label:"Главная страница",href:"/admin/settings/homePage"}];function F_(){const t=ae().pathname,{setAddBlockStatus:s}=ce();return e.jsx("div",{className:d.settings,onClick:()=>s(!1),children:e.jsxs("div",{className:d.settings_content,children:[e.jsx("div",{className:d.settings_content_top,children:e.jsx("ul",{className:d.settings_tools,children:O_.map(a=>e.jsx("li",{children:e.jsx(H,{to:a.href,className:`${d.settings_tools_link} ${t.startsWith(a.href)?d.settings_tools_link_active:""}`,children:a.label})},a.id))})}),t=="/admin/settings/modules"&&e.jsx(Ha,{}),t=="/admin/settings/templates"&&e.jsx(Xa,{}),t=="/admin/settings/categories"&&e.jsx(jr,{}),t.startsWith("/admin/settings/banner")&&e.jsx(Xi,{}),t.startsWith("/admin/settings/contacts")&&e.jsx(Jc,{}),t.startsWith("/admin/settings/delivery")&&e.jsx(Ql,{}),t.startsWith("/admin/settings/homePage")&&e.jsx(D_,{})]})})}const at=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Статус"},{id:4,title:"Акции"},{id:5,title:""}];function A_(){const[o,t]=m.useState(""),[s]=m.useState(1),[a]=m.useState(10),[n,_]=m.useState({status:!1,message:""}),[l,r]=m.useState([]);m.useEffect(()=>{o||(r([]),_({status:!1,message:""}))},[o]);async function i(c){c.preventDefault();const p=we.get("multi-store");try{const h=await(await ie.get(`nomenclatures?multiStoreId=${p}&name=${o}&page=${s}&perPage=${a}`)).data.data;h.length>0?(r([...h]),_({status:!1,message:""})):(r([]),_({status:!0,message:"Совпадений не найдено"}))}catch(u){console.log("Ошибка произошла при поиске продуктов на складе",u)}}return e.jsxs("div",{className:d.addingWrapper,children:[e.jsxs("form",{action:"",className:d.addingWrapper_form,onSubmit:c=>i(c),children:[e.jsxs("div",{className:d.addingWrapper_search,children:[e.jsx("input",{type:"text",className:d.addingWrapper_search_input,placeholder:"Поиск товара",onChange:c=>t(c.target.value),value:o}),e.jsx(U,{className:d.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:d.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:d.addingWrapper_table,children:[e.jsx("thead",{className:d.addingWrapper_thead,children:e.jsx("tr",{className:d.addingWrapper_thead_tr,children:at.map(c=>e.jsx("th",{className:d.addingWrapper_thead_th,children:c.title},c.id))})}),e.jsx("tbody",{className:d.addingWrapper_tbody,children:l==null?void 0:l.map(c=>e.jsxs("tr",{className:d.addingWrapper_tbody_tr,children:[at.map(p=>{var u;return e.jsxs("td",{className:d.addingWrapper_tbody_td,children:[p.title=="Наименование"?e.jsx("span",{children:(u=c==null?void 0:c.name)==null?void 0:u.ru}):"",p.title=="Штрих-код"?e.jsx("span",{children:c.mxik}):"",p.title=="Статус"?e.jsx("span",{children:"Статус"}):""]},p.id)}),!c.hasWebNomenclature&&e.jsx("td",{className:d.addingWrapper_tbody_td,children:e.jsx(H,{to:`/admin/stock-product/${c.id}`,className:d.addingWrapper_tbody_add,children:"Добавить"})})]},c==null?void 0:c.mxik))})]}),n.status&&e.jsx("span",{className:d.addingWrapper_table_error,children:n.message})]})}const rt=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Статус"},{id:4,title:"Акции"}];function B_(){const[o,t]=m.useState(""),[s,a]=m.useState({status:!1,message:""}),[n,_]=m.useState([]),[l]=m.useState(1),[r]=m.useState(10);m.useEffect(()=>{o||(_([]),a({status:!1,message:""}))},[o]);async function i(){const h=we.get("multi-store");try{console.log(222,"searchText",o);const v=(await ie.get(`web-nomenclatures?multiStoreId=${h}&title=${o}&page=${l}&perPage=${r}`)).data.data;console.log(999,"data",v),v.length>0?(_([...v]),a({status:!1,message:""})):(_([]),a({status:!0,message:"Совпадений не найдено"}))}catch(g){console.log("Ошибка произошла при поиске продуктов на вебсайте по заголовку",g)}}async function c(h,g){h.preventDefault();try{const v=await ie.patch(`web-nomenclatures/${g}`,{isActive:!1});t(""),_([]),console.log("Продукт успешно отключен с веб сайта",v)}catch(v){console.log("Ошибка произошла при удалении продукта с вебсайта",v)}}async function p(h,g){h.preventDefault();try{const v=await ie.patch(`web-nomenclatures/${g}`,{isActive:!0});t(""),_([]),console.log("Продукт успешно включен на веб сайта",v)}catch(v){console.log("Ошибка произошла при удалении продукта с вебсайта",v)}}const u=async h=>{h.preventDefault(),i()};return e.jsxs("div",{className:d.addingWrapper,children:[e.jsxs("form",{action:"",className:d.addingWrapper_form,onSubmit:h=>u(h),children:[e.jsxs("div",{className:d.addingWrapper_search,children:[e.jsx("input",{type:"text",className:d.addingWrapper_search_input,placeholder:"Поиск товара",onChange:h=>t(h.target.value),value:o}),e.jsx(U,{className:d.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:d.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:d.addingWrapper_table,children:[e.jsx("thead",{className:d.addingWrapper_thead,children:e.jsxs("tr",{className:d.addingWrapper_thead_tr,children:[rt.map(h=>e.jsx("th",{className:d.addingWrapper_thead_th,children:h.title},h.id)),e.jsx("th",{className:d.addingWrapper_thead_th})]})}),e.jsx("tbody",{className:d.addingWrapper_tbody,children:n==null?void 0:n.map(h=>e.jsxs("tr",{className:d.addingWrapper_tbody_tr,children:[rt.map(g=>e.jsxs("td",{className:d.addingWrapper_tbody_td,children:[g.title=="Наименование"?e.jsx("span",{children:h.title}):"",g.title=="Статус"?e.jsx("span",{children:"Статус"}):""]},g.id)),e.jsx("td",{className:d.addingWrapper_tbody_td,children:e.jsxs("div",{className:d.addingWrapper_tbody_buttons,children:[h.isActive&&e.jsx(H,{to:"#",className:d.addingWrapper_tbody_del,onClick:g=>c(g,h.id),children:"Отключить"}),!h.isActive&&e.jsx(H,{to:"#",className:d.addingWrapper_tbody_del,onClick:g=>p(g,h.id),children:"Включить"}),e.jsx(H,{to:`/admin/website-product/${h.id}`,className:d.addingWrapper_tbody_add,children:"Изменить"})]})})]},h==null?void 0:h.id))})]}),s.status&&e.jsx("span",{className:d.addingWrapper_table_error,children:s.message})]})}const L_=[{id:1,title:"На складе",href:"/admin/product/adding/stock"},{id:2,title:"На сайте",href:"/admin/product/adding/website"}];function M_(){const t=ae().pathname;return e.jsxs("div",{className:d.products,children:[e.jsx("div",{className:d.products_buttons,children:L_.map(s=>e.jsx(H,{to:s.href,className:`${d.products_btn} ${s.href==t?d.products_btn_active:""}`,children:s.title},s.id))}),t=="/admin/product/adding/stock"&&e.jsx(A_,{}),t=="/admin/product/adding/website"&&e.jsx(B_,{})]})}const W_=[{id:1,title:"Добавление",href:"/addingProducts"},{id:2,title:"Добавление на сайт",href:"/admin/product/adding"},{id:3,title:"Списание",href:"/admin/product/write-off"}];function E_(){const t=ae().pathname;return e.jsxs("div",{className:d.products,children:[e.jsx("div",{className:d.products_buttons,children:W_.map(s=>e.jsx(H,{to:s.href,className:`${d.products_btn} ${t.startsWith(`${s.href}`)||t.startsWith("/admin/product-item")?d.products_btn_active:""}`,children:s.title},s.id))}),t.startsWith("/admin/product/adding")&&e.jsx(M_,{})]})}const U_="_user_title_1uizv_1",R_="_user_list_1uizv_6",z_="_user_list_link_1uizv_12",T_="_user_list_link_active_1uizv_26",V_="_user_form_1uizv_30",q_="_user_form_btn_1uizv_35",K_="_user_form_wrap_1uizv_51",H_="_user_form_input_1uizv_57",X_="_user_form_icon_1uizv_65",G_="_user_table_1uizv_68",Z_="_user_table_tbody_1uizv_71",J_="_user_table_tr_1uizv_74",Q_="_user_table_th_1uizv_77",Y_="_user_table_td_1uizv_85",ed="_user_table_btns_1uizv_89",td="_user_table_btn_1uizv_89",sd="_user_table_btn_blocked_1uizv_107",od="_modal_1uizv_111",nd="_modal_active_1uizv_120",ad="_modal_wrap_1uizv_123",rd="_modal_wrap_header_1uizv_131",id="_modal_wrap_stores_1uizv_143",cd="_modal_wrap_stores_text_1uizv_165",ld="_modal_btns_1uizv_169",_d="_modal_btn_1uizv_169",dd="_modal_content_1uizv_193",pd="_modal_content_text_1uizv_197",ud="_versions_1uizv_206",md="_versions_block_1uizv_211",hd="_versions_block_top_1uizv_216",gd="_versions_block_top_title_1uizv_226",vd="_versions_block_top_arrow_1uizv_230",bd="_versions_block_top_arrow_active_1uizv_239",xd="_versions_block_dropdown_1uizv_242",fd="_versions_block_dropdown_item_1uizv_257",kd="_versions_block_dropdown_open_1uizv_268",yd="_shop_header_1uizv_275",jd="_shop_header_title_1uizv_282",M={user_title:U_,user_list:R_,user_list_link:z_,user_list_link_active:T_,user_form:V_,user_form_btn:q_,user_form_wrap:K_,user_form_input:H_,user_form_icon:X_,user_table:G_,user_table_tbody:Z_,user_table_tr:J_,user_table_th:Q_,user_table_td:Y_,user_table_btns:ed,user_table_btn:td,user_table_btn_blocked:sd,modal:od,modal_active:nd,modal_wrap:ad,modal_wrap_header:rd,modal_wrap_stores:id,modal_wrap_stores_text:cd,modal_btns:ld,modal_btn:_d,modal_content:dd,modal_content_text:pd,versions:ud,versions_block:md,versions_block_top:hd,versions_block_top_title:gd,versions_block_top_arrow:vd,versions_block_top_arrow_active:bd,versions_block_dropdown:xd,versions_block_dropdown_item:fd,versions_block_dropdown_open:kd,shop_header:yd,shop_header_title:jd},Qe=({headers:o})=>e.jsx("thead",{className:M.user_table_thead,children:e.jsx("tr",{className:M.user_table_tr,children:o.map(t=>e.jsx("th",{className:M.user_table_th,children:t.title},t.id))})}),Ye=()=>{const[o,t]=m.useState(""),{setUserSearch:s}=ce(),a=n=>{n.preventDefault(),s(o)};return m.useEffect(()=>{o==""&&s("")},[o]),e.jsxs("form",{action:"",className:M.user_form,children:[e.jsxs("div",{className:M.user_form_wrap,children:[e.jsx("input",{type:"text",className:M.user_form_input,placeholder:"Поиск пользователей",onChange:n=>t(n.target.value),value:o}),e.jsx(U,{className:M.user_form_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:M.user_form_btn,onClick:n=>a(n),children:"Найти"})]})},et=({arr:o,showStore:t})=>{const{usersList:s,userSearch:a,openModalAdmin:n,openAppointUser:_,shopListAdmin:l,setOpenAppointUser:r,setOpenModalAdmin:i,setUsersList:c,setEditUserAdmin:p,setShopListDropdownAdmin:u,setCloseBlock:h,setFilteredShopListAdmin:g}=ce(),I=ae().pathname,[D,O]=m.useState([]);m.useEffect(()=>{let x=o;I==="/clients"?x=o.filter(b=>b.isUser):I==="/employees"&&(x=o.filter(b=>!b.isUser)),x=x==null?void 0:x.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())),O(x)},[a,s,o,I]);const C=x=>{const b=s.map(N=>N.id===x?{...N,isBlocked:!N.isBlocked}:N);c(b)},S=x=>{i(!0),h(!0);const b=s.find(P=>P.id==x),N=[{id:se(),title:"Магазин 1",order:1},{id:se(),title:"Магазин 2",order:2},{id:se(),title:"Магазин 3",order:3}],$=N.filter(P=>!(b!=null&&b.shopList.some(L=>L.title===P.title)));console.log("editUser",b),console.log("shopListAdminArr",N),b&&(u(b.shopList),p(b),g($))},f=x=>{r(!0),h(!0),u([]),g(l);const b=s.find(N=>N.id==x);b&&p(b)},y=n||_;return e.jsx(e.Fragment,{children:e.jsx("tbody",{className:M.user_table_tbody,children:D.map(x=>e.jsxs("tr",{children:[e.jsx("td",{className:M.user_table_td,children:x.name}),e.jsx("td",{className:M.user_table_td,children:t?x.shopList.map(b=>e.jsxs("p",{children:[b.title," ",`(${b.position})`]},b.id)):e.jsx("p",{children:x.isEmployes?"сотрудник":"пользователь"})}),e.jsx("td",{className:M.user_table_td,children:t?"Админ 1":x.registerDate}),e.jsx("td",{className:M.user_table_btns,children:x!=null&&x.isUser?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`${M.user_table_btn} ${x.isBlocked?M.user_table_btn_blocked:""}`,onClick:()=>C(x.id),children:x.isBlocked?"Разблокировать":"Заблокировать"}),e.jsx("button",{className:M.user_table_btn,onClick:()=>f(x.id),disabled:y,children:"Назначить"})]}):e.jsx("button",{className:M.user_table_btn,onClick:()=>S(x.id),style:{background:"#B5FFC7"},disabled:y,children:"Изменить"})})]},x.id))})})};function it({color:o="black",className:t,header:s,isEnabled:a,dropdownItem:n,margin:_,versionList:l,closeBlock:r}){const{shopListAdmin:i,shopListDropdownAdmin:c,filteredShopListAdmin:p,setShopListDropdownAdmin:u,setShopListAdmin:h}=ce(),[g,v]=m.useState("Выберете должность"),[I,D]=m.useState("Выберете магазин"),[O,C]=m.useState(!1);m.useEffect(()=>{n!=null&&n.position?v(n.position):v("Выберете должность")},[n==null?void 0:n.position]),m.useEffect(()=>{r||C(!1)},[r]);const S=(b,N)=>{if(n){v(b.title);const $=c.filter(L=>L.title==n.title),P=c.findIndex(L=>L.title==n.title);$[0].position=b.title,c.splice(P,1,$[0]),u(c)}else D(b.title);if(a&&!c.some($=>$.title==b.title)){v("Выберете должность");const $={...b,originalIndex:N};u([...c,$]),h(p.filter((P,L)=>L!==N))}C(!1)},f=b=>{const N=c.filter($=>$.id!==b.id);if(u(N),b.originalIndex!==void 0){const $=[...i];$.splice(b.originalIndex,0,b),h($)}else{const $=[...p,b].sort((P,L)=>P.order!==void 0&&L.order!==void 0?P.order-L.order:0);h($),console.log("arr",$)}},y=()=>{C(!O)};function x(b,N){return b.order&&N.order&&(b==null?void 0:b.order)>(N==null?void 0:N.order)?1:-1}return e.jsx("div",{className:t??M.versions,style:{marginBottom:_},children:e.jsxs("div",{className:M.versions_block,children:[s&&e.jsxs("div",{className:M.shop_header,children:[e.jsx("p",{className:M.shop_header_title,children:n==null?void 0:n.title}),e.jsx("button",{onClick:()=>n&&f(n),children:e.jsx(U,{name:"XMarkIcon",width:16})})]}),e.jsxs("div",{className:M.versions_block_top,children:[e.jsx("h2",{className:M.versions_block_top_title,style:{color:o},children:n?g:I}),e.jsx("button",{className:M.versions_block_top_btn,onClick:()=>y(),children:e.jsx("div",{className:`${M.versions_block_top_arrow} ${O?M.versions_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${M.versions_block_dropdown} ${O?M.versions_block_dropdown_open:""}`,children:l==null?void 0:l.sort(x).map((b,N)=>e.jsx("span",{className:M.versions_block_dropdown_item,onClick:()=>S(b,N),children:b.title},N))})]})})}const tt=()=>{const{currentShopModal:o,shopListDropdownAdmin:t,shopListPositionAdmin:s,isEnabled:a,openModalAdmin:n,editUserAdmin:_,shopListAdmin:l,usersList:r,openAppointUser:i,closeBlock:c,filteredShopListAdmin:p,setCurrentShopModal:u,setShopListPositionAdmin:h,setCurrentShopPosition:g,setOpenModalAdmin:v,setShopListAdmin:I,setUsersList:D,setOpenAppointUser:O,setCloseBlock:C,setFilteredShopListAdmin:S}=ce();m.useEffect(()=>{},[p]);const f=()=>{const $=r.findIndex(P=>P.id==(_==null?void 0:_.id));_&&t.every(P=>"position"in P)&&(_.shopList=t,r.splice($,1,_),D(r),I(l),console.log("filteredShopListAdmin",p)),console.log("shopListAdmin",l),b(),t.length==0&&y()},y=()=>{if(_){_.isUser=!0,_.isEmployes=!1,_.shopList=[];const $={id:se(),title:"",position:"пользователь"};_.shopList=[{...$}]}b()},x=()=>{const $=r.findIndex(P=>P.id==(_==null?void 0:_.id));if(_&&(_.shopList=t,r.splice($,1,_),_.isUser=!1,_.isEmployes=!0,D(r),O(!1),!(_!=null&&_.shopList.some(P=>"position"in P)))){_.isUser=!0,_.shopList=[];const P={id:se(),title:"",position:"пользователь"};_.shopList=[{...P}]}},b=()=>{I(l),S([]),v(!1),O(!1),C(!1),console.log("close modal")},N=m.useRef(null);return m.useEffect(()=>{const $=P=>{var L;N.current&&!((L=N==null?void 0:N.current)!=null&&L.contains(P.target))&&b()};return n||i?document.addEventListener("mousedown",$):document.removeEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},[n,i]),e.jsx("div",{className:`${M.modal} ${n?M.modal_active:""} ${i?M.modal_active:""}`,children:e.jsxs("div",{ref:N,className:M.modal_wrap,children:[e.jsxs("div",{className:M.modal_wrap_header,children:[e.jsx("h3",{children:"Редактирование должность"}),e.jsx("button",{onClick:()=>b(),children:e.jsx(U,{name:"XMarkIcon",width:24})})]}),e.jsxs("div",{className:M.modal_content,children:[e.jsxs("p",{className:M.modal_content_text,children:["Логин: ",_==null?void 0:_.name]}),e.jsxs("p",{className:M.modal_content_text,children:["Статус:",_==null?void 0:_.shopList.map($=>e.jsx("span",{children:$.position},$.id))]}),e.jsx(it,{color:"#717171",setVersionList:I,currentVersion:o,setCurrentVersion:u,isEnabled:a,versionList:p||l,closeBlock:c}),e.jsxs("div",{className:M.modal_wrap_stores,children:[e.jsx("p",{className:M.modal_wrap_stores_text,children:"Выбрано магазинов: "}),t==null?void 0:t.map(($,P)=>e.jsx(it,{dropdownItem:$,margin:"12px",color:"#717171",versionList:s,setVersionList:h,setCurrentVersion:g,header:!0,closeBlock:c},P))]}),e.jsx("div",{className:M.modal_btns,children:i?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:M.modal_btn,onClick:()=>b(),style:{background:"#fff"},children:"Отмена"}),e.jsx("button",{className:M.modal_btn,onClick:()=>x(),children:"Сохранить"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:M.modal_btn,onClick:()=>y(),children:"Уволить"}),e.jsx("button",{className:M.modal_btn,onClick:()=>f(),children:"Сохранить"})]})})]})]})})},wd=[{id:"1",title:"Логин"},{id:"2",title:"Группа"},{id:"3",title:"Дата регистрации"},{id:"4",title:""}],Cd=()=>{const{usersList:o}=ce();return e.jsxs(e.Fragment,{children:[e.jsx(Ye,{}),e.jsxs("table",{className:M.user_table,children:[e.jsx(Qe,{headers:wd}),e.jsx(et,{arr:o})]}),e.jsx(tt,{})]})},Sd=[{id:1,title:"Логин"},{id:2,title:"Группа"},{id:3,title:"Дата регистрации"},{id:4,title:""}],Nd=()=>{const{usersList:o}=ce(),t=o.filter(s=>s.isUser==!0);return e.jsxs(e.Fragment,{children:[e.jsx(Ye,{}),e.jsxs("table",{className:M.user_table,children:[e.jsx(Qe,{headers:Sd}),e.jsx(et,{arr:t})]}),e.jsx(tt,{})]})},Id=[{id:1,title:"Логин"},{id:2,title:"Магазины"},{id:3,title:"Кто назначил"},{id:4,title:"Дата назначение"}],$d=()=>{const{usersList:o}=ce(),t=o.filter(s=>s.isUser!==!0);return e.jsxs(e.Fragment,{children:[e.jsx(Ye,{}),e.jsxs("table",{className:M.user_table,children:[e.jsx(Qe,{headers:Id}),e.jsx(et,{arr:t,showStore:!0})]}),e.jsx(tt,{})]})},Pd=[{id:1,title:"Все",href:"/admin/users/all"},{id:2,title:"Клиенты",href:"/admin/users/clients"},{id:3,title:"Сотрудники",href:"/admin/users/employees"}],Dd=()=>{const t=ae().pathname;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:M.users,children:e.jsxs("div",{className:M.users_header,children:[e.jsx("h2",{className:M.user_title,children:"Пользователи"}),e.jsx("ul",{className:M.user_list,children:Pd.map(s=>e.jsx("li",{children:e.jsx(H,{className:`${M.user_list_link} ${t==s.href?M.user_list_link_active:""}`,to:s.href,children:s.title})},s.id))})]})}),e.jsxs("div",{children:[t=="/admin/users/all"&&e.jsx(Cd,{}),t=="/admin/users/clients"&&e.jsx(Nd,{}),t=="/admin/users/employees"&&e.jsx($d,{})]})]})},ct=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Фото"}];function Od(){const[o,t]=m.useState(""),[s]=m.useState(1),[a]=m.useState(10),[n,_]=m.useState([]);m.useEffect(()=>{l()},[o]);async function l(){const r=we.get("multi-store");try{const i=await ie.get(`nomenclatures?multiStoreId=${r}&page=${s}&perPage=${a}`),c=await i.data.data;console.log("res",i),_([...c])}catch(i){console.log("Ошибка произошла при получении всх продуктов со склада",i)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:d.addingWrapper,children:[e.jsxs("h2",{className:d.addingWrapper_title,children:["Всего товара: ",n.length]}),e.jsxs("form",{action:"",className:d.addingWrapper_form,children:[e.jsxs("div",{className:d.addingWrapper_search,children:[e.jsx("input",{type:"text",className:d.addingWrapper_search_input,placeholder:"Поиск товара",onChange:r=>t(r.target.value),value:o}),e.jsx(U,{className:d.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:d.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:d.addingWrapper_table,children:[e.jsx("thead",{className:d.addingWrapper_thead,children:e.jsx("tr",{className:d.addingWrapper_thead_tr,children:ct.map(r=>e.jsx("th",{className:d.addingWrapper_thead_th,children:r.title},r.id))})}),e.jsx("tbody",{className:d.addingWrapper_tbody,children:n&&(n==null?void 0:n.map(r=>e.jsx("tr",{className:d.addingWrapper_tbody_tr,children:ct.map(i=>{var c,p;return e.jsxs("td",{className:d.addingWrapper_tbody_td,children:[i.title=="Наименование"?e.jsx("span",{children:((c=r==null?void 0:r.name)==null?void 0:c.ru)&&((p=r==null?void 0:r.name)==null?void 0:p.ru)}):"",i.title=="Штрих-код"?e.jsx("span",{children:r==null?void 0:r.barcode}):""]},i.id)})},r==null?void 0:r.id)))})]})]})})}const lt=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Фото"}];function Fd(){const[o,t]=m.useState(""),[s]=m.useState(1),[a]=m.useState(10),[n,_]=m.useState([]);m.useEffect(()=>{l()},[o]);async function l(){const r=we.get("multi-store");try{const i=await ie.get(`web-nomenclatures?multiStoreId=${r}&page=${s}&perPage=${a}`),c=await i.data.data;console.log("res",i),_([...c])}catch(i){console.log("Ошибка произошла при получении всх продуктов со склада",i)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:d.addingWrapper,children:[e.jsxs("h2",{className:d.addingWrapper_title,children:["Всего товара: ",n.length]}),e.jsxs("form",{action:"",className:d.addingWrapper_form,children:[e.jsxs("div",{className:d.addingWrapper_search,children:[e.jsx("input",{type:"text",className:d.addingWrapper_search_input,placeholder:"Поиск товара",onChange:r=>t(r.target.value),value:o}),e.jsx(U,{className:d.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:d.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:d.addingWrapper_table,children:[e.jsx("thead",{className:d.addingWrapper_thead,children:e.jsx("tr",{className:d.addingWrapper_thead_tr,children:lt.map(r=>e.jsx("th",{className:d.addingWrapper_thead_th,children:r.title},r.id))})}),e.jsx("tbody",{className:d.addingWrapper_tbody,children:n==null?void 0:n.map(r=>e.jsx("tr",{className:d.addingWrapper_tbody_tr,children:lt.map(i=>e.jsx("td",{className:d.addingWrapper_tbody_td,children:i.title=="Наименование"?e.jsx("span",{children:r==null?void 0:r.title}):""},i.id))},r==null?void 0:r.id))})]})]})})}function Ad(){const t=ae().pathname,{shopsStocks:s}=Ve();return e.jsxs("div",{className:d.layout,children:[e.jsx("ul",{className:d.layout_buttons,children:s.map(a=>e.jsx("li",{children:e.jsx(H,{to:`/admin/shops/shop/${a.url}`,className:`${d.layout_btn} ${t==`/admin/shops/shop/${a.url}`?d.layout_btn_active:""}`,children:a.title})},a.id))}),e.jsxs("div",{className:d.layout_content,children:[t==="/admin/shops/shop/stock"&&e.jsx(Od,{}),t==="/admin/shops/shop/website"&&e.jsx(Fd,{})]})]})}function Bd(){const{shopsAmount:o,currentShop:t,setCurrentShop:s}=Ve(),n=ae().pathname;return e.jsxs("div",{className:d.layout,children:[e.jsx("h2",{className:d.layout_title,children:"Магазины"}),e.jsx("ul",{className:d.layout_buttons,children:o.map(_=>e.jsx("li",{children:e.jsx(H,{to:"/admin/shops/shop",className:`${d.layout_btn} ${t==_.url?d.layout_btn_active:""}`,onClick:()=>s(_.url),children:_.title})},_.id))}),n.startsWith("/admin/shops/shop")&&e.jsx("div",{className:d.layout_content,children:e.jsx(Ad,{})})]})}function Ld({item:o}){const{setErrorModal:t}=ge(),s=a=>{a.stopPropagation()};return e.jsx("div",{className:d.errorWrapper,onClick:()=>t({status:!1,message:""}),children:e.jsxs("div",{className:d.errorWrapper_block,onClick:s,children:[e.jsx("button",{className:d.errorWrapper_block_close,onClick:()=>t({status:!1,message:""}),children:e.jsx(U,{name:"XMarkIcon",width:25,height:25})}),e.jsx("span",{children:o.message})]})})}function Md({localNewImage:o,setLocalNewImage:t}){const[s,a]=m.useState(null);function n(p,u){return p.order>u.order?1:-1}function _(p,u){a(u)}function l(p){p.target.style.background="white"}function r(p){p.preventDefault(),p.target.style.background="lightgray"}function i(p,u){p.preventDefault(),p.target.style.background="white";const h=o&&o.map(g=>g.id===u.id?{...g,order:(s==null?void 0:s.order)||g.order}:g.id===(s==null?void 0:s.id)?{...g,order:u.order}:g).sort((g,v)=>g.order-v.order);console.log(555,"newImages",h),h&&t(h),a(null)}const c=p=>{const u=o.filter(h=>h.id!==p);t([...u])};return m.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:o&&o.sort(n).map((p,u)=>e.jsxs("div",{className:`${d.productItem_photo} ${u==0?d.productItem_photo_active:""}`,draggable:!0,onDragStart:h=>_(h,p),onDragLeave:h=>l(h),onDragEnd:h=>l(h),onDragOver:h=>r(h),onDrop:h=>i(h,p),children:[e.jsx("div",{className:d.productItem_photo_img,children:e.jsx("img",{src:p.src?`https://api.mcrm.uz/${p.src}`:p.localSrc?p.localSrc:"/add.webp",width:100,height:140,alt:"img"})}),e.jsx("div",{className:d.productItem_photo_close,onClick:()=>c(p.id),children:e.jsx(U,{width:18,height:18,name:"XMarkIcon"})})]},p.id))})}function wt({stockName:o,myMxikCode:t,localNewImage:s,setLocalNewImage:a,setLocalFormData:n,localFormData:_}){const{errorModal:l}=ge(),r=m.useRef(null),i=()=>{r.current!=null&&r.current.click()},c=async p=>{var h,g;const u=(g=(h=p==null?void 0:p.target)==null?void 0:h.files)==null?void 0:g[0];if(u&&["image/jpeg","image/png","image/webp"].includes(u.type)){console.log(2,"выбрал новую картинку и она прошла проверку на рассширение files",u);const v=new FormData;v.append("files[]",u),console.log(3,"создал и инициализировал formData и сохранил в setLocalFormData(formData) formData",v),u&&n([..._,u]);const I=s&&(s==null?void 0:s.length)>0?s.reduce((O,C)=>C.order>O?C.order:O,-1/0):1,D=new FileReader;D.onload=O=>{var C;if((C=O.target)!=null&&C.result){const S={id:se(),order:I?I+1:1,localSrc:URL.createObjectURL(u)},f=[...s,S];console.log(4,"создал новый объект {id,order,localSrc} и localSrc добавил выбранную картинку files newImages",f),a&&a([...f]),console.log(5,"сохранил этот объект в массив setLocalNewImage")}},D.readAsDataURL(u),console.log(6,"отрисовал выбранную картинку files",u),r.current&&(r.current.value="")}};return e.jsxs("div",{className:d.productItem_top,children:[l.status&&e.jsx(Ld,{item:l}),e.jsx("h1",{className:d.productItem_title,children:"Добавление объявления"}),e.jsx("h4",{className:d.productItem_basePhoto,children:s&&s.length>0?"Главное фото":""}),e.jsxs("div",{className:d.productItem_photos,children:[e.jsx(Md,{stockName:o,myMxikCode:t,localNewImage:s,setLocalNewImage:a}),e.jsxs("div",{className:`${d.productItem_photo} ${d.productItem_add}`,onClick:i,children:[e.jsx(U,{width:24,height:24,name:"PlusIcon",color:"rgba(191, 187, 187, 1)"}),e.jsx("span",{className:d.productItem_add_text,children:"Добавить еще"}),e.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",style:{display:"none"},onChange:c,ref:r})]})]}),e.jsx("p",{className:d.productItem_photos_desc,children:"Переместите фото чтоб поменят их порядок вывода"})]})}function Ct({localCategory:o,productName:t,productDescription:s,setProductDescription:a,setProductName:n,myBarcode:_,vendorCode:l,setVendorCode:r,myPrice:i}){var D,O,C,S;const{pickedCategory:c,currentProduct:p,setArticleModal:u,setOpenModalCategory:h}=ge();m.useEffect(()=>{(c||o)&&I()},[c,o]);const[g,v]=m.useState(""),I=async()=>{try{const y=(await ie.get(`categories/${c.id?c.id:o}`)).data;v(y.name.ru)}catch(f){console.log("Ошибка произошла при получении категонии по id",f)}};return e.jsxs("div",{className:d.productItem_left,children:[e.jsxs("div",{className:d.productItem_left_info,children:[e.jsxs("div",{className:d.productItem_left_item,children:[e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"Артикул"}),e.jsx("input",{type:"text",placeholder:"например:  #DF156651",className:d.productItem_left_item_top_input,value:l||"",onChange:f=>r(f.target.value)})]}),e.jsx("div",{className:d.productItem_left_item_bottom,children:e.jsx("button",{className:d.productItem_left_item_button,onClick:()=>u(!0),children:"Изменить"})})]}),e.jsxs("div",{className:d.productItem_left_item,children:[e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"Категория:"}),e.jsx("span",{children:g||((O=(D=p==null?void 0:p.category)==null?void 0:D.name)!=null&&O.ru?(S=(C=p==null?void 0:p.category)==null?void 0:C.name)==null?void 0:S.ru:"")})]}),e.jsx("div",{className:d.productItem_left_item_bottom,children:e.jsx("button",{className:d.productItem_left_item_button,onClick:()=>h(!0),children:c!=null&&c.name||p!=null&&p.category?"Изменить":"Выбрать"})})]}),e.jsx("div",{className:d.productItem_left_item,children:e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"Штрих-код"}),e.jsx("span",{children:_})]})}),e.jsx("div",{className:d.productItem_left_item,children:e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"Цена:"}),e.jsx("span",{children:i})]})}),e.jsx("div",{className:d.productItem_left_item,children:e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"PDF:"}),e.jsx("button",{className:d.productItem_left_item_button,children:"Загрузить"})]})})]}),e.jsxs("form",{className:d.productItem_left_form,children:[e.jsxs("label",{className:d.productItem_left_form_label,children:[e.jsx("span",{className:d.productItem_left_form_title,children:"Заголовок"}),e.jsx("input",{className:d.productItem_left_form_input,type:"text",value:t||"",onChange:f=>n(f.target.value)})]}),e.jsxs("label",{className:d.productItem_left_form_label,children:[e.jsx("span",{className:d.productItem_left_form_title,children:"Описание товара"}),e.jsx("textarea",{onChange:f=>a(f.target.value),value:s||"",className:d.productItem_left_form_textarea}),e.jsx("p",{className:d.productItem_left_form_size,children:e.jsx("span",{children:"200/200"})})]})]})]})}function Wd({color:o="black",title:t="",extraOptionsList:s,className:a,openBlock:n,setOpenBlock:_,setExtraOptionsList:l}){const r=m.useRef([]);m.useEffect(()=>{r.current.length>0&&i()},[s]);const i=()=>{s&&s.forEach(p=>{r.current.forEach(u=>{u.name==p.title&&(u.checked=p.isActive)})})},c=(p,u)=>{const h=JSON.parse(JSON.stringify(s));h.forEach(g=>{g.title==u&&(g.isActive=!g.isActive)}),l&&l(h)};return e.jsxs("div",{className:a??z.versionExtraOptions,children:[t&&e.jsx("span",{className:z.versionExtraOptions_title,children:t}),e.jsxs("div",{className:z.versionExtraOptions_block,children:[e.jsxs("div",{className:z.versionExtraOptions_block_top,onClick:()=>_&&_(!n),children:[e.jsx("h2",{className:z.versionExtraOptions_block_top_title,style:{color:o},children:t||"Выберите параметры"}),e.jsx("button",{className:z.versionExtraOptions_block_top_btn,children:e.jsx("div",{className:`${z.versionExtraOptions_block_top_arrow} ${n?z.versionExtraOptions_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${z.versionExtraOptions_block_dropdown} ${n?z.versionExtraOptions_block_dropdown_open:""}`,children:s&&s.map((p,u)=>e.jsxs("label",{className:z.versionExtraOptions_block_dropdown_item,children:[p.title,e.jsx("input",{ref:h=>{h&&(r.current[u]=h)},type:"checkbox",name:p.title,"data-type":p.title,onChange:h=>c(h,p.title)})]},p.id))})]})]})}function Ed({color:o="black",title:t="",versionList:s,className:a}){const[n,_]=m.useState(!1),[l,r]=m.useState("");m.useEffect(()=>{s==null||s.forEach(p=>{p.isActive&&r(p.title)})},[]);const i=()=>{_(!n)},c=p=>{s==null||s.forEach(u=>u.isActive=!1),s==null||s.forEach(u=>{u.title==p.title&&(u.isActive=!0,r(u.title))}),i()};return e.jsxs("div",{className:a??z.version3,children:[e.jsx("span",{className:z.version3_title,children:t}),e.jsxs("div",{className:z.version3_block,children:[e.jsxs("div",{className:z.version3_block_top,onClick:()=>i(),children:[e.jsx("h2",{className:z.version3_block_top_title,style:{color:o},children:l||"Выбрать"}),e.jsx("button",{className:z.version3_block_top_btn,children:e.jsx("div",{className:`${z.version3_block_top_arrow} ${n?z.version3_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${z.version3_block_dropdown} ${n?z.version3_block_dropdown_open:""}`,style:{height:`${s&&s.length==1?"50px":""}`},children:s&&s.map(p=>e.jsx("span",{className:z.version3_block_dropdown_item,onClick:()=>c(p),children:s.length>1?p.title:e.jsx("input",{type:"text",placeholder:"Введите вруччную",style:{width:"120px"}})},p.id))})]})]})}function Ud({extraOptionsStatus:o,localCategory:t,setExtraOptionsStatus:s,extraOptions:a}){const[n,_]=m.useState(!1);return m.useEffect(()=>{},[t]),e.jsxs("div",{className:d.productItem_right_item,children:[e.jsxs("div",{className:d.productItem_right_top,onClick:()=>s(!o),children:[e.jsx("h5",{className:d.productItem_right_title,children:"Доп. параметры"}),e.jsx(Ie,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)",status:o})]}),e.jsxs("div",{className:`${d.productItem_right_bottom_items} ${o?d.productItem_right_bottom_items_active:""}`,children:[e.jsx("div",{className:d.productItem_right_bottom_item,children:e.jsx(Wd,{color:"",extraOptionsList:a,openBlock:n,setOpenBlock:_})}),a.map(l=>{if(l.isActive)return e.jsxs("div",{className:d.productItem_right_bottom_item,children:[e.jsx(Ed,{color:"",title:l.title,versionList:l.type}),e.jsx("button",{className:d.productItem_right_bottom_del,children:"Удалить"})]},l.id)})]})]})}function _t({color:o="black",title:t="",versionList:s=[{id:"1",title:"версия 1",isActive:!0,navIcon:""},{id:"2",title:"версия 2",isActive:!1,navIcon:""},{id:"3",title:"версия 3",isActive:!1,navIcon:""}],className:a,openBlock:n,currentVersion:_,setOpenBlock:l,setCurrentVersion:r,setVersionList:i}){const c=p=>{r&&r(p.title);const u=s.map(v=>({id:v.id,title:v.title,isActive:!1})),h=u.find(v=>v.id==p.id),g=u.findIndex(v=>v.id==p.id);h&&(h.isActive=!0,u.splice(g,1,h),i&&i(u))};return e.jsxs("div",{className:a??z.version3,children:[e.jsx("span",{className:z.version3_title,children:t}),e.jsxs("div",{className:z.version3_block,children:[e.jsxs("div",{className:z.version3_block_top,children:[e.jsx("h2",{className:z.version3_block_top_title,style:{color:o},children:_}),e.jsx("button",{className:z.version3_block_top_btn,onClick:()=>l&&l(!n),children:e.jsx("div",{className:`${z.version3_block_top_arrow} ${n?z.version3_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${z.version3_block_dropdown} ${n?z.version3_block_dropdown_open:""}`,children:s.map(p=>e.jsx("span",{className:z.version3_block_dropdown_item,onClick:()=>c(p),children:p.title},p.id))})]})]})}function Rd({brieflyProductStatus:o,setBrieflyProductStatus:t}){return e.jsxs("div",{className:d.productItem_right_item,children:[e.jsxs("div",{className:d.productItem_right_top,onClick:()=>t(!o),children:[e.jsx("h5",{className:d.productItem_right_title,children:"Коротко о товаре"}),e.jsx(Ie,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)",status:o})]}),e.jsx("div",{className:`${d.productItem_right_bottom_items} ${o?d.productItem_right_bottom_items_active:""}`,children:e.jsxs("div",{className:`${d.productItem_right_bottom_item} ${d.productItem_right_bottom_row}`,children:[e.jsx(_t,{color:"",title:"Объем, л"}),e.jsx(_t,{color:"",title:"Кол-во в упаковке"})]})})]})}function St({currentProduct:o,extraOptionsStatus:t,setExtraOptionsStatus:s,brieflyProductStatus:a,setBrieflyProductStatus:n,localCategory:_,extraOptions:l,setExtraOptions:r}){return e.jsxs("div",{className:d.productItem_right,children:[e.jsx("div",{className:d.productItem_right_item,children:e.jsxs("div",{className:d.productItem_right_top,children:[e.jsx("h5",{className:d.productItem_right_title,children:"Коментарии"}),e.jsx(Ie,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)"})]})}),e.jsx(Ud,{extraOptionsStatus:t,setExtraOptionsStatus:s,localCategory:_,extraOptions:l,setExtraOptions:r,currentProduct:o}),e.jsx(Rd,{brieflyProductStatus:a,setBrieflyProductStatus:n})]})}function Nt({stockName:o,setAdminSettings:t}){return e.jsxs("div",{className:d.settings_content_buttons,children:[e.jsx(H,{to:o=="stock"?"/admin/product/adding/stock":"/admin/product/adding/website",className:`${d.settings_content_btn} ${d.settings_content_btn_cancel}`,children:"Отмена"}),e.jsx("button",{className:`${d.settings_content_btn} ${d.settings_content_btn_save}`,onClick:()=>t(),children:o=="website"?"Сохранить":"Добавить"})]})}function zd(){const{setArticleModal:o}=ge();return e.jsxs("div",{className:d.articleModal_block_nav,children:[e.jsx("h2",{className:d.articleModal_block_title,children:"Артикул"}),e.jsx("button",{onClick:()=>o(!1),children:e.jsx(U,{name:"XMarkIcon"})})]})}function Td({productName:o}){const[t]=m.useState(""),[s]=m.useState("");return e.jsxs("div",{className:d.articleModal_block_info,children:[e.jsxs("div",{className:d.articleModal_block_info_item,children:[e.jsx("span",{children:"Товар:"}),e.jsx("span",{children:o})]}),e.jsxs("div",{className:d.articleModal_block_info_item,children:[e.jsx("span",{children:"Обьем:"}),e.jsxs("span",{children:[t,"1л"]})]}),e.jsxs("div",{className:d.articleModal_block_info_item,children:[e.jsx("span",{children:"Жирность:"}),e.jsxs("span",{children:[s,"1%"]})]})]})}function It({item:o}){return e.jsxs("div",{className:d.articleModal_block_recommended_item,children:[e.jsx("h3",{className:d.articleModal_block_recommended_item_title,children:o.title}),e.jsxs("div",{className:d.articleModal_block_recommended_content,children:[e.jsx("div",{className:d.articleModal_block_recommended_img,children:e.jsx("img",{src:"/молоко.jpg",alt:""})}),e.jsxs("div",{className:d.articleModal_block_recommended_info,children:[e.jsxs("div",{className:d.articleModal_block_recommended_desc,children:[e.jsxs("p",{children:["Жирность ",e.jsx("span",{children:"1%"})]}),e.jsxs("p",{children:["обьем ",e.jsx("span",{children:"1л"})]})]}),e.jsxs("div",{className:d.articleModal_block_recommended_desc,children:[e.jsxs("p",{children:["Жирность ",e.jsx("span",{children:"1.5%"})]}),e.jsxs("p",{children:["обьем ",e.jsx("span",{children:"1.5л"})]})]}),e.jsxs("div",{className:d.articleModal_block_recommended_desc,children:[e.jsxs("p",{children:["Жирность ",e.jsx("span",{children:"3%"})]}),e.jsxs("p",{children:["обьем ",e.jsx("span",{children:"1л"})]})]})]}),e.jsx("h2",{className:d.articleModal_block_recommended_article,children:o.article})]})]})}const Vd=[{id:se(),title:"Молоко Nestle",article:"#DF262515"}];function qd(){return e.jsxs("div",{className:d.articleModal_block_recommended,children:[e.jsx("h2",{className:d.articleModal_block_recommended_title,children:"Рекомендуем"}),e.jsx("div",{className:d.articleModal_block_recommended_list,children:Vd.map(o=>e.jsx(It,{item:o},o.id))})]})}function Kd(){return e.jsx("div",{className:d.articleModal_block_search,children:e.jsxs("div",{className:d.articleModal_block_search_box,children:[e.jsxs("div",{className:d.articleModal_block_search_input,children:[e.jsx("input",{type:"text",placeholder:"Поиск товара"}),e.jsx(U,{name:"MagnifyingGlassIcon",width:17,height:17})]}),e.jsx("button",{className:d.articleModal_block_search_btn,children:"Найти"})]})})}const Hd=[{id:se(),title:"Молоко Nestle",article:"#DF262515"},{id:se(),title:"Молоко Nestle",article:"#DF262515"},{id:se(),title:"Молоко Nestle",article:"#DF262515"}];function Xd(){return e.jsx("div",{className:d.articleModal_block_found,children:Hd.map(o=>e.jsx(It,{item:o},o.id))})}function $t({productName:o}){return e.jsx("div",{className:d.articleModal,children:e.jsxs("div",{className:d.articleModal_block,children:[e.jsx(zd,{}),e.jsx(Td,{productName:o}),e.jsx(qd,{}),e.jsx(Kd,{}),e.jsx(Xd,{}),e.jsx("div",{className:d.articleModal_block_buttonBox,children:e.jsx("button",{className:d.articleModal_block_button,children:"Выбрать"})})]})})}function Gd(){const o=Pe(),t=ae(),{id:s}=dt(),{openModalCategory:a}=ge(),{pickedCategory:n,currentProduct:_,setErrorModal:l,setCurrentProduct:r,setPickedCategory:i,articleModal:c}=ge(),[p,u]=m.useState(""),[h,g]=m.useState(0),[v,I]=m.useState(0),[D,O]=m.useState(Number(s)),[C,S]=m.useState(!1),[f,y]=m.useState([]),[x,b]=m.useState(!1),[N,$]=m.useState(""),[P,L]=m.useState(""),[E,T]=m.useState([]),[j,W]=m.useState([]);async function V(){try{return await(await ie.get(`nomenclatures/${s}`)).data}catch(k){console.log("Ошибка произошла при получении продукта со склада по id",k)}}m.useEffect(()=>{i({})},[t.pathname]),m.useEffect(()=>{A()},[s,n]);async function A(){var w;const k=await V();k&&(u((w=k==null?void 0:k.name)==null?void 0:w.ru),r({...k}),O(k==null?void 0:k.categoryId),g(k==null?void 0:k.barcode),I(k==null?void 0:k.price))}const ke=async()=>{if(_){n.id&&(await be(),O(n.id));const k=await ue(j),w=N||await Y(),K={nomenclatureId:_.id,title:p,article:w||null,images:k.length>0?[...k]:null,description:P||null,document:"string"};console.log(333333,"newProduct",K),await ve(K),i({}),y([]),o("/admin/product/adding/stock",{replace:!0})}else l({status:!0,message:'"Выберите категорию"'})};async function ve(k){try{await ie.post("web-nomenclatures",k)}catch(w){console.log("Ошибка произошла при добавлении web nomenclatures",w)}}async function be(){try{await ie.patch(`nomenclatures/${s}`,{categoryId:n.id}),O(n.id)}catch(k){console.log("Ошибка произошла при изменении котегории на складе",k)}}const ue=async k=>{if(k){const w=new FormData;k.forEach((K,G)=>{w.append(`files[${G}]`,K)});try{return await(await ie.post("media-objects/uploads",w)).data}catch(K){console.error("Ошибка при добавлении картинок на сервер",K)}}},Y=async()=>{const k=we.get("multi-store");try{const w=await ie.get(`web-credentials/${k}`);return console.log("fetchArticle res",w),w.data.article}catch(w){console.log("Ошибка при получении артикля",w)}};return e.jsxs("div",{className:d.productItem,children:[a&&e.jsx(pt,{}),e.jsx(wt,{stockName:"stock",myMxikCode:s,localFormData:j,setLocalFormData:W,localNewImage:E,setLocalNewImage:T}),e.jsxs("div",{className:d.productItem_settings,children:[e.jsx(Ct,{myPrice:v,setMyPrice:I,myBarcode:h,setMyBarcode:g,localCategory:D,productName:p,productDescription:P,setProductDescription:L,setProductName:u,vendorCode:N,setVendorCode:$}),e.jsx(St,{extraOptionsStatus:C,setExtraOptionsStatus:S,brieflyProductStatus:x,setBrieflyProductStatus:b,localCategory:D,extraOptions:f,setExtraOptions:y,currentProduct:_})]}),e.jsx(Nt,{stockName:"stock",setAdminSettings:ke}),c&&e.jsx($t,{productName:p})]})}function Zd(){const o=Pe(),t=ae(),{id:s}=dt(),{openModalCategory:a}=ge(),{pickedCategory:n,webCurrentProduct:_,setWebCurrentProduct:l,setErrorModal:r,setPickedCategory:i,articleModal:c}=ge(),[p,u]=m.useState(""),[h,g]=m.useState(0),[v,I]=m.useState(0),[D,O]=m.useState(0),[C,S]=m.useState(Number(s)),[f,y]=m.useState(!1),[x,b]=m.useState([]),[N,$]=m.useState(!1),[P,L]=m.useState(""),[E,T]=m.useState(""),[j,W]=m.useState([]),[V,A]=m.useState([]);async function ke(){try{return await(await ie.get(`web-nomenclatures/${s}`)).data}catch(w){console.log("Ошибка произошла при получении продукта с сайта по id",w)}}m.useEffect(()=>{i({})},[t.pathname]),m.useEffect(()=>{ve()},[s]);async function ve(){var K,G,te,xe,le,Ce,re;const w=await ke();if(w){I((K=w==null?void 0:w.nomenclature)==null?void 0:K.price),g((G=w==null?void 0:w.nomenclature)==null?void 0:G.barcode),O((te=w==null?void 0:w.nomenclature)==null?void 0:te.id),L(w==null?void 0:w.article),u(w!=null&&w.title?w==null?void 0:w.title:(le=(xe=w==null?void 0:w.nomenclature)==null?void 0:xe.name)==null?void 0:le.ru),l({...w}),S((re=(Ce=w==null?void 0:w.nomenclature)==null?void 0:Ce.category)==null?void 0:re.id);let J=1;const me=w.images?w.images.map(ye=>({id:se(),order:J++,src:ye})):[];W(me),J=1,T(w.description?w.description:"")}}const be=async()=>{if(_||n.label){n.id&&await Y();const w=await k(V);console.log(15,"получил ответ от функции fetchPhotos() images",w),console.log(16,"добавил localNewImage и images в один массив и сохранил в setLocalNewImage([...localNewImage, ...images])");const K=j.filter(te=>te.src).map(te=>{if(te.src)return te.src});console.log(17,"создал новый массив newImg и сохранил туда все содержимое localNewImage из ключей src",K);const G={nomenclatureId:_.id,title:p,article:P,images:w.length>0||K.length>0?[...w]:null,description:E,document:"string"};console.log(18,"создал новый объект продукта newProduct",G),console.log(18,"localNewImage",j),ue(G),i({}),b([]),o("/admin/product/adding/website",{replace:!0})}else r({status:!0,message:'"Выберите категорию"'})};async function ue(w){try{await ie.patch(`web-nomenclatures/${s}`,w)}catch(K){console.log("Ошибка произошла при добавлении web nomenclatures",K)}}async function Y(){try{await ie.patch(`nomenclatures/${D}`,{categoryId:n.id}),S(n.id)}catch(w){console.log("Ошибка произошла при изменении котегории на сайте",w)}}const k=async w=>{if(w){const K=new FormData;w.forEach((G,te)=>{K.append(`files[${te}]`,G)});try{return await(await ie.post("media-objects/uploads",K)).data}catch(G){console.error("Ошибка при добавлении картинок на сервер",G)}}};return e.jsxs("div",{className:d.productItem,children:[a&&e.jsx(pt,{}),e.jsx(wt,{stockName:"website",myMxikCode:s,localNewImage:j,setLocalNewImage:W,localFormData:V,setLocalFormData:A}),e.jsxs("div",{className:d.productItem_settings,children:[e.jsx(Ct,{myPrice:v,setMyPrice:I,myBarcode:h,setMyBarcode:g,localCategory:C,productName:p,productDescription:E,setProductDescription:T,setProductName:u,vendorCode:P,setVendorCode:L}),e.jsx(St,{extraOptionsStatus:f,setExtraOptionsStatus:y,brieflyProductStatus:N,setBrieflyProductStatus:$,localCategory:C,extraOptions:x,setExtraOptions:b,currentProduct:_})]}),e.jsx(Nt,{stockName:"website",setAdminSettings:be}),c&&e.jsx($t,{productName:p})]})}function rp(){const{user:o}=At(),{setCurrentShop:t}=Ve(),a=ae().pathname;m.useEffect(()=>{a.startsWith("/admin/shops")||t("0")},[a]);const n=[{id:"1",label:"Настройки",href:"/admin/settings",icon:e.jsx(U,{name:"CogIcon"}),isActive:!0},{id:"2",label:"Товар",href:"/admin/product",icon:e.jsx(U,{name:"ShoppingCartIcon"}),isActive:!1},{id:"3",label:"Пользователи",href:"/admin/users",icon:e.jsx(U,{name:"UsersIcon"}),isActive:!1},{id:"4",label:"Магазины",href:"/admin/shops",icon:e.jsx(U,{name:"BuildingStorefrontIcon"}),isActive:!1}],[_,l]=m.useState(n),r=i=>{const c=_.map(u=>({id:u.id,label:u.label,href:u.href,icon:u.icon,isActive:!1})),p=c.find(u=>u.id==i);p&&(p.isActive=!0),l(c)};return e.jsxs(e.Fragment,{children:[e.jsx(Bt,{}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:d.wrapper,children:[e.jsx("h1",{className:d.wrapper_title,children:o==null?void 0:o.username}),e.jsxs("div",{className:d.content,children:[e.jsx("div",{className:d.content_left,children:e.jsx("ul",{className:d.tools,children:_.map(i=>e.jsx("li",{children:e.jsxs(H,{to:i.href,className:`${d.tools_link} ${a.startsWith(i.href)?d.tools_link_active:""}`,onClick:()=>r(i.id),children:[i.icon,i.label]})},i.id))})}),a.startsWith("/admin")&&e.jsxs("div",{className:d.content_right,children:[a.startsWith("/admin/settings")&&e.jsx(F_,{}),a.startsWith("/admin/users")&&e.jsx(Dd,{}),a.startsWith("/admin/shops")&&e.jsx(Bd,{}),a.startsWith("/admin/product")&&e.jsx(E_,{}),a.startsWith("/admin/stock-product")&&e.jsx(Gd,{}),a.startsWith("/admin/website-product")&&e.jsx(Zd,{})]})]})]})})]})}export{rp as default};
