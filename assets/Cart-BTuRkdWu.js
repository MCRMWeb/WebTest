import{j as t,z as C,A as N,B as b,r as j}from"./index-Dp8myGws.js";import{H as z}from"./Header-b6fnMiOa.js";import{C as d}from"./CustomIcon-C5uwy9ev.js";import{C as m}from"./CustomIconSolid-Bap_dENW.js";import{C as I}from"./CustomIcon-CNFQdUJ3.js";import{F as v}from"./Footer-CtYsIm2s.js";import"./userStore-kCQ9oIjL.js";import"./XMarkIcon-CQlETKCo.js";const w="_wrapper_12zmg_1",P="_wrapper_title_12zmg_5",A="_cart_12zmg_11",y="_cart_cards_12zmg_15",B="_cart_left_12zmg_22",S="_cart_left_header_12zmg_25",D="_cart_right_12zmg_31",T="_cart_right_btn_12zmg_34",U="_cart_right_info_12zmg_44",E="_cart_right_content_wrap_12zmg_51",F="_cart_right_content_text_12zmg_62",R="_cart_right_content_text_right_12zmg_67",$="_cart_right_content_result_12zmg_72",H="_cart_right_content_result_sum_12zmg_77",L="_cart_item_12zmg_82",M="_cart_item_left_12zmg_89",V="_cart_item_right_12zmg_94",q="_cart_item_right_top_12zmg_97",G="_cart_item_right_middle_12zmg_102",J="_cart_item_right_middle_count_12zmg_106",K="_cart_item_right_bottom_12zmg_118",O="_cart_item_right_bottom_btn_12zmg_123",Q="_cart_item_img_12zmg_130",W="_cart_item_price_12zmg_135",X="_cardsItem_imgBlock_12zmg_145",Y="_cardsItem_imgBlock_promotions_12zmg_157",Z="_cardsItem_imgBlock_promotion_12zmg_157",tt="_cardsItem_imgBlock_discount_12zmg_176",et="_cardsItem_title_12zmg_187",rt="_cardsItem_ratings_12zmg_192",ct="_cardsItem_ratings_stars_12zmg_198",st="_cardsItem_prices_12zmg_203",at="_cardsItem_price_12zmg_203",it="_cardsItem_oldPrice_12zmg_214",_t="_cardsItem_buttons_12zmg_220",nt="_cardsItem_cart_12zmg_226",e={wrapper:w,wrapper_title:P,cart:A,cart_cards:y,cart_left:B,cart_left_header:S,cart_right:D,cart_right_btn:T,cart_right_info:U,cart_right_content_wrap:E,cart_right_content_text:F,cart_right_content_text_right:R,cart_right_content_result:$,cart_right_content_result_sum:H,cart_item:L,cart_item_left:M,cart_item_right:V,cart_item_right_top:q,cart_item_right_middle:G,cart_item_right_middle_count:J,cart_item_right_bottom:K,cart_item_right_bottom_btn:O,cart_item_img:Q,cart_item_price:W,cardsItem_imgBlock:X,cardsItem_imgBlock_promotions:Y,cardsItem_imgBlock_promotion:Z,cardsItem_imgBlock_discount:tt,cardsItem_title:et,cardsItem_ratings:rt,cardsItem_ratings_stars:ct,cardsItem_prices:st,cardsItem_price:at,cardsItem_oldPrice:it,cardsItem_buttons:_t,cardsItem_cart:nt},k=({label:r,checked:c,checkedAll:i})=>{const n={backgroundColor:c?"#45D442":"white",border:"1px solid #D8D8D8",width:"20px",height:"20px",borderRadius:"3px",display:"flex",justifyContent:"center",alignItems:"center"};return t.jsxs("div",{children:[t.jsx("input",{type:"checkbox",checked:c,style:{display:"none"},onChange:()=>!c}),t.jsxs("label",{style:{cursor:"pointer",display:r?"flex":"block",gap:r?"10px":"0",alignItems:r?"center":"initial"},children:[t.jsx("div",{style:n,children:c&&t.jsx(d,{name:"CheckIcon",width:17,color:"white"})}),t.jsx("span",{style:{fontSize:"14px"},children:r})]})]})},ot=({item:r,onCheck:c,countUp:i,deleteItem:n})=>{const o=()=>{c(r.id)},l=()=>i(r.id,!0),h=()=>i(r.id,!1),g=()=>n(r.id);return t.jsxs("div",{className:e.cart_item,children:[t.jsxs("div",{className:e.cart_item_left,children:[t.jsx("div",{onClick:o,children:t.jsx(k,{checked:r.checked})}),t.jsx("img",{className:e.cart_item_img,src:r.img,alt:"image"})]}),t.jsxs("div",{className:e.cart_item_right,children:[t.jsxs("div",{className:e.cart_item_right_top,children:[t.jsx("h4",{children:r.title}),t.jsx("span",{className:e.cart_item_price,children:r.totalPrice})]}),t.jsxs("div",{className:e.cart_item_right_middle,children:[t.jsxs("p",{className:e.cart_item_price,children:[r.price," /шт",t.jsx("span",{className:e.cart_item_right_middle_discount,children:r.beforeDiscount})]}),t.jsxs("div",{className:e.cart_item_right_middle_count,children:[t.jsx("button",{onClick:h,style:{cursor:"pointer"},children:t.jsx(d,{name:"MinusIcon",width:30,height:25})}),t.jsx("span",{className:e.cart_item_right_middle_count_val,children:r.amount}),t.jsx("button",{onClick:l,style:{cursor:"pointer"},children:t.jsx(d,{name:"PlusIcon",width:30,height:25})})]})]}),t.jsxs("div",{className:e.cart_item_right_bottom,children:[t.jsx("button",{onClick:g,className:e.cart_item_right_bottom_btn,children:"Удалить"}),t.jsx("button",{className:e.cart_item_right_bottom_btn,children:"В избранные"})]})]})]})},u=C()(N(b(r=>({cartArr:[{id:1,title:"Молоко ЭкоНива, 1,5%",price:18e3,totalPrice:18e3,img:"./молоко.jpg",checked:!1,amount:1,beforeDiscount:25e3},{id:2,title:"Молоко ЭкоНива, 1,3%",price:15e3,totalPrice:15e3,img:"./молоко.jpg",checked:!1,amount:1,beforeDiscount:22e3},{id:3,title:"Молоко ЭкоНива, 1,2%",price:13e3,totalPrice:13e3,img:"./молоко.jpg",checked:!1,amount:1,beforeDiscount:2e4}],setCartArr:c=>r({cartArr:c}),allChecked:!1,setAllChecked:c=>r({allChecked:c})}),{name:"cart-store",partialize:r=>({...r,cartArr:void 0})}))),lt=()=>{const{cartArr:r,setCartArr:c,setAllChecked:i}=u(),n=()=>{c(r.filter(o=>o.checked===!1)),i(!1)};return t.jsxs("button",{onClick:n,style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[t.jsx(d,{name:"TrashIcon",width:24,height:24,color:"#636363"}),t.jsx("span",{style:{fontSize:"14px",fontFamily:"Inter"},children:"Удалить выбранные"})]})},mt=()=>{const{cartArr:r,setCartArr:c,allChecked:i,setAllChecked:n}=u(),o=()=>{const _=r.map(a=>({...a,checked:!i}));n(!i),c(_)},l=_=>{c(r.map(a=>a.id===_?{...a,checked:!a.checked}:a))},h=(_,a)=>{c(r.map(s=>{if(s.id===_)if(a){const p=s.amount+1,x=s.totalPrice+s.price;return{...s,amount:p,totalPrice:x}}else{const p=s.amount>1?s.amount-1:1,x=s.amount>1?s.totalPrice-s.price:s.totalPrice;return{...s,amount:p,totalPrice:x}}return s}))},g=_=>{c(r.filter(a=>a.id!==_))};return j.useEffect(()=>{r.some(a=>!a.checked)&&n(!1)},[r]),t.jsxs("div",{className:e.cart_left,children:[t.jsxs("div",{className:e.cart_left_header,children:[t.jsx("div",{onClick:o,children:t.jsx(k,{label:"Выбрать все",checked:i})}),t.jsx(lt,{})]}),t.jsx("div",{children:r.map(_=>t.jsx(ot,{item:_,onCheck:l,countUp:h,deleteItem:g},_.id))})]})},dt=mt,ht=()=>{const{cartArr:r}=u(),[c,i]=j.useState(null);return j.useEffect(()=>{const n=r.reduce((o,l)=>o+l.totalPrice,0);i(n)},[r]),t.jsxs("div",{className:e.cart_right,children:[t.jsxs("div",{className:e.cart_right_info,children:[t.jsx("h3",{style:{marginBottom:"20px"},children:"Ваш заказ"}),t.jsxs("div",{className:e.cart_right_content,children:[t.jsxs("div",{className:e.cart_right_content_wrap,children:[t.jsxs("p",{className:e.cart_right_content_text,children:["(",r.length,") товара на сумму"]}),t.jsx("span",{className:e.cart_right_content_text_right,children:c})]}),t.jsxs("div",{className:e.cart_right_content_wrap,children:[t.jsx("span",{className:e.cart_right_content_text,children:"Доставка"}),t.jsx("span",{className:e.cart_right_content_text_right,children:"Бесплатно"})]}),t.jsxs("div",{className:e.cart_right_content_wrap,children:[t.jsx("span",{className:e.cart_right_content_result,children:"Итого"}),t.jsx("span",{className:e.cart_right_content_result_sum,children:c})]})]})]}),t.jsx("button",{className:e.cart_right_btn,children:"Перейти к оформлению"})]})},gt=ht,pt=({item:r})=>t.jsxs("div",{className:e.cardsItem,children:[t.jsxs("div",{className:e.cardsItem_imgBlock,children:[t.jsx("img",{src:r.img,alt:""}),t.jsxs("div",{className:e.cardsItem_imgBlock_promotions,children:[t.jsx("span",{className:e.cardsItem_imgBlock_promotion,children:"Акция"}),t.jsx("span",{className:e.cardsItem_imgBlock_discount,children:"Скидка"})]})]}),t.jsx("h3",{className:e.cardsItem_title,children:r.title}),t.jsxs("div",{className:e.cardsItem_ratings,children:[t.jsxs("div",{className:e.cardsItem_ratings_stars,children:[t.jsx(m,{name:"StarIcon",width:16,height:16}),t.jsx(m,{name:"StarIcon",width:16,height:16}),t.jsx(m,{name:"StarIcon",width:16,height:16}),t.jsx(m,{name:"StarIcon",width:16,height:16}),t.jsx(m,{name:"StarIcon",width:16,height:16})]}),t.jsx("span",{children:"4.5/2548"})]}),t.jsxs("div",{className:e.cardsItem_prices,children:[t.jsxs("div",{className:e.cardsItem_price,children:[r.price," сум"]}),t.jsx("div",{className:e.cardsItem_oldPrice,children:r.oldPrice})]}),t.jsxs("div",{className:e.cardsItem_buttons,children:[t.jsxs("button",{className:e.cardsItem_cart,children:[t.jsx("span",{children:"В корзину"}),t.jsx(I,{name:"ShoppingCartIcon",height:50})]}),t.jsx("button",{className:e.cardsItem_cart,children:t.jsx(I,{name:"HeartIcon",height:50})})]})]}),xt=({arrToUse:r})=>t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"20px"},children:r.map(c=>t.jsx(pt,{item:c},c.id))}),f=xt,jt=[{id:1,img:"./молоко.jpg",title:"Молоко ЭкоНива, 1,5%, ультрапастерилизованное, 1000 мл",price:15e3,oldPrice:18e3},{id:2,img:"./молоко.jpg",title:"Молоко ЭкоНива, 1,5%, ультрапастерилизованное, 1000 мл",price:15e3,oldPrice:18e3}],ut=[{id:1,img:"./молоко.jpg",title:"Молоко ЭкоНива, 1,5%, ультрапастерилизованное, 1000 мл",price:15e3,oldPrice:18e3},{id:2,img:"./молоко.jpg",title:"Молоко ЭкоНива, 1,5%, ультрапастерилизованное, 1000 мл",price:15e3,oldPrice:18e3},{id:3,img:"./молоко.jpg",title:"Молоко ЭкоНива, 1,5%, ультрапастерилизованное, 1000 мл",price:15e3,oldPrice:18e3},{id:4,img:"./молоко.jpg",title:"Молоко ЭкоНива, 1,5%, ультрапастерилизованное, 1000 мл",price:15e3,oldPrice:18e3},{id:5,img:"./молоко.jpg",title:"Молоко ЭкоНива, 1,5%, ультрапастерилизованное, 1000 мл",price:15e3,oldPrice:18e3}];function wt(){return t.jsxs(t.Fragment,{children:[t.jsx(z,{}),t.jsxs("div",{className:"container",children:[t.jsxs("div",{className:e.wrapper,children:[t.jsxs("h2",{className:e.wrapper_title,children:["В корзине ",t.jsx("span",{style:{color:"#A5A5A5"},children:"3 товара"})]}),t.jsxs("div",{className:e.cart,children:[t.jsx(dt,{}),t.jsx(gt,{})]})]}),t.jsxs("div",{className:e.cart_cards,children:[t.jsx(f,{arrToUse:jt}),t.jsx(f,{arrToUse:ut})]})]}),t.jsx("footer",{children:t.jsx(v,{})})]})}export{wt as default};
