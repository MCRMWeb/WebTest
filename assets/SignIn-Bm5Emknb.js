import{r as g,u as x,j as e,L as h}from"./index-Cv-XqJyV.js";import{u as p,C as _,e as b}from"./errorMessage-BHSMdmk_.js";import{u as j}from"./auth-CNHSX0yM.js";import{C as N}from"./CustomBtn-tdCClpAV.js";import"./CustomIcon-gPSonnYz.js";import"./XMarkIcon-tDdZoeW2.js";const L="_enter_1iil7_1",k="_enter_title_1iil7_14",v="_enter_form_1iil7_17",C="_enter_info_1iil7_26",w="_enter_info_error_1iil7_32",y="_enter_info_text_1iil7_36",E="_enter_info_link_1iil7_39",S="_enter_button_1iil7_51",M="_enter_button_icon_1iil7_73",t={enter:L,enter_title:k,enter_form:v,enter_info:C,enter_info_error:w,enter_info_text:y,enter_info_link:E,enter_button:S,enter_button_icon:M},B=()=>{const[r,n]=g.useState(""),a=j(),l=x(),{register:o,handleSubmit:c,reset:m,formState:{errors:s,isValid:u}}=p({mode:"onChange"}),f=async d=>{try{await a.mutateAsync(d),n(""),l("/")}catch(i){console.log("Произошла ошибка при входе в систему",i),n(""),n(b(i))}m()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.enter,children:[e.jsx("h1",{className:t.enter_title,children:"Вход"}),e.jsxs("form",{className:t.enter_form,onSubmit:c(f),children:[e.jsx(_,{label:"Ваше username",type:"text",holder:"Username",errors:s.username,register:o("username",{required:"Поле обязательно для заполнения",minLength:{value:3,message:"Минимум 3 символа"}})}),e.jsx(_,{label:"Ваше пароль",type:"text",holder:"Пароль",errors:s.password,register:o("password",{required:"Поле обязательно для заполнения",minLength:{value:6,message:"Минимум 6 символов"}})}),e.jsx(N,{text:"Вход",width:150,height:45,mg:"auto",disabled:!u,icon:"ArrowLeftEndOnRectangleIcon",background:"rgb(137, 250, 135)",className:t.enter_button,iconClassName:t.enter_button_icon})]}),e.jsxs("div",{className:t.enter_info,children:[r&&e.jsx("h3",{className:t.enter_info_error,children:r}),e.jsx("p",{className:t.enter_info_text,children:"Нет аккаунта?"}),e.jsx(h,{to:"/signup",className:t.enter_info_link,children:"Зарегистрироваться"})]})]})})};export{B as default};
