import{j as e,v as oe,r as u,w as Ve,L as H,x as K,y as te,e as G,z as Dt,A as Ot,B as At,u as Ae,o as Pe,q as ae,C as lt}from"./index-DmHCZfnL.js";import{u as Pt}from"./userStore-Cmpj2Cs9.js";import{C as F}from"./CustomIcon-TCBQSGBO.js";import{s as ge}from"./shop1Store-l4vu9re0.js";import{a as We,c as He,H as Wt}from"./Header-C_9MI8jW.js";import{a as de,M as _t}from"./Modal-CJtKEw1d.js";import{b as se}from"./bannerStore-xL9LQL6Y.js";import"./XMarkIcon-CZrudM_9.js";const Et="_wrapper_1y56l_1",Bt="_wrapper_title_1y56l_4",Ut="_content_1y56l_10",Lt="_content_left_1y56l_16",zt="_content_right_1y56l_19",Ft="_tools_1y56l_45",Mt="_tools_link_1y56l_50",Tt="_tools_link_active_1y56l_63",Rt="_settings_1y56l_86",qt="_settings_title_1y56l_89",Vt="_settings_content_1y56l_94",Ht="_settings_content_top_1y56l_97",Xt="_settings_content_buttons_1y56l_100",Zt="_settings_content_btn_1y56l_110",Gt="_settings_content_btn_cancel_1y56l_122",Jt="_settings_content_btn_save_1y56l_125",Yt="_settings_tools_1y56l_128",Qt="_settings_tools_link_1y56l_133",Kt="_settings_tools_link_active_1y56l_148",es="_wrapperModules_1y56l_153",ts="_item_1y56l_160",ss="_item_top_1y56l_165",os="_item_top_title_1y56l_176",ns="_item_top_arrow_1y56l_180",rs="_item_top_arrow_active_1y56l_188",as="_item_block_1y56l_191",is="_item_block_item_1y56l_202",cs="_item_block_open_1y56l_205",ls="_item_onOff_1y56l_211",_s="_item_delivery_1y56l_211",ds="_versions_block_1y56l_217",ps="_versions_block_top_1y56l_222",us="_versions_block_top_title_1y56l_232",ms="_versions_block_top_arrow_1y56l_237",hs="_versions_block_top_arrow_active_1y56l_246",bs="_versions_block_dropdown_1y56l_249",gs="_versions_block_dropdown_item_1y56l_260",vs="_versions_block_dropdown_open_1y56l_271",xs="_versions_block_onOff_1y56l_277",fs="_versions_block_delivery_1y56l_277",ys="_categoriesDropDown_title_1y56l_283",ks="_categoriesDropDown_item_1y56l_286",js="_categoriesDropDown_item_top_1y56l_292",ws="_categoriesDropDown_item_top_title_1y56l_303",Cs="_categoriesDropDown_item_top_arrow_1y56l_307",Ns="_categoriesDropDown_item_top_arrow_active_1y56l_314",Is="_categoriesDropDown_item_block_1y56l_317",Ss="_categoriesDropDown_item_block_line_1y56l_326",$s="_categoriesDropDown_item_block_active_1y56l_338",Ds="_categoriesDropDown_item_block_open_1y56l_341",Os="_categoriesDropDown_item_onOff_1y56l_346",As="_categoriesDropDown_item_delivery_1y56l_346",Ps="_products_buttons_1y56l_352",Ws="_products_btn_1y56l_358",Es="_products_btn_active_1y56l_369",Bs="_productItem_title_1y56l_374",Us="_productItem_basePhoto_1y56l_379",Ls="_productItem_photos_1y56l_385",zs="_productItem_photos_desc_1y56l_391",Fs="_productItem_photo_1y56l_385",Ms="_productItem_photo_img_1y56l_406",Ts="_productItem_photo_close_1y56l_417",Rs="_productItem_photo_active_1y56l_429",qs="_productItem_add_1y56l_433",Vs="_productItem_add_text_1y56l_441",Hs="_productItem_settings_1y56l_446",Xs="_productItem_left_info_1y56l_450",Zs="_productItem_left_item_1y56l_458",Gs="_productItem_left_item_top_1y56l_462",Js="_productItem_left_item_top_input_1y56l_483",Ys="_productItem_left_item_bottom_1y56l_489",Qs="_productItem_left_form_1y56l_502",Ks="_productItem_left_form_label_1y56l_509",eo="_productItem_left_form_title_1y56l_513",to="_productItem_left_form_input_1y56l_519",so="_productItem_left_form_textarea_1y56l_527",oo="_productItem_left_form_size_1y56l_535",no="_productItem_right_1y56l_543",ro="_productItem_right_item_1y56l_550",ao="_productItem_right_top_1y56l_555",io="_productItem_right_title_1y56l_562",co="_productItem_right_bottom_items_1y56l_568",lo="_productItem_right_bottom_items_active_1y56l_577",_o="_productItem_right_bottom_item_1y56l_568",po="_productItem_right_bottom_row_1y56l_603",uo="_productItem_right_bottom_del_1y56l_608",mo="_banner_nav_list_1y56l_619",ho="_banner_nav_link_1y56l_625",bo="_banner_nav_link_active_1y56l_640",go="_addingWrapper_title_1y56l_645",vo="_addingWrapper_form_1y56l_650",xo="_addingWrapper_form_btn_1y56l_655",fo="_addingWrapper_search_1y56l_672",yo="_addingWrapper_search_input_1y56l_678",ko="_addingWrapper_search_icon_1y56l_686",jo="_addingWrapper_table_1y56l_689",wo="_addingWrapper_table_error_1y56l_692",Co="_addingWrapper_thead_tr_1y56l_696",No="_addingWrapper_thead_th_1y56l_700",Io="_addingWrapper_tbody_tr_1y56l_708",So="_addingWrapper_tbody_td_1y56l_711",$o="_addingWrapper_tbody_buttons_1y56l_725",Do="_addingWrapper_tbody_add_1y56l_730",Oo="_addingWrapper_tbody_del_1y56l_737",Ao="_errorWrapper_1y56l_745",Po="_errorWrapper_block_1y56l_754",Wo="_errorWrapper_block_close_1y56l_764",Eo="_layout_title_1y56l_775",Bo="_layout_buttons_1y56l_780",Uo="_layout_btn_1y56l_786",Lo="_layout_btn_active_1y56l_800",zo="_editBlock_1y56l_805",c={wrapper:Et,wrapper_title:Bt,content:Ut,content_left:Lt,content_right:zt,tools:Ft,tools_link:Mt,tools_link_active:Tt,settings:Rt,settings_title:qt,settings_content:Vt,settings_content_top:Ht,settings_content_buttons:Xt,settings_content_btn:Zt,settings_content_btn_cancel:Gt,settings_content_btn_save:Jt,settings_tools:Yt,settings_tools_link:Qt,settings_tools_link_active:Kt,wrapperModules:es,item:ts,item_top:ss,item_top_title:os,item_top_arrow:ns,item_top_arrow_active:rs,item_block:as,item_block_item:is,item_block_open:cs,item_onOff:ls,item_delivery:_s,versions_block:ds,versions_block_top:ps,versions_block_top_title:us,versions_block_top_arrow:ms,versions_block_top_arrow_active:hs,versions_block_dropdown:bs,versions_block_dropdown_item:gs,versions_block_dropdown_open:vs,versions_block_onOff:xs,versions_block_delivery:fs,categoriesDropDown_title:ys,categoriesDropDown_item:ks,categoriesDropDown_item_top:js,categoriesDropDown_item_top_title:ws,categoriesDropDown_item_top_arrow:Cs,categoriesDropDown_item_top_arrow_active:Ns,categoriesDropDown_item_block:Is,categoriesDropDown_item_block_line:Ss,categoriesDropDown_item_block_active:$s,categoriesDropDown_item_block_open:Ds,categoriesDropDown_item_onOff:Os,categoriesDropDown_item_delivery:As,products_buttons:Ps,products_btn:Ws,products_btn_active:Es,productItem_title:Bs,productItem_basePhoto:Us,productItem_photos:Ls,productItem_photos_desc:zs,productItem_photo:Fs,productItem_photo_img:Ms,productItem_photo_close:Ts,productItem_photo_active:Rs,productItem_add:qs,productItem_add_text:Vs,productItem_settings:Hs,productItem_left_info:Xs,productItem_left_item:Zs,productItem_left_item_top:Gs,productItem_left_item_top_input:Js,productItem_left_item_bottom:Ys,productItem_left_form:Qs,productItem_left_form_label:Ks,productItem_left_form_title:eo,productItem_left_form_input:to,productItem_left_form_textarea:so,productItem_left_form_size:oo,productItem_right:no,productItem_right_item:ro,productItem_right_top:ao,productItem_right_title:io,productItem_right_bottom_items:co,productItem_right_bottom_items_active:lo,productItem_right_bottom_item:_o,productItem_right_bottom_row:po,productItem_right_bottom_del:uo,banner_nav_list:mo,banner_nav_link:ho,banner_nav_link_active:bo,addingWrapper_title:go,addingWrapper_form:vo,addingWrapper_form_btn:xo,addingWrapper_search:fo,addingWrapper_search_input:yo,addingWrapper_search_icon:ko,addingWrapper_table:jo,addingWrapper_table_error:wo,addingWrapper_thead_tr:Co,addingWrapper_thead_th:No,addingWrapper_tbody_tr:Io,addingWrapper_tbody_td:So,addingWrapper_tbody_buttons:$o,addingWrapper_tbody_add:Do,addingWrapper_tbody_del:Oo,errorWrapper:Ao,errorWrapper_block:Po,errorWrapper_block_close:Wo,layout_title:Eo,layout_buttons:Bo,layout_btn:Uo,layout_btn_active:Lo,editBlock:zo};function he({width:n=78,color:t="white",backgroundOn:s="rgba(137, 250, 135, 1)",backgroundOff:o="rgba(193, 193, 193, 1)",speed:r=500,scale:a=1.1,status:d=!1}){const _={width:`${n}px`,height:`${n/2-n/20}px`,background:d?s:o,borderRadius:`${n/2}px`,display:"flex",alignItems:"center",transition:`${r}ms`,cursor:"pointer"},l={background:`${t}`,height:`${n/2-n/20}px`,width:`${n/2-n/20}px`,border:`${n/25}px solid ${d?s:o}`,borderRadius:"50%",transition:`${r}ms`,transform:`scale(${a}) translateX(${d?"110%":"0"})`};return e.jsx("div",{style:_,children:e.jsx("div",{style:l})})}const Fo="_versions_1cgvq_1",Mo="_versions_block_1cgvq_6",To="_versions_block_top_1cgvq_11",Ro="_versions_block_top_title_1cgvq_21",qo="_versions_block_top_arrow_1cgvq_25",Vo="_versions_block_top_arrow_active_1cgvq_34",Ho="_versions_block_dropdown_1cgvq_37",Xo="_versions_block_dropdown_item_1cgvq_49",Zo="_versions_block_dropdown_open_1cgvq_60",Go="_versions_block_onOff_1cgvq_66",Jo="_versions_block_delivery_1cgvq_66",Yo="_versions2_1cgvq_72",Qo="_versions2_block_1cgvq_77",Ko="_versions2_block_top_1cgvq_82",en="_versions2_block_top_title_1cgvq_92",tn="_versions2_block_top_arrow_1cgvq_96",sn="_versions2_block_top_arrow_active_1cgvq_105",on="_versions2_block_dropdown_1cgvq_108",nn="_versions2_block_dropdown_item_1cgvq_119",rn="_versions2_block_dropdown_open_1cgvq_130",an="_versions2_block_onOff_1cgvq_136",cn="_versions2_block_delivery_1cgvq_136",ln="_version3_1cgvq_142",_n="_version3_title_1cgvq_147",dn="_version3_block_1cgvq_153",pn="_version3_block_top_1cgvq_158",un="_version3_block_top_title_1cgvq_169",mn="_version3_block_top_arrow_1cgvq_173",hn="_version3_block_top_arrow_active_1cgvq_183",bn="_version3_block_dropdown_1cgvq_186",gn="_version3_block_dropdown_item_1cgvq_197",vn="_version3_block_dropdown_open_1cgvq_213",xn="_version3_block_onOff_1cgvq_237",fn="_version3_block_delivery_1cgvq_237",yn="_versionExtraOptions_1cgvq_243",kn="_versionExtraOptions_title_1cgvq_248",jn="_versionExtraOptions_block_1cgvq_254",wn="_versionExtraOptions_block_top_1cgvq_259",Cn="_versionExtraOptions_block_top_title_1cgvq_270",Nn="_versionExtraOptions_block_top_arrow_1cgvq_275",In="_versionExtraOptions_block_top_arrow_active_1cgvq_285",Sn="_versionExtraOptions_block_dropdown_1cgvq_288",$n="_versionExtraOptions_block_dropdown_item_1cgvq_299",Dn="_versionExtraOptions_block_dropdown_open_1cgvq_316",On="_versionExtraOptions_block_onOff_1cgvq_340",An="_versionExtraOptions_block_delivery_1cgvq_340",B={versions:Fo,versions_block:Mo,versions_block_top:To,versions_block_top_title:Ro,versions_block_top_arrow:qo,versions_block_top_arrow_active:Vo,versions_block_dropdown:Ho,versions_block_dropdown_item:Xo,versions_block_dropdown_open:Zo,versions_block_onOff:Go,versions_block_delivery:Jo,versions2:Yo,versions2_block:Qo,versions2_block_top:Ko,versions2_block_top_title:en,versions2_block_top_arrow:tn,versions2_block_top_arrow_active:sn,versions2_block_dropdown:on,versions2_block_dropdown_item:nn,versions2_block_dropdown_open:rn,versions2_block_onOff:an,versions2_block_delivery:cn,version3:ln,version3_title:_n,version3_block:dn,version3_block_top:pn,version3_block_top_title:un,version3_block_top_arrow:mn,version3_block_top_arrow_active:hn,version3_block_dropdown:bn,version3_block_dropdown_item:gn,version3_block_dropdown_open:vn,version3_block_onOff:xn,version3_block_delivery:fn,versionExtraOptions:yn,versionExtraOptions_title:kn,versionExtraOptions_block:jn,versionExtraOptions_block_top:wn,versionExtraOptions_block_top_title:Cn,versionExtraOptions_block_top_arrow:Nn,versionExtraOptions_block_top_arrow_active:In,versionExtraOptions_block_dropdown:Sn,versionExtraOptions_block_dropdown_item:$n,versionExtraOptions_block_dropdown_open:Dn,versionExtraOptions_block_onOff:On,versionExtraOptions_block_delivery:An};function Ke({color:n="black",title:t="",versionList:s=[{id:"1",title:"версия 1",isActive:!0,navIcon:""},{id:"2",title:"версия 2",isActive:!1,navIcon:""},{id:"3",title:"версия 3",isActive:!1,navIcon:""}],className:o,openBlock:r,currentVersion:a,setOpenBlock:d,setCurrentVersion:_,setVersionList:l}){const i=p=>{_(p.title);const m=s.map(x=>({id:x.id,title:x.title,isActive:!1})),h=m.find(x=>x.id==p.id),b=m.findIndex(x=>x.id==p.id);h&&(h.isActive=!0,m.splice(b,1,h),l(m))};return e.jsxs("div",{className:o??B.versions,children:[e.jsx("span",{children:t}),e.jsxs("div",{className:B.versions_block,children:[e.jsxs("div",{className:B.versions_block_top,children:[e.jsx("h2",{className:B.versions_block_top_title,style:{color:n},children:a}),e.jsx("button",{className:B.versions_block_top_btn,onClick:()=>d(!r),children:e.jsx("div",{className:`${B.versions_block_top_arrow} ${r?B.versions_block_top_arrow_active:""}`,children:e.jsx(F,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${B.versions_block_dropdown} ${r?B.versions_block_dropdown_open:""}`,children:s.map(p=>e.jsx("span",{className:B.versions_block_dropdown_item,onClick:()=>i(p),children:p.title},p.id))})]})]})}function Pn(){const{modulesCashRegisterStatus:n,deliveryStatus:t,cashRegisterVersionList:s,cashRegisterCurrentVersion:o,openBlockCashRegister:r,openBlockCashRegisterVersion:a,openBlockCart:d,cartVersionList:_,modulesCartStatus:l,cartCurrentVersion:i,openBlockCartVersion:p,setCartVersionList:m,setCartCurrentVersion:h,setModulesCartStatus:b,setOpenBlockCart:x,setOpenBlockCartVersion:D,setDeliveryStatus:L,setOpenBlockCashRegister:M,setCashRegisterVersionList:O,setModulesCashRegisterStatus:W,setCashRegisterCurrentVersion:w,setOpenBlockCashRegisterVersion:S}=oe(),k=()=>{x(!d)},v=()=>{M(!r)};return e.jsxs("div",{className:c.wrapperModules,children:[e.jsxs("div",{className:c.item,children:[e.jsxs("div",{className:c.item_top,onClick:()=>k(),children:[e.jsx("h2",{className:c.item_top_title,children:"Корзина"}),e.jsx("button",{className:c.item_top_btn,onClick:()=>k(),children:e.jsx("div",{className:`${c.item_top_arrow} ${d?c.item_top_arrow_active:""}`,children:e.jsx(F,{name:"ChevronDownIcon",width:15})})})]}),e.jsxs("div",{className:`${c.item_block} ${d?c.item_block_open:""}`,children:[e.jsxs("div",{className:c.item_onOff,children:[e.jsx("span",{children:"Выкл / Вкл"}),e.jsx("div",{className:c.item_shell,onClick:()=>b(!l),children:e.jsx(he,{status:l,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]}),e.jsx(Ke,{color:"rgb(137, 250, 135)",openBlock:p,setOpenBlock:D,title:"Выберите версию",versionList:_,currentVersion:i,setCurrentVersion:h,setVersionList:m}),e.jsxs("div",{className:c.item_delivery,children:[e.jsx("span",{children:"Доставка"}),e.jsx("div",{className:c.item_shell,onClick:()=>L(!t),children:e.jsx(he,{status:t,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]})]})]}),e.jsxs("div",{className:c.item,children:[e.jsxs("div",{className:c.item_top,onClick:()=>v(),children:[e.jsx("h2",{className:c.item_top_title,children:"Кacca"}),e.jsx("button",{className:c.item_top_btn,onClick:()=>v(),children:e.jsx("div",{className:`${c.item_top_arrow} ${r?c.item_top_arrow_active:""}`,children:e.jsx(F,{name:"ChevronDownIcon",width:15})})})]}),e.jsxs("div",{className:`${c.item_block} ${r?c.item_block_open:""}`,children:[e.jsxs("div",{className:c.item_onOff,children:[e.jsx("span",{children:"Выкл / Вкл"}),e.jsx("div",{className:c.item_shell,onClick:()=>W(!n),children:e.jsx(he,{status:n,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]}),e.jsx(Ke,{color:"rgb(137, 250, 135)",openBlock:a,setOpenBlock:S,title:"Выберите версию",versionList:s,currentVersion:o,setCurrentVersion:w,setVersionList:O})]})]})]})}function Wn(){const{templates:n,setTemplates:t}=oe(),[s,o]=u.useState([...n]);u.useEffect(()=>{o([...n])},[n]);const r=_=>{const l=s.map(i=>i.id===_?{...i,open:!i.open}:i);o(l)},a=(_,l)=>{const i=s.map(p=>p.id===_?{...p,isActive:!0,templateThemes:p.templateThemes.map(m=>m.id===l?{...m,isActive:!0}:{...m,isActive:!1})}:{...p,isActive:!1,templateThemes:p.templateThemes.map(m=>({...m,isActive:!1}))});o(i)};function d(){t(s)}return e.jsxs("div",{className:c.wrapperModules,children:[s.map(_=>e.jsxs("div",{className:c.item,children:[e.jsxs("div",{className:c.item_top,onClick:()=>r(_.id),children:[e.jsx("h2",{className:c.item_top_title,children:_.title}),e.jsx("button",{className:c.item_top_btn,onClick:()=>r(_.id),children:e.jsx("div",{className:`${c.item_top_arrow} ${_.open?c.item_top_arrow_active:""}`,children:e.jsx(F,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${c.item_block} ${_.open?c.item_block_open:""}`,children:_.templateThemes.map(l=>e.jsxs("div",{className:c.item_onOff,children:[e.jsx("span",{children:l.title}),e.jsx("div",{className:c.item_shell,onClick:()=>a(_.id,l.id),children:e.jsx(he,{status:l.isActive,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]},l.id))})]},_.id)),e.jsxs("div",{className:c.settings_content_buttons,children:[e.jsx("button",{className:`${c.settings_content_btn} ${c.settings_content_btn_cancel}`,children:"Отмена"}),e.jsx("button",{className:`${c.settings_content_btn} ${c.settings_content_btn_save}`,onClick:()=>d(),children:"Сохранить"})]})]})}function En({title:n,setOpenModal:t}){const{currentCategory:s}=oe(),[o,r]=u.useState(""),{selectedSuperCategory:a,selectedCategory:d}=We();u.useEffect(()=>{s=="Котегории"&&a&&_(a),s=="Подкотегории"&&d&&_(d)},[s,a,d]);const _=async i=>{try{const m=await(await Ve.get(`https://api.mcrm.uz/api/categories/${i}`)).data;r(m.name.ru)}catch(p){console.error("Ошибка произошла при получении названия варианта категории",p)}},l=()=>{t&&t(!0)};return e.jsxs("div",{className:c.editBlock,onClick:l,children:[o||n,e.jsx(F,{name:"PencilIcon"})]})}const Bn="_modalCategory_xzv82_1",Un="_modalCategory_block_xzv82_10",Ln="_modalCategory_nav_xzv82_16",zn="_modalCategory_nav_title_xzv82_23",Fn="_modalCategory_content_xzv82_29",Mn="_modalCategory_content_message_xzv82_36",Tn="_modalCategory_content_link_xzv82_44",Rn="_modalCategory_content_link_active_xzv82_72",qn="_modalCategory_content_item_xzv82_82",Vn="_modalCategory_content_block_xzv82_104",Hn="_modalCategory_content_block_title_xzv82_108",Xn="_settings_xzv82_115",Zn="_settings_title_xzv82_118",Gn="_settings_content_xzv82_123",Jn="_settings_content_top_xzv82_126",Yn="_settings_content_buttons_xzv82_129",Qn="_settings_content_btn_xzv82_139",Kn="_settings_content_btn_cancel_xzv82_151",er="_settings_content_btn_save_xzv82_154",tr="_settings_tools_xzv82_157",sr="_settings_tools_link_xzv82_162",or="_settings_tools_link_active_xzv82_177",X={modalCategory:Bn,modalCategory_block:Un,modalCategory_nav:Ln,modalCategory_nav_title:zn,modalCategory_content:Fn,modalCategory_content_message:Mn,modalCategory_content_link:Tn,modalCategory_content_link_active:Rn,modalCategory_content_item:qn,modalCategory_content_block:Vn,modalCategory_content_block_title:Hn,settings:Xn,settings_title:Zn,settings_content:Gn,settings_content_top:Jn,settings_content_buttons:Yn,settings_content_btn:Qn,settings_content_btn_cancel:Kn,settings_content_btn_save:er,settings_tools:tr,settings_tools_link:sr,settings_tools_link_active:or};function nr({setCancel:n}){return e.jsxs("div",{className:X.modalCategory_nav,children:[e.jsx("h2",{className:X.modalCategory_nav_title,children:"Котегория"}),e.jsx("button",{className:X.modalCategory_nav_close,onClick:n,children:e.jsx(F,{width:24,height:24,name:"XMarkIcon"})})]})}function rr({superCategory:n,category:t,setMessageStatus:s,fetchCategories:o}){const{currentCategory:r}=oe(),{selectedSuperCategory:a,setSelectedSuperCategory:d}=We(),{setCurrentCategory:_}=de(),[l,i]=u.useState(10),p=(h,b)=>{if(h.preventDefault(),r==="Подкотегории"){o("category",1,10,b.id);const x=t.filter(D=>D.parentId==b.id);_(x),d(b.id),s(!1)}d(b.id)},m=h=>{h.preventDefault();const b=l+10;i(b),o("super",1,b)};return e.jsxs("div",{className:X.modalCategory_content_block,children:[e.jsx("h2",{className:X.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:X.modalCategory_content_item,children:[n.map(h=>e.jsxs(H,{to:"#",className:`${X.modalCategory_content_link} ${h.id==a?X.modalCategory_content_link_active:""} `,onClick:b=>p(b,h),children:[h.name.ru,e.jsx(F,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},h.id)),e.jsx(H,{to:"#",className:X.modalCategory_content_link,onClick:h=>m(h),children:"Ещё..."})]})]})}function ar({categoryId:n,category:t,setCategoryId:s,setSubCategory:o,fetchCategories:r}){const{selectedSuperCategory:a}=We(),[d,_]=u.useState(10),l=p=>{p.preventDefault();const m=d+10;_(m),r("category",1,m,a)},i=(p,m)=>{o(p,m),s(m.id)};return t.length>0&&e.jsxs("div",{className:X.modalCategory_content_block,children:[e.jsx("h2",{className:X.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:X.modalCategory_content_item,children:[t==null?void 0:t.map(p=>e.jsxs(H,{to:"#",className:`${X.modalCategory_content_link} ${p.id==n?X.modalCategory_content_link_active:""} `,onClick:m=>i(m,p),children:[p.name.ru,e.jsx(F,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},p.id)),e.jsx(H,{to:"#",className:X.modalCategory_content_link,onClick:p=>l(p),children:"Ещё..."})]})]})}function ir({setSettings:n,setCancel:t}){return e.jsxs("div",{className:X.settings_content_buttons,children:[e.jsx("button",{className:`${X.settings_content_btn} ${X.settings_content_btn_cancel}`,onClick:t,children:"Отмена"}),e.jsx(H,{to:"#",className:`${X.settings_content_btn} ${X.settings_content_btn_save}`,onClick:n,children:"Сохранить"})]})}function cr({setOpenModal:n}){const{currentCategory:t}=oe(),{selectedSuperCategory:s,setSelectedSuperCategory:o,selectedCategory:r,setSelectedCategory:a}=We(),[d,_]=u.useState(0),[l,i]=u.useState(!1),[p,m]=u.useState("Выберите категорию"),[h,b]=u.useState([]),[x,D]=u.useState([]);u.useEffect(()=>{W("super",1,10),r&&_(r)},[]);const L=(S,k)=>{S.preventDefault(),W("subCategory",1,10,k.id),i(!1)},M=()=>{t=="Котегории"?o(s):t=="Подкотегории"&&a(d),O()},O=()=>{i(!1),m("Выберите категорию"),n(!1)},W=async(S,k,v,A)=>{try{const C=S=="super"?`https://api.mcrm.uz/api/categories?&page=${k}&perPage=${v}`:`https://api.mcrm.uz/api/categories?parentId=${A}&page=${k}&perPage=${v}`,P=(await Ve.get(C)).data.data.map(z=>({...z,label:S==="super"?"Супер категория":S==="category"?"Категория":"Субкатегория"}));S==="super"&&b([...P]),S==="category"&&D([...P])}catch(C){console.error(`Ошибка произошла при получении ${S} категорий`,C)}},w=()=>{n(!1)};return e.jsx("div",{className:X.modalCategory,onClick:w,children:e.jsxs("div",{className:X.modalCategory_block,onClick:S=>S.stopPropagation(),children:[e.jsx(nr,{setCancel:O}),e.jsx("p",{className:X.modalCategory_content_message,children:l?p:""}),e.jsxs("div",{className:X.modalCategory_content,children:[e.jsx(rr,{superCategory:h,category:x,setMessageStatus:i,fetchCategories:W}),t==="Подкотегории"&&e.jsx(ar,{categoryId:d,category:x,setCategoryId:_,setSubCategory:L,fetchCategories:W}),e.jsx(ir,{setSettings:M,setCancel:O})]})]})})}function lr(){const[n,t]=u.useState(!1),[s,o]=u.useState(!1),{currentCategory:r,categoriesStatus:a,categories:d,setCategoriesStatus:_,setCurrentCategory:l}=oe();u.useEffect(()=>{t(r==="Котегории"||r==="Подкотегории")},[r]);const i=p=>{l(p.title),p.title==="Котегории"||p.title==="Подкотегории"?t(!0):t(!1)};return e.jsxs("div",{className:c.categoriesDropDown,children:[e.jsx("h2",{className:c.categoriesDropDown_title,children:"Настройки каталога"}),s&&e.jsx(cr,{setOpenModal:o}),e.jsxs("div",{className:c.categoriesDropDown_item,children:[e.jsxs("div",{className:c.categoriesDropDown_item_top,onClick:()=>_(!a),children:[e.jsx("h2",{className:c.categoriesDropDown_item_top_title,children:r}),e.jsx("button",{className:c.categoriesDropDown_item_top_btn,onClick:()=>_(!a),children:e.jsx("div",{className:`${c.categoriesDropDown_item_top_arrow} ${a?c.categoriesDropDown_item_top_arrow_active:""}`,children:e.jsx(F,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${c.categoriesDropDown_item_block} ${a?c.categoriesDropDown_item_block_open:""}`,children:d.map(p=>e.jsx("div",{className:`${c.categoriesDropDown_item_block_line} ${p.title==r?c.categoriesDropDown_item_block_active:""}`,onClick:()=>i(p),children:p.title},p.id))})]}),n&&e.jsx(En,{title:"Выберите вариант",setOpenModal:o})]})}const _r="_banner_1eodh_1",dr="_banner_title_1eodh_5",pr="_products_banner_1eodh_10",ur="_products_banner_wrap_1eodh_13",mr="_products_banner_wrap_btn_1eodh_19",hr="_products_banner_wrap_filter_1eodh_30",br="_products_banner_wrap_filter_text_1eodh_40",gr="_products_banner_form_1eodh_48",vr="_products_banner_form_wrap_1eodh_53",xr="_products_banner_form_wrap_btn_1eodh_59",fr="_products_banner_form_wrap_input_1eodh_75",yr="_products_banner_form_wrap_icon_1eodh_83",kr="_table_1eodh_87",jr="_table_tbody_1eodh_92",wr="_table_tbody_tr_1eodh_97",Cr="_table_tbody_tr_active_1eodh_100",Nr="_table_tbody_img_1eodh_103",Ir="_table_tr_1eodh_108",Sr="_table_th_1eodh_111",$r="_table_td_1eodh_122",Dr="_table_td_edit_1eodh_130",Or="_table_btn_1eodh_136",Ar="_versions_1eodh_144",Pr="_versions_block_1eodh_149",Wr="_versions_block_top_1eodh_154",Er="_versions_block_top_title_1eodh_164",Br="_versions_block_top_arrow_1eodh_168",Ur="_versions_block_top_arrow_active_1eodh_177",Lr="_versions_block_dropdown_1eodh_180",zr="_versions_block_dropdown_item_1eodh_195",Fr="_versions_block_dropdown_open_1eodh_206",Mr="_add_banner_1eodh_213",Tr="_add_banner_header_1eodh_221",Rr="_add_banner_header_title_1eodh_225",qr="_add_banner_content_1eodh_229",Vr="_add_banner_content_product_1eodh_232",Hr="_add_banner_content_link_1eodh_254",Xr="_add_banner_content_info_1eodh_262",Zr="_add_banner_content_info_text_1eodh_266",Gr="_add_banner_content_download_1eodh_272",Jr="_add_banner_content_download_link_1eodh_281",Yr="_add_banner_content_btns_1eodh_293",Qr="_add_banner_content_btn_1eodh_293",Kr="_category_wrap_1eodh_311",ea="_modalCategory_1eodh_315",ta="_modalCategory_block_1eodh_323",sa="_modalCategory_nav_1eodh_328",oa="_modalCategory_nav_title_1eodh_335",na="_modalCategory_content_1eodh_341",ra="_modalCategory_content_message_1eodh_348",aa="_modalCategory_content_link_1eodh_356",ia="_modalCategory_content_link_active_1eodh_384",ca="_modalCategory_content_item_1eodh_394",la="_modalCategory_content_block_1eodh_416",_a="_modalCategory_content_block_title_1eodh_420",da="_add_link_1eodh_427",pa="_add_link_title_1eodh_430",ua="_add_link_input_1eodh_434",ma="_modal_btn_1eodh_443",y={banner:_r,banner_title:dr,products_banner:pr,products_banner_wrap:ur,products_banner_wrap_btn:mr,products_banner_wrap_filter:hr,products_banner_wrap_filter_text:br,products_banner_form:gr,products_banner_form_wrap:vr,products_banner_form_wrap_btn:xr,products_banner_form_wrap_input:fr,products_banner_form_wrap_icon:yr,table:kr,table_tbody:jr,table_tbody_tr:wr,table_tbody_tr_active:Cr,table_tbody_img:Nr,table_tr:Ir,table_th:Sr,table_td:$r,table_td_edit:Dr,table_btn:Or,versions:Ar,versions_block:Pr,versions_block_top:Wr,versions_block_top_title:Er,versions_block_top_arrow:Br,versions_block_top_arrow_active:Ur,versions_block_dropdown:Lr,versions_block_dropdown_item:zr,versions_block_dropdown_open:Fr,add_banner:Mr,add_banner_header:Tr,add_banner_header_title:Rr,add_banner_content:qr,add_banner_content_product:Vr,add_banner_content_link:Hr,add_banner_content_info:Xr,add_banner_content_info_text:Zr,add_banner_content_download:Gr,add_banner_content_download_link:Jr,add_banner_content_btns:Yr,add_banner_content_btn:Qr,category_wrap:Kr,modalCategory:ea,modalCategory_block:ta,modalCategory_nav:sa,modalCategory_nav_title:oa,modalCategory_content:na,modalCategory_content_message:ra,modalCategory_content_link:aa,modalCategory_content_link_active:ia,modalCategory_content_item:ca,modalCategory_content_block:la,modalCategory_content_block_title:_a,add_link:da,add_link_title:pa,add_link_input:ua,modal_btn:ma};function dt({color:n="black",title:t="",versionList:s=[],className:o,openBlock:r,setOpenBlock:a,setVersionList:d}){const[_,l]=u.useState(s[0].title),{setChangeCategoryStyles:i}=se(),p=m=>{const h=s.map(b=>({...b,isOpen:b.id===m.id}));m.title=="Категория"&&i(!0),l(m.title),d(h),a(!1)};return e.jsxs("div",{className:o??y.versions,children:[e.jsx("span",{children:t}),e.jsxs("div",{className:y.versions_block,children:[e.jsxs("div",{className:y.versions_block_top,children:[e.jsx("h2",{className:y.versions_block_top_title,style:{color:n},children:_}),e.jsx("button",{className:y.versions_block_top_btn,onClick:()=>a(!r),children:e.jsx("div",{className:`${y.versions_block_top_arrow} ${r?y.versions_block_top_arrow_active:""}`,children:e.jsx(F,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${y.versions_block_dropdown} ${r?y.versions_block_dropdown_open:""}`,children:s.map(m=>e.jsx("span",{className:y.versions_block_dropdown_item,onClick:()=>p(m),children:m.title},m.id))})]})]})}function Re({width:n=78,color:t="white",backgroundOn:s="rgba(137, 250, 135, 1)",backgroundOff:o="rgba(193, 193, 193, 1)",speed:r=500,scale:a=1.1,status:d=!1,disabled:_=!1}){const l={width:`${n}px`,height:`${n/2-n/20}px`,background:d?s:o,borderRadius:`${n/2}px`,display:"flex",alignItems:"center",transition:`${r}ms`,cursor:"pointer",opacity:_?1:.3},i={background:`${t}`,height:`${n/2-n/20}px`,width:`${n/2-n/20}px`,border:`${n/25}px solid ${d?s:o}`,borderRadius:"50%",transition:`${r}ms`,transform:`scale(${a}) translateX(${d?"110%":"0"})`};return e.jsx("div",{style:l,children:e.jsx("div",{style:i})})}const Ie=({arr:n=[{id:"1",title:"Заголовок"},{id:"2",title:"Цена"},{id:"3",title:"Кол-во"},{id:"4",title:""}],arrToUse:t,selectionMode:s,isActive:o=!1,isEdit:r=!1,isCategory:a,isLinks:d,setPickedProduct:_,setPickedProductActive:l})=>{const{bannersArr:i,selectedProductEdit:p,imageUrlEditBanner:m,bannersArrProduct:h,bannersArrLink:b,setBannersArrLink:x,setSelectedProductEdit:D,setImageUrlEditBanner:L,setCurrentProductOpen:M,clearPickedProductsArr:O,setBannersArrProduct:W,setBannersArr:w,setBannersArrCategory:S}=se(),[k,v]=u.useState(null);u.useState(new Set);const A=g=>i.some(f=>f.brandName===g&&f.isBannerActive),C=(g,f)=>{if(s==="mxikCode"&&(_==null||_(g)),r&&f){const $={productId:K(),bannerUrl:m,brandName:f.brandName,isProductBanner:!0,isBannerActive:!0,toggleSwitcher:!0};$.brandName!=null&&!A($.brandName)?(W(h.map(U=>U.productId===p?$:U)),w(i.map(U=>U.productId===p?$:U)),M(!1)):console.warn("Объект с таким brandName уже существует.")}console.log(123),v(g)},j=(g,f)=>{s==="productId"&&(l==null||l(g),C==null||C(g),v(g),O(),f.productId&&D(f.productId),f.bannerUrl&&L(f.bannerUrl))},P=(g,f,$)=>{if(g.stopPropagation(),$.isBannerActive)o&&(W(t.map(U=>U.productId===f?{...U,toggleSwitcher:!U.toggleSwitcher}:U)),w(i.map(U=>U.productId===f?{...U,toggleSwitcher:!U.toggleSwitcher}:U))),a&&(S(t.map(U=>U.productId===f?{...U,toggleSwitcher:!U.toggleSwitcher}:U)),w(i.map(U=>U.productId===f?{...U,toggleSwitcher:!U.toggleSwitcher}:U))),d&&(x(t.map(U=>U.productId===f?{...U,toggleSwitcher:!U.toggleSwitcher}:U)),w(i.map(U=>U.productId===f?{...U,toggleSwitcher:!U.toggleSwitcher}:U)));else return},z=g=>g.productId!==void 0,Z=(g,f)=>{g.stopPropagation(),W(t.map($=>$.productId===f.productId?{...$,isBannerActive:!1,brandName:"-"}:$)),w(i.map($=>$.productId===f.productId?{...$,isBannerActive:!1,brandName:"-"}:$)),console.log("item",f),console.log("productId",f.productId)};return e.jsxs("table",{className:y.table,children:[e.jsx("thead",{className:y.table_thead,children:e.jsx("tr",{className:y.table_tr,children:n.map(g=>e.jsx("th",{className:y.table_th,children:g.title},g.id))})}),e.jsx("tbody",{className:y.table_tbody,children:t==null?void 0:t.map(g=>e.jsxs("tr",{className:`${y.table_tbody_tr} ${!r&&k==(s==="mxikCode"?g.mxikCode:g.productId)?y.table_tbody_tr_active:""}`,style:{cursor:o||a||d?"pointer":"default"},onClick:()=>j(g.productId,g),children:[e.jsxs("td",{className:y.table_td,children:[s==="mxikCode"&&g.brandName,o&&e.jsx("img",{className:y.table_tbody_img,src:g.bannerUrl??"",alt:"Banner"}),a&&e.jsx("img",{className:y.table_tbody_img,src:g.bannerUrl??"",alt:"Banner"}),d&&e.jsx("img",{className:y.table_tbody_img,src:g.bannerUrl??"",alt:"Banner"})]}),e.jsxs("td",{className:y.table_td,children:[a?g.categoryTitle:"",o?g.brandName:g.crmSellingPrice,d&&g.brandName]}),e.jsx("td",{className:y.table_td,children:o?"":g.crmAmount}),e.jsx("td",{className:y.table_td,children:a?e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:f=>{const $=g;$.productId&&P(f,$.productId,g)},children:e.jsx(Re,{width:62,status:z(g)&&g.toggleSwitcher&&g.isBannerActive,disabled:z(g)&&g.isBannerActive})}):o?e.jsxs("div",{className:y.table_td_edit,children:[g.brandName!=="-"&&e.jsx("button",{className:y.table_btn,style:{width:"156px",background:"#FFB5B5"},onClick:f=>Z(f,g),children:"Открепить продукт"}),e.jsx("div",{onClick:f=>{const $=g;$.productId&&P(f,$.productId,g)},children:e.jsx(Re,{width:62,status:z(g)&&g.toggleSwitcher&&g.isBannerActive,disabled:z(g)&&g.isBannerActive})})]}):d?e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:f=>{const $=g;$.productId&&P(f,$.productId,g)},children:e.jsx(Re,{width:62,status:z(g)&&g.toggleSwitcher&&g.isBannerActive,disabled:z(g)&&g.isBannerActive})}):e.jsx("button",{className:y.table_btn,onClick:()=>C(g.mxikCode,g),children:r?"Заменить":"Выбрать"})})]},z(g)?g.productId:g.mxikCode))})]})};function ha({setCancel:n}){return e.jsxs("div",{className:c.modalCategory_nav,children:[e.jsx("h2",{className:c.modalCategory_nav_title,children:"Котегория"}),e.jsx("button",{className:c.modalCategory_nav_close,onClick:n,children:e.jsx(F,{width:24,height:24,name:"XMarkIcon"})})]})}function ba({superCategory:n,category:t,superId:s,setLocalPicked:o,setSuperId:r,setMessageStatus:a,setSubCategories:d,fetchCategories:_,setSuperCategoryObj:l}){const{changeCategoryStyles:i,categoriesArr:p,setCategoriesArr:m,setActiveCategory:h,setActiveCategoryTitle:b}=se(),{setCurrentCategory:x}=de(),[D,L]=u.useState(10),M=(W,w)=>{W.preventDefault(),_("category",1,10,w.id),d([]);const S=t.filter(k=>k.parentId==w.id);if(x(S),o(w),r(w.id),a(!1),i&&w.label&&(h(w.label),b(w.name.ru)),i){const k=p.filter(v=>v.label!==w.label);k.push(w),m(k)}l==null||l(w),console.log("super",w)},O=()=>{const W=D+10;L(W),_("super",1,W),console.log("addPage",W)};return e.jsxs("div",{className:c.modalCategory_content_block,children:[e.jsx("h2",{className:c.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:c.modalCategory_content_item,children:[n.map(W=>e.jsxs(H,{to:"#",className:`${c.modalCategory_content_link} ${W.id==s?c.modalCategory_content_link_active:""} `,onClick:w=>M(w,W),children:[W.name.ru,e.jsx(F,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},W.id)),e.jsx(H,{to:"#",className:c.modalCategory_content_link,onClick:()=>O(),children:"Ещё..."})]})]})}function ga({superId:n,categoryId:t,category:s,setSubCategory:o,fetchCategories:r}){const[a,d]=u.useState(10),_=()=>{const i=a+10;d(i),r("category",1,i,n),console.log("addPage",i,n)},l=(i,p)=>{o(i,p)};return s.length>0&&e.jsxs("div",{className:c.modalCategory_content_block,children:[e.jsx("h2",{className:c.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:c.modalCategory_content_item,children:[s==null?void 0:s.map(i=>e.jsxs(H,{to:"#",className:`${c.modalCategory_content_link} ${i.id==t?c.modalCategory_content_link_active:""} `,onClick:p=>l(p,i),children:[i.name.ru,e.jsx(F,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},i.id)),e.jsx(H,{to:"#",className:c.modalCategory_content_link,onClick:()=>_(),children:"Ещё..."})]})]})}function va({subId:n,categoryId:t,subCategories:s,setSubProductsList:o,fetchCategories:r}){const[a,d]=u.useState(10),_=()=>{const l=a+10;d(l),r("subCategory",1,l,t),console.log("addPage",l)};return s.length>0&&e.jsxs("div",{className:c.modalCategory_content_block,children:[e.jsx("h2",{className:c.modalCategory_content_block_title,children:"Подкотегория"}),e.jsxs("div",{className:c.modalCategory_content_item,children:[s==null?void 0:s.map(l=>e.jsxs(H,{to:"#",className:`${c.modalCategory_content_link} ${l.id==n?c.modalCategory_content_link_active:""} `,onClick:i=>o(i,l),children:[l.name.ru,e.jsx(F,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},l.id)),e.jsx(H,{to:"#",className:c.modalCategory_content_link,onClick:()=>_(),children:"Ещё..."})]})]})}function xa({setSettings:n,setCancel:t}){return e.jsxs("div",{className:c.settings_content_buttons,children:[e.jsx("button",{className:`${c.settings_content_btn} ${c.settings_content_btn_cancel}`,onClick:t,children:"Отмена"}),e.jsx("button",{className:`${c.settings_content_btn} ${c.settings_content_btn_save}`,onClick:n,children:"Сохранить"})]})}function Ee({isProduct:n,isCategory:t=!1}){const{setOpenModalCategory:s,setPickedCategory:o,setCurrentCategory:r,setCurrentSubCategory:a}=de(),{changeCategoryStyles:d,activeCategoryTitle:_,currentProductTable:l,bannersArrCategory:i,activeCategory:p,bannersArr:m,categoriesArr:h,setCategoriesArr:b,setBannersArr:x,setBannersArrCategory:D,setPickedProducts:L,setActiveCategory:M,setActiveCategoryTitle:O,setCurrentProductOpen:W,setOpenModalCategoryBanner:w}=se(),S=d?y:c,{websiteProducts:k}=ge(),[v,A]=u.useState(0),[C,j]=u.useState(0),[P,z]=u.useState(0),[Z,g]=u.useState({}),[f,$]=u.useState(!1),[U,fe]=u.useState("Выберите категорию"),[Ue,Le]=u.useState([]),[je,ze]=u.useState([]),[T,Q]=u.useState([]),[re,ie]=u.useState(null),[pe,Fe]=u.useState(null),[Qe,Ct]=u.useState(null);u.useEffect(()=>{we("super",1,10)},[]);const Nt=(ee,R)=>{ee.preventDefault(),we("subCategory",1,10,R.id);const ce=T.filter(le=>le.parentId==R.id);if(a(ce),g(R),j(R.id),$(!1),d&&R.label&&(M(R.label),O(R.name.ru)),d){const le=h.filter(ue=>ue.label!==R.label);le.push(R),b(le)}Fe(R),console.log("category",R.id)},It=(ee,R)=>{if(ee.preventDefault(),g(R),z(R.id),$(!1),d&&R.label&&(M(R.label),O(R.name.ru)),d){const ce=h.filter(le=>le.name.ru!==R.name.ru);ce.push(R),console.log("newCategories",ce),b(ce)}Ct(R),console.log("item",R)},St=()=>{if(Object.keys(Z).length===0){$(!0),fe("Выберите Суперкотегорию");return}if(je.length>0&&C===0){$(!0),fe("Выберите Категорию");return}if(T.length>0&&P===0){$(!0),fe("Выберите Подкотегорию");return}if(Z){const R=Z.id,ce=k.filter(le=>{var ue;return((ue=le.crmCategoryParentId)==null?void 0:ue.id)==R});L(ce)}const ee=[];re&&ee.push(re),pe&&ee.push(pe),Qe&&ee.push(Qe),b(ee),Me()},Me=()=>{o(Z),s(!1),A(0),j(0),z(0),g({}),r([]),a([]),$(!1),fe("Выберите категорию"),w(!1)},we=async(ee,R,ce,le)=>{try{const ue=ee=="super"?`https://api.mcrm.uz/api/categories?&page=${R}&perPage=${ce}`:`https://api.mcrm.uz/api/categories?parentId=${le}&page=${R}&perPage=${ce}`,Te=(await Ve.get(ue)).data.data.map($t=>({...$t,label:ee==="super"?"Супер категория":ee==="category"?"Категория":"Субкатегория"}));ee==="super"&&Le([...Te]),ee==="category"&&ze([...Te]),ee==="subCategory"&&Q([...Te])}catch(ue){console.error(`Ошибка произошла при получении ${ee} категорий`,ue)}};return e.jsx("div",{className:S.modalCategory,children:e.jsxs("div",{className:S.modalCategory_block,children:[!d&&e.jsx(ha,{setCancel:Me}),e.jsx("p",{className:S.modalCategory_content_message,children:f?U:""}),e.jsxs("div",{className:S.modalCategory_content,children:[e.jsx(ba,{superId:v,superCategory:Ue,category:je,setLocalPicked:g,setSuperId:A,setMessageStatus:$,fetchCategories:we,setSubCategories:Q,setSuperCategoryObj:ie}),e.jsx(ga,{superId:v,categoryId:C,category:je,setSubCategory:Nt,fetchCategories:we}),e.jsx(va,{subId:P,categoryId:C,subCategories:T,setSubProductsList:It,fetchCategories:we}),!t&&e.jsx(xa,{setSettings:St,setCancel:Me})]})]})})}const ye=({title:n,currentProductEdit:t,isEdit:s,isCategory:o,isLinks:r,linkTextEdit:a,deleteBanner:d})=>{const{currentProductTable:_,changeCategoryStyles:l,categoriesArr:i,bannersArr:p,linksPageBannerText:m,openLinksPage:h,openProductsPage:b,activeCategory:x,activeCategoryTitle:D,bannersArrProduct:L,bannersArrCategory:M,bannersArrLink:O,setBannersArrLink:W,setCurrentProductOpen:w,clearCategoriesArr:S,addBannerToArr:k,setLinksPageBannerText:v,setBannersArrProduct:A,setBannersArr:C,setBannersArrCategory:j}=se(),P=_,[z,Z]=u.useState(null),[g,f]=u.useState(null),[$,U]=u.useState(""),fe=T=>{if(T.target.files&&T.target.files[0]){const Q=T.target.files[0];f(Q);const re=new FileReader;re.onloadend=()=>{const ie=re.result;Z(ie)},re.readAsDataURL(Q)}},Ue=()=>{document.getElementById("upload").click()},Le=()=>{if(!g)return;const T=()=>{switch(x){case"Супер категория":return"superCategory";case"Категория":return"bannerCategory";case"Субкатегория":return"subCategory";default:return""}};if(g&&P&&b){const Q={productId:K(),bannerUrl:z||"",brandName:P.brandName,isProductBanner:!0,isBannerActive:!0,toggleSwitcher:!0};p.some(pe=>pe.brandName===Q.brandName)||k(Q),w(!1),Z(null),f(null);const ie=document.getElementById("upload");ie&&(ie.value="")}if(l&&h==!1){const Q=T(),re={productId:K(),bannerUrl:z||"",categoryLabel:Q,categoryTitle:D,isCategoryBanner:!0,isBannerActive:!0,toggleSwitcher:!0};p.some(Fe=>Fe.categoryTitle===re.categoryTitle)||k(re),Z(null),f(null);const pe=document.getElementById("upload");pe&&(pe.value="")}if(h&&m){const Q={productId:K(),bannerUrl:z||"",brandName:m,isLinkBanner:!0,isBannerActive:!0,toggleSwitcher:!0};p.some(pe=>pe.brandName===Q.brandName)||(k(Q),console.log("bannersArr",p)),Z(null),f(null),v("");const ie=document.getElementById("upload");ie&&(ie.value="")}},je=()=>{z===null?s&&(o&&(U((()=>{switch(x){case"Супер категория":return"superCategory";case"Категория":return"bannerCategory";case"Субкатегория":return"subCategory";default:return""}})()),j(M.map(Q=>Q.productId===(_==null?void 0:_.productId)?{...Q,categoryTitle:D,activeCategoryEdit:$}:Q))),r&&W(O.map(T=>T.productId===(t==null?void 0:t.productId)?{...T,brandName:a}:T)),C(p.map(T=>T.productId===(_==null?void 0:_.productId)?{...T,categoryTitle:D,activeCategoryEdit:$}:T)),w(!1)):s&&(o&&j(M.map(T=>T.productId===(t==null?void 0:t.productId)?{...T,bannerUrl:z}:T)),r&&W(O.map(T=>T.productId===(t==null?void 0:t.productId)?{...T,bannerUrl:z,brandName:a}:T)),C(p.map(T=>T.productId===(t==null?void 0:t.productId)?{...T,bannerUrl:z,brandName:a,categoryTitle:D,activeCategoryEdit:$}:T)),w(!1))},ze=()=>{d==null||d(t==null?void 0:t.productId),w(!1)};return e.jsxs("div",{className:y.add_banner,children:[e.jsx("div",{className:y.add_banner_header,children:e.jsx("h3",{className:y.add_banner_header_title,children:"Баннер"})}),e.jsxs("div",{className:y.add_banner_content,children:[l?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:y.add_banner_content_product,children:[n,":",o&&e.jsxs("span",{children:[" ",t==null?void 0:t.categoryTitle]}),r&&e.jsxs("span",{children:[" ",t==null?void 0:t.brandName]})]}),i==null?void 0:i.map(T=>e.jsx("span",{className:y.add_banner_content_product,children:T.name.ru},T.name.ru))]}):e.jsx("p",{className:y.add_banner_content_product,children:h?`${n}: ${m}`:`${n}: ${P==null?void 0:P.brandName}`}),e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},id:"upload",onChange:fe}),e.jsx("label",{htmlFor:"upload",className:y.add_banner_content_link,children:"Загрузить"}),e.jsx("div",{className:y.add_banner_content_info,children:e.jsx("p",{className:y.add_banner_content_info_text,children:"Оптимальный размер картинки 800x800px (прозрачный фон) максимальный размер 10MB"})}),s?e.jsx("div",{className:y.add_banner_content_download,children:e.jsx("img",{src:z||(t==null?void 0:t.bannerUrl),alt:"",style:{width:"555px",height:"229px",objectFit:"cover"}})}):e.jsx("div",{className:y.add_banner_content_download,children:z?e.jsx("img",{src:z,alt:"Uploaded",className:y.add_banner_content_download_image,style:{width:"555px",height:"229px",objectFit:"cover"}}):e.jsxs("a",{className:y.add_banner_content_download_link,onClick:()=>Ue(),children:[e.jsx(F,{name:"PhotoIcon",width:72,height:72,color:"#C1C1C1"}),e.jsx("span",{children:"Загрузите баннер"})]})}),s?e.jsxs("div",{className:y.add_banner_content_btns,children:[e.jsx("button",{className:y.add_banner_content_btn,onClick:ze,style:{background:"#FFB5B5"},children:"Удалить"}),e.jsx("button",{className:y.add_banner_content_btn,style:{background:"#01C2EE"},onClick:()=>je(),children:"Изменить"})]}):e.jsxs("div",{className:y.add_banner_content_btns,children:[e.jsx("button",{className:y.add_banner_content_btn,onClick:()=>w(!1),children:"Отмена"}),e.jsx("button",{className:y.add_banner_content_btn,onClick:()=>Le(),children:"Сохранить"})]})]})]})};function pt({inputText:n,setInputText:t,filteredUsers:s,isProductEdit:o}){const{categoriesArr:r,filteredSubCategory:a,filteredCategoty:d,filteredSuperCategory:_,setCurrentProductOpen:l,setChangeCategoryStyles:i,setOpenModalCategoryBanner:p,clearCategoriesArr:m,setFilteredSubCategory:h,setFilteredCategoty:b,setFilteredSuperCategory:x}=se(),D=()=>{o&&l(!1),i(!1),p(!0),m()};return u.useEffect(()=>{console.log("categoriesArr",r)},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:y.products_banner_wrap,children:[e.jsx("button",{className:y.products_banner_wrap_btn,onClick:D,children:e.jsx(F,{name:"FunnelIcon",width:20})}),(r==null?void 0:r.length)!==0&&e.jsx("div",{className:y.products_banner_wrap_filter,children:r==null?void 0:r.map(L=>e.jsx("span",{className:y.products_banner_wrap_filter_text,children:L.name.ru},L.id))}),e.jsxs("form",{action:"",className:y.products_banner_form,onSubmit:L=>s==null?void 0:s(L),children:[e.jsxs("div",{className:y.products_banner_form_wrap,children:[e.jsx("input",{type:"text",className:y.products_banner_form_wrap_input,placeholder:"Поиск товаров",value:n,onChange:L=>t==null?void 0:t(L.target.value)}),e.jsx(F,{className:y.products_banner_form_wrap_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:y.products_banner_form_wrap_btn,children:"Найти"})]})]})})}const fa=[{id:"1",title:"Заголовок"},{id:"2",title:"Цена"},{id:"3",title:"Кол-во"},{id:"4",title:""}],ya=()=>{const{websiteProducts:n}=ge(),[t,s]=u.useState(""),{openModalCategoryBanner:o,currentProductOpen:r,searchTextBannner:a,pickedProducts:d,setCurrentProductTable:_,clearCategoriesArr:l,setSearchTextBannner:i,clearPickedProductsArr:p,setOpenLinksPage:m,setOpenProductsPage:h,setCurrentProductOpen:b,setOpenModalCategoryBanner:x}=se(),D=w=>{w.preventDefault(),i(t),l()},L=w=>{const S=n.find(k=>k.mxikCode===w);S&&(_(S),b(!0))},[M,O]=u.useState([]);u.useEffect(()=>{let w=n;w=w==null?void 0:w.filter(S=>{var k;return(k=S.className)==null?void 0:k.toLowerCase().includes(a.toLowerCase())}),O(w)},[a,n]);const W=a?M:d;return u.useEffect(()=>{t===""&&(i(""),p(),b(!1))},[t]),u.useEffect(()=>{b(!1),m(!1),h(!0),x(!1),l()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:y.products_banner,style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(pt,{inputText:t,setInputText:s,filteredUsers:D}),e.jsx(Ie,{arrToUse:W,arr:fa,setPickedProduct:L,selectionMode:"mxikCode"})]}),o&&e.jsx(Ee,{isProduct:!0}),r&&e.jsx(ye,{title:"Товар"})]})},ka=()=>{const{categoriesArr:n,setOpenLinksPage:t,setChangeCategoryStyles:s,setOpenProductsPage:o}=se();return u.useEffect(()=>{t(!1),s(!0),o(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:y.category_wrap,children:e.jsx(Ee,{isCategory:!0})}),e.jsx(ye,{title:"Каталог",categories:n})]})},ja=()=>{const{linksPageBannerText:n,setLinksPageBannerText:t,setOpenLinksPage:s,setChangeCategoryStyles:o,setOpenProductsPage:r}=se();return u.useEffect(()=>{s(!0),o(!1),t(""),r(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:y.add_link,children:[e.jsx("h3",{className:y.add_link_title,children:"Ссылка на станицу"}),e.jsx("input",{className:y.add_link_input,type:"text",value:n,onChange:a=>t(a.target.value)})]}),e.jsx(ye,{title:"Страница"})]})};function wa(){const{bannerDropdownOptions:n,openBannerDropdown:t,setBannerDropdownOptions:s,setOpenBannerDropdown:o,resetDropdownToDefault:r}=se(),a=()=>{const d=n.find(_=>_.isOpen);if(!d)return null;switch(d.title){case"Продукт":return e.jsx(ya,{});case"Категория":return e.jsx(ka,{});case"Страница":return e.jsx(ja,{});default:return null}};return u.useEffect(()=>{r()},[]),e.jsxs("div",{className:y.banner,children:[e.jsx("h3",{className:y.banner_title,children:"Выберите вариант куда прикрепить баннер"}),e.jsx(dt,{openBlock:t,setOpenBlock:o,versionList:n,setVersionList:s}),e.jsx("div",{className:y.banner_content,children:a()})]})}const Ca=[{id:"1",title:"Баннер"},{id:"2",title:"Продукт"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],Na=()=>{const{websiteProducts:n}=ge(),{pickedProducts:t,currentProductOpen:s,openModalCategoryBanner:o,bannersArr:r,searchTextBannner:a,currentProductTable:d,bannersArrProduct:_,clearPickedProductsArr:l,clearCategoriesArr:i,setCurrentProductOpen:p,setCurrentProductTable:m,setSearchTextBannner:h,setOpenLinksPage:b,setOpenProductsPage:x,setOpenModalCategoryBanner:D,setBannersArrProduct:L,setBannersArr:M}=se(),[O,W]=u.useState(""),[w,S]=u.useState([]),k=j=>{j.preventDefault(),h(O),i()},v=j=>{const P=_.find(z=>z.productId===j);P&&(m(P),p(!0))};u.useEffect(()=>{let j=n;j=j==null?void 0:j.filter(P=>{var z;return(z=P.className)==null?void 0:z.toLowerCase().includes(a.toLowerCase())}),S(j)},[a,n]);const A=j=>{L(_.filter(P=>P.productId!=j)),M(r.filter(P=>P.productId!==j))},C=a?w:t;return u.useEffect(()=>{p(!1),b(!1),D(!1),i()},[p,b,x,D,i]),u.useEffect(()=>{O===""&&(h(""),l())},[O]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(Ie,{arrToUse:_,arr:Ca,setPickedProductActive:v,selectionMode:"productId",isActive:!0}),s&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(pt,{filteredUsers:k,setInputText:W}),e.jsx(Ie,{arrToUse:C,isEdit:!0,selectionMode:"mxikCode"}),e.jsx(ye,{title:"Продукт",currentProductEdit:d,isEdit:!0,deleteBanner:A})]})]}),o&&e.jsx(Ee,{})]})},Ia=[{id:"1",title:"Баннер"},{id:"2",title:"Каталог"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],Sa=()=>{const{bannersArr:n,bannersArrCategory:t,currentProductTable:s,currentProductOpen:o,setCurrentProductOpen:r,setBannersArr:a,setCurrentProductTable:d,setBannersArrCategory:_}=se(),l=p=>{const m=t.find(h=>h.productId===p);m&&(d(m),r(!0),console.log("currentProductTable",s))},i=p=>{_(t.filter(m=>m.productId!=p)),a(n.filter(m=>m.productId!==p))};return u.useEffect(()=>{r(!1)},[]),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(Ie,{arr:Ia,arrToUse:t,selectionMode:"productId",isCategory:!0,setPickedProductActive:l}),o&&e.jsx(Ee,{isCategory:!0}),o&&e.jsx(ye,{title:"Каталог",currentProductEdit:s,isEdit:!0,isCategory:!0,deleteBanner:i})]})},$a=({setLinkText:n,currentProductEdit:t})=>{se();const[s,o]=u.useState(t.brandName||""),r=a=>{o(a),n(a)};return u.useEffect(()=>{o(t.brandName||"")},[t.brandName]),e.jsxs("div",{children:[e.jsx("p",{className:y.add_link_title,children:"Ссылка на страницу"}),e.jsx("input",{className:y.add_link_input,type:"text",onChange:a=>r(a.target.value),value:s})]})},Da=[{id:"1",title:"Баннер"},{id:"2",title:"Страницы"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],Oa=()=>{const{bannersArr:n,bannersArrLink:t,currentProductOpen:s,currentProductTable:o,setBannersArr:r,setBannersArrLink:a,setCurrentProductTable:d,setCurrentProductOpen:_}=se(),[l,i]=u.useState("");u.useEffect(()=>{console.log(l)},[l]);const p=h=>{const b=t.find(x=>x.productId===h);b&&(d(b),console.log("currentProductTable",o),_(!0))},m=h=>{a(t.filter(b=>b.productId!=h)),r(n.filter(b=>b.productId!==h))};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(Ie,{arr:Da,arrToUse:t,selectionMode:"productId",setPickedProductActive:p,isLinks:!0}),s&&e.jsxs(e.Fragment,{children:[e.jsx($a,{setLinkText:i,currentProductEdit:o}),e.jsx(ye,{title:"Страница",currentProductEdit:o,deleteBanner:m,isLinks:!0,isEdit:!0,linkTextEdit:l})]})]})};function Aa(){const{bannerDropdownOptions:n,openBannerDropdown:t,bannersArr:s,bannersArrProduct:o,bannersArrCategory:r,bannersArrLink:a,setBannerDropdownOptions:d,setOpenBannerDropdown:_,resetDropdownToDefault:l,setBannersArrProduct:i,setBannersArrCategory:p,setBannersArrLink:m}=se();u.useEffect(()=>{i(s.filter(b=>b.isProductBanner===!0)),p(s.filter(b=>b.isCategoryBanner===!0)),m(s.filter(b=>b.isLinkBanner===!0))},[]);const h=()=>{const b=n.find(x=>x.isOpen);if(!b)return null;switch(b.title){case"Продукт":return e.jsx(Na,{});case"Категория":return e.jsx(Sa,{});case"Страница":return e.jsx(Oa,{});default:return null}};return u.useEffect(()=>{l()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h3",{className:y.banner_title,children:"Выберите вариант редактирования баннера"}),e.jsx(dt,{openBlock:t,setOpenBlock:_,versionList:n,setVersionList:d})]}),e.jsx("div",{className:y.banner_content,children:h()})]})}const Pa=[{id:1,title:"Новый",href:"/admin/settings/banner"},{id:2,title:"Активные",href:"/admin/settings/banner/activeBanner"}];function Wa(){const t=te().pathname,{setCurrentProductOpen:s}=se();return u.useEffect(()=>{s(!1)},[]),e.jsx("div",{className:c.banner,children:e.jsxs("div",{className:c.banner_nav,children:[e.jsx("ul",{className:c.banner_nav_list,children:Pa.map(o=>e.jsx("li",{children:e.jsx(H,{to:o.href,className:`${c.banner_nav_link} ${o.href==t?c.banner_nav_link_active:""}`,children:o.title})},o.id))}),t.startsWith("/admin/settings/banner")&&e.jsxs("div",{className:c.settings_content_base,children:[t=="/admin/settings/banner"&&e.jsx(wa,{}),t=="/admin/settings/banner/activeBanner"&&e.jsx(Aa,{})]})]})})}const Ea="_contacts_mxkpi_1",Ba="_contacts_content_mxkpi_4",Ua="_contacts_nav_mxkpi_7",La="_contacts_nav_list_mxkpi_10",za="_contacts_nav_link_mxkpi_15",Fa="_contacts_nav_link_active_mxkpi_30",Ma="_contacts_btn_mxkpi_34",Ta="_socials_mxkpi_55",Ra="_socials_title_mxkpi_60",qa="_socials_content_mxkpi_65",Va="_socials_content_wrap_mxkpi_70",Ha="_socials_content_wrap_input_mxkpi_75",Xa="_aboutUs_mxkpi_84",Za="_aboutUs_add_image_mxkpi_87",Ga="_aboutUs_content_mxkpi_90",Ja="_aboutUs_image_wrap_mxkpi_95",Ya="_aboutUs_download_mxkpi_104",Qa="_aboutUs_text_mxkpi_112",Ka="_aboutUs_inputs_mxkpi_120",ei="_aboutUs_inputs_wrap_mxkpi_126",ti="_aboutUs_inputs_wrap_title_mxkpi_130",si="_aboutUs_inputs_wrap_input_mxkpi_136",oi="_aboutUs_inputs_wrap_textarea_mxkpi_144",ni="_aboutUs_btn_mxkpi_152",ri="_aboutUs_week_info_mxkpi_172",ai="_aboutUs_week_info_text_mxkpi_178",ii="_aboutUs_week_content_mxkpi_183",ci="_aboutUs_week_wrap_mxkpi_189",li="_aboutUs_week_wrap_colored_mxkpi_193",_i="_aboutUs_week_wrap_colored_active_mxkpi_203",di="_aboutUs_week_wrap_colored_last_mxkpi_206",pi="_aboutUs_week_wrap_day_mxkpi_209",ui="_aboutUs_week_wrap_schedule_mxkpi_215",mi="_aboutUs_week_wrap_input_mxkpi_221",hi="_custom_checkbox_mxkpi_241",bi="_custom_checkbox_input_mxkpi_247",gi="_custom_checkbox_box_mxkpi_252",vi="_custom_checkbox_box_icon_mxkpi_261",E={contacts:Ea,contacts_content:Ba,contacts_nav:Ua,contacts_nav_list:La,contacts_nav_link:za,contacts_nav_link_active:Fa,contacts_btn:Ma,socials:Ta,socials_title:Ra,socials_content:qa,socials_content_wrap:Va,socials_content_wrap_input:Ha,aboutUs:Xa,aboutUs_add_image:Za,aboutUs_content:Ga,aboutUs_image_wrap:Ja,aboutUs_download:Ya,aboutUs_text:Qa,aboutUs_inputs:Ka,aboutUs_inputs_wrap:ei,aboutUs_inputs_wrap_title:ti,aboutUs_inputs_wrap_input:si,aboutUs_inputs_wrap_textarea:oi,aboutUs_btn:ni,aboutUs_week_info:ri,aboutUs_week_info_text:ai,aboutUs_week_content:ii,aboutUs_week_wrap:ci,aboutUs_week_wrap_colored:li,aboutUs_week_wrap_colored_active:_i,aboutUs_week_wrap_colored_last:di,aboutUs_week_wrap_day:pi,aboutUs_week_wrap_schedule:ui,aboutUs_week_wrap_input:mi,custom_checkbox:hi,custom_checkbox_input:bi,custom_checkbox_box:gi,custom_checkbox_box_icon:vi},xi=({temporaryImageUrl:n,setTemporaryImageUrl:t})=>{He();const[s,o]=u.useState(null),[r,a]=u.useState(null);u.useEffect(()=>{const l=localStorage.getItem("savedLogoImageUrl");l&&(o(l),t(l))},[t]);const d=l=>{if(l.target.files&&l.target.files[0]){const i=l.target.files[0];a(i);const p=new FileReader;p.onloadend=()=>{const m=p.result;o(m),t(m),localStorage.setItem("savedLogoImageUrl",m)},p.readAsDataURL(i)}},_=()=>{document.getElementById("upload").click()};return e.jsxs("div",{className:E.aboutUs_add_image,children:[e.jsx("div",{className:E.aboutUs_image_wrap,children:s||n?e.jsx("img",{src:n||s,alt:"Uploaded",style:{width:"60px",height:"60px",objectFit:"contain"}}):e.jsx("a",{style:{cursor:"pointer"},onClick:()=>_(),children:e.jsx(F,{name:"PhotoIcon",width:33,height:33,color:"#C1C1C1"})})}),e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},id:"upload",onChange:d}),e.jsx("label",{htmlFor:"upload",className:E.aboutUs_download,children:"Загрузить"}),e.jsx("p",{className:E.aboutUs_text,children:"Оптимальный размер картинки 500x500px (прозрачный фон) максимальный размер 10MB"})]})};function be(){return be=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},be.apply(this,arguments)}const ut=(n,t)=>{const s={};for(const o in n)t.indexOf(o)===-1&&(s[o]=n[o]);return s},mt=G.createContext(null),Be=G.createContext(null),fi=n=>t=>G.createElement(Be.Consumer,null,s=>G.createElement(n,be({parent:s},t))),yi=(n=[])=>{const[t,s]=u.useState(!1),o=u.useRef(n),r=(()=>{const d=u.useContext(mt);if(d===null)throw new Error("Couldn't find Yandex.Maps API in the context. Make sure that hook useYMaps is inside <YMaps /> provider");return d})(),a=r.getApi();return u.useEffect(()=>{r.load().then(()=>Promise.all(o.current.map(r.loadModule))).then(()=>s(!0))},[]),t&&a?a:null},ki=()=>{},ji=["onLoad","onError","modules","apiLoader"];function ht(n,t=!1,s=[]){return o=>{const{width:r,height:a,modules:d=[],onLoad:_=ki}=o,l=yi(s.concat(d)),i=!t||!!l,p=ut(o,ji);return u.useEffect(()=>l?_(l):void 0,[l]),i?G.createElement(n,be({ymaps:l},p)):G.createElement("div",{style:{width:r,height:a}})}}const wi=typeof window<"u",et={lang:"ru_RU",load:"",ns:"",mode:"release"},Ci=n=>{const{version:t="2.1",enterprise:s=!1,query:o={lang:"ru_RU",load:"",ns:""},preload:r=!1,children:a}=n,d=u.useRef((_=>{const{query:l=et}=_,i=Date.now().toString(32),p=l.ns||"",m="__yandex-maps-api-onload__$$"+i,h="__yandex-maps-api-onerror__$$"+i,b=wi?window:{},x={};let D;const L=()=>p?b[p]:D,M=()=>{delete b[m],delete b[h]};return{load:()=>{if(L())return Promise.resolve(D);if(x[p])return x[p];const O={onload:m,onerror:h,...et,...l},W=Object.keys(O).map(S=>`${S}=${O[S]}`).join("&"),w=[`https://${_.enterprise?"enterprise.":""}api-maps.yandex.ru`,_.version,"?"+W].join("/");return x[p]=new Promise((S,k)=>{b[m]=v=>{M(),v.ready(()=>{D=v,S(v)})},b[h]=v=>{M(),k(v)},(v=>new Promise((A,C)=>{const j=document.createElement("script");j.type="text/javascript",j.onload=A,j.onerror=C,j.src=v,j.async=!0,document.head.appendChild(j)}))(w).catch(b[h])}),x[p]},getApi:L,loadModule:O=>new Promise((W,w)=>{D.modules.require(O).done(S=>{S.forEach(k=>{((v,A,C,j=!1)=>{const P=typeof A=="string"?A.split("."):A.slice();let z,Z=v;for(;P.length>1;)z=P.shift(),Z[z]||(Z[z]={}),Z=Z[z];const g=P[0];Z[g]=j===!0&&Z[g]||C})(D,O,k,!0)}),W(D)},w)})}})({version:t,enterprise:s,query:o,preload:r}));return u.useEffect(()=>{r&&d.current.load()},[d.current]),G.createElement(mt.Provider,{value:d.current},a)},tt=/^on(?=[A-Z])/;function V(n){return Object.keys(n).reduce((t,s)=>{if(tt.test(s)){const o=s.replace(tt,"").toLowerCase();t._events[o]=n[s]}else t[s]=n[s];return t},{_events:{}})}function ve(n,t,s){typeof s=="function"&&n.events.add(t,s)}function xe(n,t,s){typeof s=="function"&&n.events.remove(t,s)}function ke(n,t,s){Object.keys(Object.assign({},t,s)).forEach(o=>{t[o]!==s[o]&&(xe(n,o,t[o]),ve(n,o,s[o]))})}const bt=n=>"default"+n.charAt(0).toUpperCase()+n.slice(1);function J(n,t){return n[t]!==void 0||n[bt(t)]===void 0}function N(n,t,s){return(J(n,t)?n[t]:n[bt(t)])||s}function Y(n,t,s=null){if(n!==t){if(n&&("current"in n?n.current=null:typeof n=="function"&&n(null)),!t)return;"current"in t?t.current=s:typeof t=="function"&&t(s)}}function gt(n){const{width:t,height:s,style:o,className:r}=n;return o!==void 0||r!==void 0?Object.assign({},o&&{style:o},r&&{className:r}):{style:{width:t,height:s}}}class Ni extends G.Component{constructor(t){super(t),this.state={error:null,errorInfo:null}}componentDidCatch(t,s){const{onError:o=()=>{}}=this.props;o(t),this.setState({error:t,errorInfo:s})}render(){return this.state.error?null:this.props.children}}const vt=n=>({onError:t,...s})=>G.createElement(Ni,{onError:t},G.createElement(n,s));class Ce extends G.Component{constructor(){super(),this.instance=null,this.state={instance:null},this._parentElement=null,this._getRef=t=>{this._parentElement=t}}componentDidMount(){this.instance=Ce.mountObject(this._parentElement,this.props.ymaps.Map,this.props),this.setState({instance:this.instance})}componentDidUpdate(t){this.instance!==null&&Ce.updateObject(this.instance,t,this.props)}componentWillUnmount(){Ce.unmountObject(this.instance,this.props)}render(){const t=gt(this.props),s=V(this.props),o=ut(s,["_events","state","defaultState","options","defaultOptions","instanceRef","ymaps","children","width","height","style","className"]);return G.createElement(Be.Provider,{value:this.state.instance},G.createElement("div",be({ref:this._getRef},t,o),this.props.children))}static mountObject(t,s,o){const{instanceRef:r,_events:a}=V(o),d=new s(t,N(o,"state"),N(o,"options"));return Object.keys(a).forEach(_=>ve(d,_,a[_])),Y(null,r,d),d}static updateObject(t,s,o){const{_events:r,instanceRef:a}=V(o),{_events:d,instanceRef:_}=V(s);if(J(o,"state")){const l=N(s,"state",{}),i=N(o,"state",{});l.type!==i.type&&t.setType(i.type),l.behaviors!==i.behaviors&&(l.behaviors&&t.behaviors.disable(l.behaviors),i.behaviors&&t.behaviors.enable(i.behaviors)),i.zoom&&l.zoom!==i.zoom&&t.setZoom(i.zoom),i.center&&l.center!==i.center&&t.setCenter(i.center),i.bounds&&l.bounds!==i.bounds&&t.setBounds(i.bounds)}if(J(o,"options")){const l=N(s,"options"),i=N(o,"options",{});l!==i&&t.options.set(i)}N(s,"width")===N(o,"width")&&N(s,"height")===N(o,"height")||t.container.fitToViewport(),ke(t,d,r),Y(_,a,t)}static unmountObject(t,s){const{instanceRef:o,_events:r}=V(s);t!==null&&(Object.keys(r).forEach(a=>xe(t,a,r[a])),t.destroy(),Y(o))}}const xt=vt(ht(Ce,!0,["Map"]));xt.defaultProps={width:320,height:240};class Se extends G.Component{constructor(){super(),this.state={instance:null},this._parentElement=null,this._getRef=t=>{this._parentElement=t}}componentDidMount(){this._mounted=!0,this.props.ymaps.panorama.isSupported()&&Se.mountObject(this._parentElement,this.props.ymaps.panorama,this.props).then(t=>this._mounted&&this.setState({instance:t}))}componentDidUpdate(t){this.state.instance!==null&&Se.updateObject(this.state.instance,t,this.props)}componentWillUnmount(){this._mounted=!1,Se.unmountObject(this.state.instance,this.props)}render(){const t=gt(this.props);return G.createElement("div",be({ref:this._getRef},t))}static mountObject(t,s,o){const{instanceRef:r,_events:a}=V(o),d=N(o,"point"),_=N(o,"locateOptions"),l=N(o,"options");return new Promise((i,p)=>{s.locate(d,_).done(m=>{if(m.length>0){const h=new s.Player(t,m[0],l);Y(null,r,h),Object.keys(a).forEach(b=>ve(h,b,a[b])),i(h)}},p)})}static updateObject(t,s,o){const{_events:r,instanceRef:a}=V(o),{_events:d,instanceRef:_}=V(s);if(J(o,"options")){const l=N(s,"options"),i=N(o,"options");l!==i&&t.options.set(i)}if(J(o,"point")){const l=N(o,"point"),i=N(s,"point"),p=N(o,"locateOptions");l!==i&&t.moveTo(l,p)}ke(t,d,r),Y(_,a,t)}static unmountObject(t,s){const{instanceRef:o,_events:r}=V(s);t!==null&&(Object.keys(r).forEach(a=>xe(t,a,r[a])),Y(o))}}class Ne extends G.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const t=Ne.mountControl(this.props.ymaps.control[this.props.name],this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.instance!==null&&Ne.updateControl(this.instance,t,this.props)}componentWillUnmount(){Ne.unmountControl(this.instance,this.props)}render(){return G.createElement(Be.Provider,{value:this.state.instance},this.props.children)}static mountControl(t,s){const{instanceRef:o,parent:r,lazy:a,_events:d}=V(s),_=new t({data:N(s,"data"),options:N(s,"options"),state:N(s,"state"),mapTypes:N(s,"mapTypes"),lazy:a});if(Object.keys(d).forEach(l=>ve(_,l,d[l])),r&&r.controls&&typeof r.controls.add=="function")r.controls.add(_);else{if(!r||!r.add||typeof r.add!="function")throw new Error(`No parent found to mount ${s.name}`);r.add(_)}return Y(null,o,_),_}static updateControl(t,s,o){const{_events:r,instanceRef:a}=V(o),{_events:d,instanceRef:_}=V(s);if(J(o,"options")){const l=N(s,"options"),i=N(o,"options");l!==i&&t.options.set(i)}if(J(o,"data")){const l=N(s,"data"),i=N(o,"data");l!==i&&t.data.set(i)}if(J(o,"state")){const l=N(s,"state"),i=N(o,"state");l!==i&&t.state.set(i)}if(J(o,"mapTypes")){const l=N(s,"mapTypes"),i=N(o,"mapTypes");l!==i&&(t.removeAllMapTypes(),i.forEach(p=>t.addMapType(p)))}ke(t,d,r),Y(_,a,t)}static unmountControl(t,s){const{instanceRef:o,parent:r,_events:a}=V(s);t!==null&&(Object.keys(a).forEach(d=>xe(t,d,a[d])),r.controls&&typeof r.controls.remove=="function"?r.controls.remove(t):r.remove&&typeof r.remove=="function"&&r.remove(t),Y(o))}}var Ii=vt(fi(ht(n=>G.createElement(Ne,be({},n,{name:"ZoomControl"})),!0,["control.ZoomControl"])));class $e extends G.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const t=$e.mountObject(this.props.ymaps.Clusterer,this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.state.instance!==null&&$e.updateObject(this.instance,t,this.props)}componentWillUnmount(){$e.unmountObject(this.instance,this.props)}render(){return G.createElement(Be.Provider,{value:this.state.instance},this.props.children)}static mountObject(t,s){const{instanceRef:o,parent:r,_events:a}=V(s),d=new t(N(s,"options"));if(Object.keys(a).forEach(_=>ve(d,_,a[_])),r.geoObjects&&typeof r.geoObjects.add=="function")r.geoObjects.add(d);else{if(!r.add||typeof r.add!="function")throw new Error("No parent found to mount Clusterer");r.add(d)}return Y(null,o,d),d}static updateObject(t,s,o){const{_events:r,instanceRef:a}=V(o),{_events:d,instanceRef:_}=V(s);if(J(o,"options")){const l=N(s,"options"),i=N(o,"options");l!==i&&t.options.set(i)}ke(t,d,r),Y(_,a,t)}static unmountObject(t,s){const{instanceRef:o,parent:r,_events:a}=V(s);t!==null&&(Object.keys(a).forEach(d=>xe(t,d,a[d])),r.geoObjects&&typeof r.geoObjects.remove=="function"?r.geoObjects.remove(t):r.remove&&typeof r.remove=="function"&&r.remove(t),Y(o))}}class De extends G.Component{constructor(){super(),this.state={instance:null}}componentDidMount(){const t=De.mountObject(this.props.ymaps.ObjectManager,this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.instance!==null&&De.updateObject(this.instance,t,this.props)}componentWillUnmount(){De.unmountObject(this.instance,this.props)}render(){return null}static mountObject(t,s){const{instanceRef:o,parent:r,_events:a}=V(s),d=N(s,"options",{}),_=N(s,"features",{}),l=N(s,"filter",null),i=N(s,"objects",{}),p=N(s,"clusters",{}),m=new t(d);if(m.add(_||[]),m.setFilter(l),m.objects.options.set(i),m.clusters.options.set(p),Object.keys(a).forEach(h=>ve(m,h,a[h])),r.geoObjects&&typeof r.geoObjects.add=="function")r.geoObjects.add(m);else{if(!r.add||typeof r.add!="function")throw new Error("No parent found to mount ObjectManager");r.add(m)}return Y(null,o,m),m}static updateObject(t,s,o){const{_events:r,instanceRef:a}=V(o),{_events:d,instanceRef:_}=V(s);if(J(o,"options")){const l=N(s,"options"),i=N(o,"options");l!==i&&t.options.set(i)}if(J(o,"objects")){const l=N(s,"objects"),i=N(o,"objects");l!==i&&t.objects.options.set(i)}if(J(o,"clusters")){const l=N(s,"clusters"),i=N(o,"clusters");l!==i&&t.clusters.options.set(i)}if(J(o,"filter")){const l=N(s,"filter"),i=N(o,"filter");l!==i&&t.setFilter(i)}if(J(o,"features")){const l=N(s,"features"),i=N(o,"features");l!==i&&(t.remove(l),t.add(i))}ke(t,d,r),Y(_,a,t)}static unmountObject(t,s){const{instanceRef:o,parent:r,_events:a}=V(s);t!==null&&(Object.keys(a).forEach(d=>xe(t,d,a[d])),r.geoObjects&&typeof r.geoObjects.remove=="function"?r.geoObjects.remove(t):r.remove&&typeof r.remove=="function"&&r.remove(t),Y(o))}}class Oe extends G.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const{name:t,ymaps:s,dangerZone:o}=this.props,r=Oe.mountObject(o&&typeof o.modifyConstructor=="function"?o.modifyConstructor(s[t]):s[t],this.props);this.instance=r,this.setState({instance:r})}componentDidUpdate(t){this.instance!==null&&Oe.updateObject(this.instance,t,this.props)}componentWillUnmount(){Oe.unmountObject(this.instance,this.props)}render(){return null}static mountObject(t,s){const{instanceRef:o,parent:r,_events:a}=V(s),d=new t(N(s,"geometry"),N(s,"properties"),N(s,"options"));if(Object.keys(a).forEach(_=>ve(d,_,a[_])),r&&r.geoObjects&&typeof r.geoObjects.add=="function")r.geoObjects.add(d);else{if(!r||!r.add||typeof r.add!="function")throw new Error(`No parent found to mount ${s.name}`);r.add(d)}return Y(null,o,d),d}static updateObject(t,s,o){const{_events:r,instanceRef:a}=V(o),{_events:d,instanceRef:_}=V(s);if(J(o,"geometry")){const l=N(s,"geometry",{}),i=N(o,"geometry",{});Array.isArray(i)&&i!==l?Array.isArray(i[0])&&typeof i[1]=="number"?(t.geometry.setCoordinates(i[0]),t.geometry.setRadius(i[1])):t.geometry.setCoordinates(i):typeof i=="object"&&(i.coordinates!==l.coordinates&&t.geometry.setCoordinates(i.coordinates),i.radius!==l.radius&&t.geometry.setRadius(i.radius))}if(J(o,"properties")){const l=N(s,"properties"),i=N(o,"properties");l!==i&&t.properties.set(i)}if(J(o,"options")){const l=N(s,"options"),i=N(o,"options");l!==i&&t.options.set(i)}ke(t,d,r),Y(_,a,t)}static unmountObject(t,s){const{instanceRef:o,parent:r,_events:a}=V(s);t!==null&&(Object.keys(a).forEach(d=>xe(t,d,a[d])),r.geoObjects&&typeof r.geoObjects.remove=="function"?r.geoObjects.remove(t):r.remove&&typeof r.remove=="function"&&r.remove(t),Y(o))}}const Si=()=>{const n=u.useRef(null);return e.jsx(Ci,{children:e.jsx("div",{children:e.jsx(xt,{defaultState:{center:[41.32,69.27],zoom:12,controls:[]},width:500,instanceRef:t=>{n.current=t,t&&t.behaviors.disable("scrollZoom")},children:e.jsx(Ii,{options:{position:{bottom:20,right:20}}})})})})},$i=({temporarySocialPlatforms:n,setTemporarySocialPlatforms:t})=>{const s=(o,r)=>{t(a=>a.map(d=>d.id===r?{...d,text:o}:d))};return e.jsxs("div",{className:E.aboutUs_inputs,children:[n.map(o=>e.jsx("div",{className:E.aboutUs_inputs_wrap,children:o.type=="isTextarea"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:E.aboutUs_inputs_wrap_title,children:o.title}),e.jsx("textarea",{className:E.aboutUs_inputs_wrap_textarea,onChange:r=>s(r.target.value,o.id),value:o.text})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:E.aboutUs_inputs_wrap_title,children:o.title}),e.jsx("input",{className:E.aboutUs_inputs_wrap_input,type:o.type==="isPhone"?"number":o.type==="isEmail"?"email":"text",onChange:r=>s(r.target.value,o.id),value:o.text})]})},o.id)),e.jsx(Si,{})]})},Di=({id:n,checked:t,onChange:s})=>{const o=r=>{s(n,r.target.checked)};return e.jsxs("label",{className:E.custom_checkbox,children:[e.jsx("input",{className:E.custom_checkbox_input,type:"checkbox",checked:t,onChange:o}),e.jsx("span",{className:E.custom_checkbox_box,children:e.jsx(F,{name:"CheckIcon",width:18,height:18,className:E.custom_checkbox_box_icon})})]})},Oi=({temporaryContactsSchedule:n,setTemporaryContactsSchedule:t})=>{const s=_=>{const l=_.replace(/\D/g,"");return l.length<=2?l:`${l.slice(0,2)}:${l.slice(2,4)}`},o=(_,l,i,p)=>{if(!p.isActive)return;const m=s(i);t(h=>h.map(b=>b.id===_?{...b,workHours:{...b.workHours,[l]:m}}:b))},r=(_,l)=>{t(i=>i.map(p=>p.id===_?{...p,isActive:l,workHours:l?p.workHours:{start:"",end:""}}:p))},a=u.useRef({}),d=u.useRef({});return u.useEffect(()=>{n.forEach(_=>{var l;_.isActive&&a.current[_.id]&&!d.current[_.id]&&((l=a.current[_.id])==null||l.focus(),d.current[_.id]=!0)})},[n]),e.jsxs("div",{className:E.aboutUs_week,children:[e.jsxs("div",{className:E.aboutUs_week_info,children:[e.jsx("span",{className:E.aboutUs_week_info_text,children:"Рабочие дни:"}),e.jsx("span",{className:E.aboutUs_week_info_text,children:"Рабочие время:"})]}),e.jsx("div",{className:E.aboutUs_week_content,children:n.map((_,l)=>{const i=l===n.length-1,p=i&&_.isActive?E.aboutUs_week_wrap_colored_active:"";return e.jsxs("div",{className:E.aboutUs_week_wrap,children:[e.jsxs("div",{className:`
                  ${E.aboutUs_week_wrap_colored} 
                  ${_.isActive?E.aboutUs_week_wrap_colored_active:""} 
                  ${i?E.aboutUs_week_wrap_colored_last:""} 
                  ${p}
                `,children:[e.jsx("span",{className:E.aboutUs_week_wrap_day,children:_.day}),e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{className:E.aboutUs_week_wrap_schedule,children:"c:"}),e.jsx("input",{ref:m=>a.current[_.id]=m,className:E.aboutUs_week_wrap_input,type:"text",placeholder:"00:00",onChange:m=>o(_.id,"start",m.target.value,_),value:_.workHours.start}),e.jsx("span",{className:E.aboutUs_week_wrap_schedule,children:"до:"}),e.jsx("input",{className:E.aboutUs_week_wrap_input,type:"text",placeholder:"00:00",onChange:m=>o(_.id,"end",m.target.value,_),value:_.workHours.end})]})]}),e.jsx(Di,{id:_.id,checked:_.isActive,onChange:r})]},_.id)})})]})},Ai=()=>{const{contactsFormInputsArr:n,setContactsFormInputsArr:t,contactsSchedule:s,setContactsSchedule:o,setImageUrlLogo:r}=He(),[a,d]=u.useState(n),[_,l]=u.useState(""),[i,p]=u.useState(s),m=()=>{t(a),r(_);const h=i.map(b=>b.workHours&&b.workHours.start===""&&b.workHours.end===""?{...b,isActive:!1}:b);o(h)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:E.aboutUs,children:[e.jsx(xi,{temporaryImageUrl:_,setTemporaryImageUrl:l}),e.jsxs("div",{className:E.aboutUs_content,children:[e.jsx($i,{temporarySocialPlatforms:a,setTemporarySocialPlatforms:d}),e.jsx(Oi,{temporaryContactsSchedule:i,setTemporaryContactsSchedule:p})]})]}),e.jsx("button",{className:E.aboutUs_btn,onClick:m,children:"Сохранить"})]})};function Pi({width:n=78,color:t="white",backgroundOn:s="rgba(137, 250, 135, 1)",backgroundOff:o="rgba(193, 193, 193, 1)",speed:r=500,scale:a=1.1,status:d=!1,disabled:_=!1}){const l={width:`${n}px`,height:`${n/2-n/20}px`,background:d?s:o,borderRadius:`${n/2}px`,display:"flex",alignItems:"center",transition:`${r}ms`,cursor:"pointer"},i={background:`${t}`,height:`${n/2-n/20}px`,width:`${n/2-n/20}px`,border:`${n/25}px solid ${d?s:o}`,borderRadius:"50%",transition:`${r}ms`,transform:`scale(${a}) translateX(${d?"110%":"0"})`};return e.jsx("div",{style:l,children:e.jsx("div",{style:i})})}const Wi=({temporarySocialPlatforms:n,setTemporarySocialPlatforms:t})=>{const s=(r,a)=>{t(d=>d.map(_=>_.id===r?{..._,link:a,isSwitchActive:a===""?!1:_.isSwitchActive}:_))},o=(r,a)=>{r.link!==""&&t(d=>d.map(_=>_.id===a?{..._,isSwitchActive:!_.isSwitchActive,link:r.isSwitchActive?"":r.link}:_))};return e.jsx(e.Fragment,{children:n.map(r=>e.jsxs("div",{className:E.socials_content_wrap,children:[e.jsx("img",{src:r.icon,alt:r.alt}),e.jsx("input",{type:"text",className:E.socials_content_wrap_input,value:r.link||"",onChange:a=>s(r.id,a.target.value)}),e.jsx("div",{onClick:()=>o(r,r.id),children:e.jsx(Pi,{status:r.isSwitchActive})})]},r.id))})},Ei=()=>{const{socialPlatforms:n,setSocialPlatforms:t}=He(),[s,o]=u.useState(n),r=()=>{t(s)};return e.jsxs("div",{className:E.socials,children:[e.jsx("h3",{className:E.socials_title,children:"Соц-сети"}),e.jsx("div",{className:E.socials_content,children:e.jsx(Wi,{temporarySocialPlatforms:s,setTemporarySocialPlatforms:o})}),e.jsx("button",{className:E.contacts_btn,onClick:r,children:"Сохранить"})]})},Bi=[{id:K(),title:"Соц-сети",href:"/admin/settings/contacts"},{id:K(),title:"О нас",href:"/admin/settings/contacts/aboutUs"}];function Ui(){const n=te(),t=n.pathname;return e.jsx("div",{className:E.contacts,children:e.jsxs("div",{className:E.contacts_content,children:[e.jsx("div",{className:E.contacts_nav,children:e.jsx("ul",{className:E.contacts_nav_list,children:Bi.map(s=>e.jsx(H,{to:s.href,className:`${E.contacts_nav_link} ${s.href==t?E.contacts_nav_link_active:""}`,children:s.title},s.id))})}),t=="/admin/settings/contacts/aboutUs"&&e.jsx(Ai,{}),n.pathname=="/admin/settings/contacts"&&e.jsx(Ei,{})]})})}const Li="_radioLabel_dhgqa_1",zi="_radioLabel_selected_dhgqa_7",Fi="_radioLabel_radio_dhgqa_7",Mi="_radioLabel_input_dhgqa_15",Ti="_radioLabel_text_dhgqa_28",Ri="_storeBtn_dhgqa_34",qi="_storeBtn_active_dhgqa_48",Vi="_deliveryInput_text_dhgqa_53",Hi="_deliveryInput_wrap_dhgqa_58",Xi="_deliveryInput_wrap_input_dhgqa_66",Zi="_version3_dhgqa_74",Gi="_version3_title_dhgqa_79",Ji="_version3_block_dhgqa_85",Yi="_version3_block_top_dhgqa_90",Qi="_version3_block_top_title_dhgqa_102",Ki="_version3_block_top_arrow_dhgqa_106",ec="_version3_block_top_arrow_active_dhgqa_119",tc="_version3_block_dropdown_dhgqa_122",sc="_version3_block_dropdown_item_dhgqa_133",oc="_version3_block_dropdown_open_dhgqa_149",nc="_version3_block_onOff_dhgqa_173",rc="_version3_block_delivery_dhgqa_173",ac="_version3_pickedWrap_dhgqa_178",ic="_version3_pickedWrap_item_dhgqa_189",q={radioLabel:Li,radioLabel_selected:zi,radioLabel_radio:Fi,radioLabel_input:Mi,radioLabel_text:Ti,storeBtn:Ri,storeBtn_active:qi,deliveryInput_text:Vi,deliveryInput_wrap:Hi,deliveryInput_wrap_input:Xi,version3:Zi,version3_title:Gi,version3_block:Ji,version3_block_top:Yi,version3_block_top_title:Qi,version3_block_top_arrow:Ki,version3_block_top_arrow_active:ec,version3_block_dropdown:tc,version3_block_dropdown_item:sc,version3_block_dropdown_open:oc,version3_block_onOff:nc,version3_block_delivery:rc,version3_pickedWrap:ac,version3_pickedWrap_item:ic},_e=({id:n,value:t,checked:s,onChange:o,label:r})=>e.jsxs("label",{className:`${q.radioLabel} ${s?q.radioLabel_selected:""}`,children:[e.jsx("input",{type:"radio",id:n,value:t,checked:s,onChange:o,className:q.radioLabel_input}),e.jsx("span",{className:q.radioLabel_radio}),e.jsx("span",{className:q.radioLabel_text,children:r})]}),me=Dt()(Ot(At(n=>({deliveryStoresArr:[{id:K(),name:"Магазин1"},{id:K(),name:"Магазин2"},{id:K(),name:"Магазин3"}],setDeliveryStoresArr:t=>n({deliveryStoresArr:t}),selectedOption:"",setSelectedOption:t=>n({selectedOption:t}),selectedOrganizationOption:"",setSelectedOrganizationOption:t=>n({selectedOrganizationOption:t}),selectedStoreOption:"",setSelectedStoreOption:t=>n({selectedStoreOption:t}),lastLocation:"",setLastLocation:t=>n({lastLocation:t}),citiesDelivery:[{id:K(),city:"Ташкент"},{id:K(),city:"Бухара"},{id:K(),city:"Самарканд"}],setCitiesDelivery:t=>n({citiesDelivery:t}),pickedItemsDelivery:[],setPickedItemsDelivery:t=>n({pickedItemsDelivery:t}),inputSumVal:"",setInputSumVal:t=>n({inputSumVal:t}),inputFixedPrice:"",setInputFixedPrice:t=>n({inputFixedPrice:t}),openCountriesDropdown:!1,setOpenCountriesDropdown:t=>n({openCountriesDropdown:t})}),{name:"delivery-store",partialize:n=>({...n,citiesDelivery:void 0,pickedItemsDelivery:void 0,deliveryStoresArr:void 0})}))),Xe=(n,t)=>{const{setLastLocation:s}=me(),o=Ae();return te(),{handleChange:u.useCallback(a=>{const d=a.target.value;n(d);const _=t[d];_&&o(_),s(_)},[o,t,n])}},cc="_delivery_ud2pv_1",lc="_delivery_title_ud2pv_5",_c="_delivery_main_ud2pv_10",dc="_delivery_btn_ud2pv_16",pc="_deliveryOrg_ud2pv_28",uc="_deliveryOrg_radios_ud2pv_31",mc="_storeDelivery_ud2pv_38",hc="_storeDelivery_stores_ud2pv_41",bc="_storeDelivery_radios_ud2pv_47",ne={delivery:cc,delivery_title:lc,delivery_main:_c,delivery_btn:dc,deliveryOrg:pc,deliveryOrg_radios:uc,storeDelivery:mc,storeDelivery_stores:hc,storeDelivery_radios:bc},qe=({text:n,placeholder:t})=>{const{setInputSumVal:s}=me();return e.jsxs("div",{className:q.deliveryInput,children:[e.jsx("p",{className:q.deliveryInput_text,children:n}),e.jsxs("div",{className:q.deliveryInput_wrap,children:[e.jsx("input",{className:q.deliveryInput_wrap_input,type:"number",placeholder:t,onChange:o=>s(o.target.value)}),e.jsx("span",{className:q.deliveryInput_wrap_input_text,children:"UZS"})]})]})};function ft({pickedCities:n,setPickedCities:t}){const{citiesDelivery:s,openCountriesDropdown:o,setCitiesDelivery:r,setOpenCountriesDropdown:a}=me(),d=l=>{n.some(i=>i.id===l.id)||t([...n,l]),r(s.filter(i=>i.id!==l.id)),a(!1)},_=(l,i)=>{i.stopPropagation(),r([...s,l]),t(n.filter(p=>p.id!==l.id))};return e.jsxs("div",{className:q.version3,children:[e.jsx("span",{className:q.version3_title,children:"Города"}),e.jsxs("div",{className:q.version3_block,children:[e.jsxs("div",{className:`${n.length>0?q.version3_pickedWrap:q.version3_block_top}`,onClick:()=>a(!o),children:[n.length>0?n.map(l=>e.jsxs("div",{className:q.version3_pickedWrap_item,children:[e.jsx("h2",{className:q.version3_block_top_title,children:l.city}),e.jsx("button",{onClick:i=>_(l,i),children:e.jsx(F,{name:"XMarkIcon",width:15})})]},l.id)):e.jsx("h2",{className:q.version3_block_top_title,children:"Выберите город"}),e.jsx("button",{className:q.version3_block_top_btn,onClick:()=>a(!o),children:e.jsx("div",{className:`${q.version3_block_top_arrow} ${o&&s.length>0?q.version3_block_top_arrow_active:""}`,children:e.jsx(F,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${q.version3_block_dropdown} ${o&&s.length>0?q.version3_block_dropdown_open:""}`,children:s==null?void 0:s.map(l=>e.jsx("span",{className:q.version3_block_dropdown_item,onClick:()=>d(l),children:l.city},l.id))})]})]})}const gc=()=>{const{setOpenCountriesDropdown:n}=me(),[t,s]=u.useState([]);return u.useEffect(()=>{n(!1)},[]),e.jsxs("div",{children:[e.jsx(qe,{text:"Минимальная сумма заказа",placeholder:"0"}),e.jsx(ft,{pickedCities:t,setPickedCities:s})]})},vc=()=>{const{setOpenCountriesDropdown:n}=me(),[t,s]=u.useState([]);return u.useEffect(()=>{n(!1)},[]),e.jsxs("div",{children:[e.jsx(qe,{text:"Минимальная сумма заказа",placeholder:"0"}),e.jsx(qe,{text:"Цена за доставку",placeholder:"0"}),e.jsx(ft,{pickedCities:t,setPickedCities:s})]})},xc=()=>e.jsx("div",{children:"FlexibleDelivery"}),fc=()=>e.jsx("div",{children:"OwnVersionDelivery"}),yc=()=>{const{selectedOrganizationOption:n,lastLocation:t,setSelectedOrganizationOption:s}=me(),o=te(),r={freeDelivery:"/admin/settings/delivery/forOrganization/freeDelivery",fixedPriceDelivery:"/admin/settings/delivery/forOrganization/fixedPriceDelivery",flexibleDelivery:"/admin/settings/delivery/forOrganization/flexibleDelivery",ownVersionDelivery:"/admin/settings/delivery/forOrganization/ownVersionDelivery"},{handleChange:a}=Xe(s,r);return e.jsxs("div",{className:ne.deliveryOrg,children:[e.jsx("h4",{className:ne.delivery_title,children:"Выберите вид доставки"}),e.jsxs("div",{className:ne.deliveryOrg_radios,children:[e.jsx(_e,{id:"freeDelivery",value:"freeDelivery",checked:n==="freeDelivery",onChange:a,label:"Бесплатная доставка"}),e.jsx(_e,{id:"fixedPriceDelivery",value:"fixedPriceDelivery",checked:n==="fixedPriceDelivery",onChange:a,label:"Фиксированная цена"}),e.jsx(_e,{id:"flexibleDelivery",value:"flexibleDelivery",checked:n==="flexibleDelivery",onChange:a,label:"Гибкая доставка"}),e.jsx(_e,{id:"ownVersionDelivery",value:"ownVersionDelivery",checked:n==="ownVersionDelivery",onChange:a,label:"Свой вариант"})]}),e.jsxs("div",{children:[o.pathname==="/admin/settings/delivery/forOrganization/freeDelivery"&&e.jsx(gc,{}),o.pathname==="/admin/settings/delivery/forOrganization/fixedPriceDelivery"&&e.jsx(vc,{}),o.pathname==="/admin/settings/delivery/forOrganization/flexibleDelivery"&&e.jsx(xc,{}),o.pathname==="/admin/settings/delivery/forOrganization/ownVersionDelivery"&&e.jsx(fc,{})]})]})},kc=({text:n,isActive:t,onClick:s})=>e.jsx("button",{className:`${q.storeBtn} ${t?q.storeBtn_active:""}`,onClick:s,children:n}),jc=()=>e.jsx("div",{children:"StoreFreeDelivery"}),wc=()=>e.jsx("div",{children:"StoreFixedPriceDelivery"}),Cc=()=>e.jsx("div",{children:"StoreFlexibleDelivery"}),Nc=()=>e.jsx("div",{children:"StoreOwnVersionDelivery"}),Ic=()=>{const{deliveryStoresArr:n,selectedStoreOption:t,lastLocation:s,setSelectedStoreOption:o}=me(),[r,a]=u.useState(null),d=te(),_={freeDelivery:"/admin/settings/delivery/forStore/storeFreeDelivery",fixedPriceDelivery:"/admin/settings/delivery/forStore/storeFixedPriceDelivery",flexibleDelivery:"/admin/settings/delivery/forStore/storeFlexibleDelivery",ownVersionDelivery:"/admin/settings/delivery/forStore/storeOwnVersionDelivery"},{handleChange:l}=Xe(o,_),i=p=>{a(p),d.pathname="/admin/settings/delivery/forStore/storeFreeDelivery",o("freeDelivery")};return e.jsxs("div",{className:ne.storeDelivery,children:[e.jsx("h4",{className:ne.delivery_title,children:"Выберите магазин "}),e.jsx("div",{className:ne.storeDelivery_stores,children:n.map(p=>e.jsx(kc,{text:p.name,isActive:p.id===r,onClick:()=>i(p.id)},p.id))}),e.jsxs("div",{children:[e.jsx("h4",{className:ne.delivery_title,children:"Выберите вид доставки"}),e.jsxs("div",{className:ne.storeDelivery_radios,children:[e.jsx(_e,{id:"freeDelivery",value:"freeDelivery",checked:t==="freeDelivery",onChange:l,label:"Бесплатная доставка"}),e.jsx(_e,{id:"fixedPriceDelivery",value:"fixedPriceDelivery",checked:t==="fixedPriceDelivery",onChange:l,label:"Фиксированная цена"}),e.jsx(_e,{id:"flexibleDelivery",value:"flexibleDelivery",checked:t==="flexibleDelivery",onChange:l,label:"Гибкая доставка"}),e.jsx(_e,{id:"ownVersionDelivery",value:"ownVersionDelivery",checked:t==="ownVersionDelivery",onChange:l,label:"Свой вариант"})]})]}),e.jsxs("div",{children:[d.pathname==="/admin/settings/delivery/forStore/storeFreeDelivery"&&e.jsx(jc,{}),d.pathname==="/admin/settings/delivery/forStore/storeFixedPriceDelivery"&&e.jsx(wc,{}),d.pathname==="/admin/settings/delivery/forStore/storeFlexibleDelivery"&&e.jsx(Cc,{}),d.pathname==="/admin/settings/delivery/forStore/storeOwnVersionDelivery"&&e.jsx(Nc,{})]})]})},Sc=()=>{const{selectedOption:n,setSelectedOption:t,deliveryStoresArr:s,setDeliveryStoresArr:o,lastLocation:r,inputSumVal:a,pickedItemsDelivery:d,citiesDelivery:_}=me(),l=te(),i=Ae(),p={forOrganization:"/admin/settings/delivery/forOrganization",forStore:"/admin/settings/delivery/forStore"},{handleChange:m}=Xe(t,p);u.useEffect(()=>{console.log("deliveryStoresArr",s)},[s]),u.useEffect(()=>{i(r)},[r]);const h=()=>{if(l.pathname==="/admin/settings/delivery/forOrganization/freeDelivery"){const b=s.map(x=>({...x,inputSumVal:a,pickedItemsDelivery:d}));o(b)}};return e.jsxs("div",{className:ne.delivery,children:[e.jsx("h3",{className:ne.delivery_title,children:"Выберите версию настройки доставки"}),e.jsxs("div",{className:ne.delivery_main,children:[e.jsx(_e,{id:"forOrganization",value:"forOrganization",checked:n==="forOrganization",onChange:m,label:"Для организации"}),e.jsx(_e,{id:"forStore",value:"forStore",checked:n==="forStore",onChange:m,label:"Для каждого магазина"})]}),l.pathname.startsWith("/admin/settings/delivery/forOrganization")&&e.jsx(yc,{}),l.pathname.startsWith("/admin/settings/delivery/forStore")&&e.jsx(Ic,{}),e.jsx("button",{className:ne.delivery_btn,onClick:()=>h(),children:"Сохранить"})]})},$c=[{id:"1",label:"Модули",href:"/admin/settings/modules"},{id:"2",label:"Шаблоны",href:"/admin/settings/templates"},{id:"3",label:"Категории",href:"/admin/settings/categories"},{id:"4",label:"Баннер",href:"/admin/settings/banner"},{id:"5",label:"Основные",href:"/admin/settings/contacts"},{id:"6",label:"Доставка",href:"/admin/settings/delivery"}];function Dc(){const t=te().pathname;return e.jsx("div",{className:c.settings,children:e.jsxs("div",{className:c.settings_content,children:[e.jsx("div",{className:c.settings_content_top,children:e.jsx("ul",{className:c.settings_tools,children:$c.map(s=>e.jsx("li",{children:e.jsx(H,{to:s.href,className:`${c.settings_tools_link} ${t.startsWith(s.href)?c.settings_tools_link_active:""}`,children:s.label})},s.id))})}),t=="/admin/settings/modules"&&e.jsx(Pn,{}),t=="/admin/settings/templates"&&e.jsx(Wn,{}),t=="/admin/settings/categories"&&e.jsx(lr,{}),t.startsWith("/admin/settings/banner")&&e.jsx(Wa,{}),t=="/admin/settings/contacts"&&e.jsx(Ui,{}),t.startsWith("/admin/settings/delivery")&&e.jsx(Sc,{})]})})}const st=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Статус"},{id:4,title:"Акции"},{id:5,title:""}];function Oc(){const[n,t]=u.useState(""),[s]=u.useState(1),[o]=u.useState(10),[r,a]=u.useState({status:!1,message:""}),[d,_]=u.useState([]);u.useEffect(()=>{n||(_([]),a({status:!1,message:""}))},[n]);async function l(i){i.preventDefault();const p=Pe.get("multi-store");try{const h=await(await ae.get(`nomenclatures?multiStoreId=${p}&name=${n}&page=${s}&perPage=${o}`)).data.data;console.log("data",h),h.length>0?(_([...h]),a({status:!1,message:""})):(_([]),a({status:!0,message:"Совпадений не найдено"}))}catch(m){console.log("Ошибка произошла при поиске продуктов на складе",m)}}return e.jsxs("div",{className:c.addingWrapper,children:[e.jsxs("form",{action:"",className:c.addingWrapper_form,onSubmit:i=>l(i),children:[e.jsxs("div",{className:c.addingWrapper_search,children:[e.jsx("input",{type:"text",className:c.addingWrapper_search_input,placeholder:"Поиск товара",onChange:i=>t(i.target.value),value:n}),e.jsx(F,{className:c.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:c.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:c.addingWrapper_table,children:[e.jsx("thead",{className:c.addingWrapper_thead,children:e.jsx("tr",{className:c.addingWrapper_thead_tr,children:st.map(i=>e.jsx("th",{className:c.addingWrapper_thead_th,children:i.title},i.id))})}),e.jsx("tbody",{className:c.addingWrapper_tbody,children:d==null?void 0:d.map(i=>e.jsxs("tr",{className:c.addingWrapper_tbody_tr,children:[st.map(p=>{var m;return e.jsxs("td",{className:c.addingWrapper_tbody_td,children:[p.title=="Наименование"?e.jsx("span",{children:(m=i==null?void 0:i.name)==null?void 0:m.ru}):"",p.title=="Штрих-код"?e.jsx("span",{children:i.mxik}):"",p.title=="Статус"?e.jsx("span",{children:"Статус"}):""]},p.id)}),e.jsx("td",{className:c.addingWrapper_tbody_td,children:e.jsx(H,{to:`/admin/stock-product/${i.id}`,className:c.addingWrapper_tbody_add,children:"Добавить"})})]},i==null?void 0:i.mxik))})]}),r.status&&e.jsx("span",{className:c.addingWrapper_table_error,children:r.message})]})}const ot=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Статус"},{id:4,title:"Акции"}];function Ac(){const[n,t]=u.useState(""),[s,o]=u.useState({status:!1,message:""}),[r,a]=u.useState([]),[d]=u.useState(1),[_]=u.useState(10);u.useEffect(()=>{n||(a([]),o({status:!1,message:""}))},[n]);async function l(){const h=Pe.get("multi-store");try{console.log(222,"searchText",n);const x=(await ae.get(`web-nomenclatures?multiStoreId=${h}&title=${n}&page=${d}&perPage=${_}`)).data.data;console.log(999,"data",x),x.length>0?(a([...x]),o({status:!1,message:""})):(a([]),o({status:!0,message:"Совпадений не найдено"}))}catch(b){console.log("Ошибка произошла при поиске продуктов на вебсайте по заголовку",b)}}async function i(h,b){h.preventDefault();try{const x=await ae.patch(`web-nomenclatures/${b}`,{isActive:!1});t(""),a([]),console.log("Продукт успешно отключен с веб сайта",x)}catch(x){console.log("Ошибка произошла при удалении продукта с вебсайта",x)}}async function p(h,b){h.preventDefault();try{const x=await ae.patch(`web-nomenclatures/${b}`,{isActive:!0});t(""),a([]),console.log("Продукт успешно включен на веб сайта",x)}catch(x){console.log("Ошибка произошла при удалении продукта с вебсайта",x)}}const m=async h=>{h.preventDefault(),l()};return e.jsxs("div",{className:c.addingWrapper,children:[e.jsxs("form",{action:"",className:c.addingWrapper_form,onSubmit:h=>m(h),children:[e.jsxs("div",{className:c.addingWrapper_search,children:[e.jsx("input",{type:"text",className:c.addingWrapper_search_input,placeholder:"Поиск товара",onChange:h=>t(h.target.value),value:n}),e.jsx(F,{className:c.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:c.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:c.addingWrapper_table,children:[e.jsx("thead",{className:c.addingWrapper_thead,children:e.jsxs("tr",{className:c.addingWrapper_thead_tr,children:[ot.map(h=>e.jsx("th",{className:c.addingWrapper_thead_th,children:h.title},h.id)),e.jsx("th",{className:c.addingWrapper_thead_th})]})}),e.jsx("tbody",{className:c.addingWrapper_tbody,children:r==null?void 0:r.map(h=>e.jsxs("tr",{className:c.addingWrapper_tbody_tr,children:[ot.map(b=>e.jsxs("td",{className:c.addingWrapper_tbody_td,children:[b.title=="Наименование"?e.jsx("span",{children:h.title}):"",b.title=="Статус"?e.jsx("span",{children:"Статус"}):""]},b.id)),e.jsx("td",{className:c.addingWrapper_tbody_td,children:e.jsxs("div",{className:c.addingWrapper_tbody_buttons,children:[h.isActive&&e.jsx(H,{to:"#",className:c.addingWrapper_tbody_del,onClick:b=>i(b,h.id),children:"Отключить"}),!h.isActive&&e.jsx(H,{to:"#",className:c.addingWrapper_tbody_del,onClick:b=>p(b,h.id),children:"Включить"}),e.jsx(H,{to:`/admin/website-product/${h.id}`,className:c.addingWrapper_tbody_add,children:"Изменить"})]})})]},h==null?void 0:h.id))})]}),s.status&&e.jsx("span",{className:c.addingWrapper_table_error,children:s.message})]})}const Pc=[{id:1,title:"На складе",href:"/admin/product/adding/stock"},{id:2,title:"На сайте",href:"/admin/product/adding/website"}];function Wc(){const t=te().pathname;return e.jsxs("div",{className:c.products,children:[e.jsx("div",{className:c.products_buttons,children:Pc.map(s=>e.jsx(H,{to:s.href,className:`${c.products_btn} ${s.href==t?c.products_btn_active:""}`,children:s.title},s.id))}),t=="/admin/product/adding/stock"&&e.jsx(Oc,{}),t=="/admin/product/adding/website"&&e.jsx(Ac,{})]})}const Ec=[{id:1,title:"Добавление",href:"/addingProducts"},{id:2,title:"Добавление на сайт",href:"/admin/product/adding"},{id:3,title:"Списание",href:"/admin/product/write-off"}];function Bc(){const t=te().pathname;return e.jsxs("div",{className:c.products,children:[e.jsx("div",{className:c.products_buttons,children:Ec.map(s=>e.jsx(H,{to:s.href,className:`${c.products_btn} ${t.startsWith(`${s.href}`)||t.startsWith("/admin/product-item")?c.products_btn_active:""}`,children:s.title},s.id))}),t.startsWith("/admin/product/adding")&&e.jsx(Wc,{})]})}const Uc="_user_title_1uizv_1",Lc="_user_list_1uizv_6",zc="_user_list_link_1uizv_12",Fc="_user_list_link_active_1uizv_26",Mc="_user_form_1uizv_30",Tc="_user_form_btn_1uizv_35",Rc="_user_form_wrap_1uizv_51",qc="_user_form_input_1uizv_57",Vc="_user_form_icon_1uizv_65",Hc="_user_table_1uizv_68",Xc="_user_table_tbody_1uizv_71",Zc="_user_table_tr_1uizv_74",Gc="_user_table_th_1uizv_77",Jc="_user_table_td_1uizv_85",Yc="_user_table_btns_1uizv_89",Qc="_user_table_btn_1uizv_89",Kc="_user_table_btn_blocked_1uizv_107",el="_modal_1uizv_111",tl="_modal_active_1uizv_120",sl="_modal_wrap_1uizv_123",ol="_modal_wrap_header_1uizv_131",nl="_modal_wrap_stores_1uizv_143",rl="_modal_wrap_stores_text_1uizv_165",al="_modal_btns_1uizv_169",il="_modal_btn_1uizv_169",cl="_modal_content_1uizv_193",ll="_modal_content_text_1uizv_197",_l="_versions_1uizv_206",dl="_versions_block_1uizv_211",pl="_versions_block_top_1uizv_216",ul="_versions_block_top_title_1uizv_226",ml="_versions_block_top_arrow_1uizv_230",hl="_versions_block_top_arrow_active_1uizv_239",bl="_versions_block_dropdown_1uizv_242",gl="_versions_block_dropdown_item_1uizv_257",vl="_versions_block_dropdown_open_1uizv_268",xl="_shop_header_1uizv_275",fl="_shop_header_title_1uizv_282",I={user_title:Uc,user_list:Lc,user_list_link:zc,user_list_link_active:Fc,user_form:Mc,user_form_btn:Tc,user_form_wrap:Rc,user_form_input:qc,user_form_icon:Vc,user_table:Hc,user_table_tbody:Xc,user_table_tr:Zc,user_table_th:Gc,user_table_td:Jc,user_table_btns:Yc,user_table_btn:Qc,user_table_btn_blocked:Kc,modal:el,modal_active:tl,modal_wrap:sl,modal_wrap_header:ol,modal_wrap_stores:nl,modal_wrap_stores_text:rl,modal_btns:al,modal_btn:il,modal_content:cl,modal_content_text:ll,versions:_l,versions_block:dl,versions_block_top:pl,versions_block_top_title:ul,versions_block_top_arrow:ml,versions_block_top_arrow_active:hl,versions_block_dropdown:bl,versions_block_dropdown_item:gl,versions_block_dropdown_open:vl,shop_header:xl,shop_header_title:fl},Ze=({headers:n})=>e.jsx("thead",{className:I.user_table_thead,children:e.jsx("tr",{className:I.user_table_tr,children:n.map(t=>e.jsx("th",{className:I.user_table_th,children:t.title},t.id))})}),Ge=()=>{const[n,t]=u.useState(""),{setUserSearch:s}=oe(),o=r=>{r.preventDefault(),s(n)};return u.useEffect(()=>{n==""&&s("")},[n]),e.jsxs("form",{action:"",className:I.user_form,children:[e.jsxs("div",{className:I.user_form_wrap,children:[e.jsx("input",{type:"text",className:I.user_form_input,placeholder:"Поиск пользователей",onChange:r=>t(r.target.value),value:n}),e.jsx(F,{className:I.user_form_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:I.user_form_btn,onClick:r=>o(r),children:"Найти"})]})},Je=({arr:n,showStore:t})=>{const{usersList:s,userSearch:o,openModalAdmin:r,openAppointUser:a,shopListAdmin:d,setOpenAppointUser:_,setOpenModalAdmin:l,setUsersList:i,setEditUserAdmin:p,setShopListDropdownAdmin:m,setCloseBlock:h,setFilteredShopListAdmin:b}=oe(),D=te().pathname,[L,M]=u.useState([]);u.useEffect(()=>{let k=n;D==="/clients"?k=n.filter(v=>v.isUser):D==="/employees"&&(k=n.filter(v=>!v.isUser)),k=k==null?void 0:k.filter(v=>v.name.toLowerCase().includes(o.toLowerCase())),M(k)},[o,s,n,D]);const O=k=>{const v=s.map(A=>A.id===k?{...A,isBlocked:!A.isBlocked}:A);i(v)},W=k=>{l(!0),h(!0);const v=s.find(j=>j.id==k),A=[{id:K(),title:"Магазин 1",order:1},{id:K(),title:"Магазин 2",order:2},{id:K(),title:"Магазин 3",order:3}],C=A.filter(j=>!(v!=null&&v.shopList.some(P=>P.title===j.title)));console.log("editUser",v),console.log("shopListAdminArr",A),v&&(m(v.shopList),p(v),b(C))},w=k=>{_(!0),h(!0),m([]),b(d);const v=s.find(A=>A.id==k);v&&p(v)},S=r||a;return e.jsx(e.Fragment,{children:e.jsx("tbody",{className:I.user_table_tbody,children:L.map(k=>e.jsxs("tr",{children:[e.jsx("td",{className:I.user_table_td,children:k.name}),e.jsx("td",{className:I.user_table_td,children:t?k.shopList.map(v=>e.jsxs("p",{children:[v.title," ",`(${v.position})`]},v.id)):e.jsx("p",{children:k.isEmployes?"сотрудник":"пользователь"})}),e.jsx("td",{className:I.user_table_td,children:t?"Админ 1":k.registerDate}),e.jsx("td",{className:I.user_table_btns,children:k!=null&&k.isUser?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`${I.user_table_btn} ${k.isBlocked?I.user_table_btn_blocked:""}`,onClick:()=>O(k.id),children:k.isBlocked?"Разблокировать":"Заблокировать"}),e.jsx("button",{className:I.user_table_btn,onClick:()=>w(k.id),disabled:S,children:"Назначить"})]}):e.jsx("button",{className:I.user_table_btn,onClick:()=>W(k.id),style:{background:"#B5FFC7"},disabled:S,children:"Изменить"})})]},k.id))})})};function nt({color:n="black",className:t,header:s,isEnabled:o,dropdownItem:r,margin:a,versionList:d,closeBlock:_}){const{shopListAdmin:l,shopListDropdownAdmin:i,filteredShopListAdmin:p,setShopListDropdownAdmin:m,setShopListAdmin:h}=oe(),[b,x]=u.useState("Выберете должность"),[D,L]=u.useState("Выберете магазин"),[M,O]=u.useState(!1);u.useEffect(()=>{r!=null&&r.position?x(r.position):x("Выберете должность")},[r==null?void 0:r.position]),u.useEffect(()=>{_||O(!1)},[_]);const W=(v,A)=>{if(r){x(v.title);const C=i.filter(P=>P.title==r.title),j=i.findIndex(P=>P.title==r.title);C[0].position=v.title,i.splice(j,1,C[0]),m(i)}else L(v.title);if(o&&!i.some(C=>C.title==v.title)){x("Выберете должность");const C={...v,originalIndex:A};m([...i,C]),h(p.filter((j,P)=>P!==A))}O(!1)},w=v=>{const A=i.filter(C=>C.id!==v.id);if(m(A),v.originalIndex!==void 0){const C=[...l];C.splice(v.originalIndex,0,v),h(C)}else{const C=[...p,v].sort((j,P)=>j.order!==void 0&&P.order!==void 0?j.order-P.order:0);h(C),console.log("arr",C)}},S=()=>{O(!M)};function k(v,A){return v.order&&A.order&&(v==null?void 0:v.order)>(A==null?void 0:A.order)?1:-1}return e.jsx("div",{className:t??I.versions,style:{marginBottom:a},children:e.jsxs("div",{className:I.versions_block,children:[s&&e.jsxs("div",{className:I.shop_header,children:[e.jsx("p",{className:I.shop_header_title,children:r==null?void 0:r.title}),e.jsx("button",{onClick:()=>r&&w(r),children:e.jsx(F,{name:"XMarkIcon",width:16})})]}),e.jsxs("div",{className:I.versions_block_top,children:[e.jsx("h2",{className:I.versions_block_top_title,style:{color:n},children:r?b:D}),e.jsx("button",{className:I.versions_block_top_btn,onClick:()=>S(),children:e.jsx("div",{className:`${I.versions_block_top_arrow} ${M?I.versions_block_top_arrow_active:""}`,children:e.jsx(F,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${I.versions_block_dropdown} ${M?I.versions_block_dropdown_open:""}`,children:d==null?void 0:d.sort(k).map((v,A)=>e.jsx("span",{className:I.versions_block_dropdown_item,onClick:()=>W(v,A),children:v.title},A))})]})})}const Ye=()=>{const{currentShopModal:n,shopListDropdownAdmin:t,shopListPositionAdmin:s,isEnabled:o,openModalAdmin:r,editUserAdmin:a,shopListAdmin:d,usersList:_,openAppointUser:l,closeBlock:i,filteredShopListAdmin:p,setCurrentShopModal:m,setShopListPositionAdmin:h,setCurrentShopPosition:b,setOpenModalAdmin:x,setShopListAdmin:D,setUsersList:L,setOpenAppointUser:M,setCloseBlock:O,setFilteredShopListAdmin:W}=oe();u.useEffect(()=>{},[p]);const w=()=>{const C=_.findIndex(j=>j.id==(a==null?void 0:a.id));a&&t.every(j=>"position"in j)&&(a.shopList=t,_.splice(C,1,a),L(_),D(d),console.log("filteredShopListAdmin",p)),console.log("shopListAdmin",d),v(),t.length==0&&S()},S=()=>{if(a){a.isUser=!0,a.isEmployes=!1,a.shopList=[];const C={id:K(),title:"",position:"пользователь"};a.shopList=[{...C}]}v()},k=()=>{const C=_.findIndex(j=>j.id==(a==null?void 0:a.id));if(a&&(a.shopList=t,_.splice(C,1,a),a.isUser=!1,a.isEmployes=!0,L(_),M(!1),!(a!=null&&a.shopList.some(j=>"position"in j)))){a.isUser=!0,a.shopList=[];const j={id:K(),title:"",position:"пользователь"};a.shopList=[{...j}]}},v=()=>{D(d),W([]),x(!1),M(!1),O(!1),console.log("close modal")},A=u.useRef(null);return u.useEffect(()=>{const C=j=>{var P;A.current&&!((P=A==null?void 0:A.current)!=null&&P.contains(j.target))&&v()};return r||l?document.addEventListener("mousedown",C):document.removeEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[r,l]),e.jsx("div",{className:`${I.modal} ${r?I.modal_active:""} ${l?I.modal_active:""}`,children:e.jsxs("div",{ref:A,className:I.modal_wrap,children:[e.jsxs("div",{className:I.modal_wrap_header,children:[e.jsx("h3",{children:"Редактирование должность"}),e.jsx("button",{onClick:()=>v(),children:e.jsx(F,{name:"XMarkIcon",width:24})})]}),e.jsxs("div",{className:I.modal_content,children:[e.jsxs("p",{className:I.modal_content_text,children:["Логин: ",a==null?void 0:a.name]}),e.jsxs("p",{className:I.modal_content_text,children:["Статус:",a==null?void 0:a.shopList.map(C=>e.jsx("span",{children:C.position},C.id))]}),e.jsx(nt,{color:"#717171",setVersionList:D,currentVersion:n,setCurrentVersion:m,isEnabled:o,versionList:p||d,closeBlock:i}),e.jsxs("div",{className:I.modal_wrap_stores,children:[e.jsx("p",{className:I.modal_wrap_stores_text,children:"Выбрано магазинов: "}),t==null?void 0:t.map((C,j)=>e.jsx(nt,{dropdownItem:C,margin:"12px",color:"#717171",versionList:s,setVersionList:h,setCurrentVersion:b,header:!0,closeBlock:i},j))]}),e.jsx("div",{className:I.modal_btns,children:l?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:I.modal_btn,onClick:()=>v(),style:{background:"#fff"},children:"Отмена"}),e.jsx("button",{className:I.modal_btn,onClick:()=>k(),children:"Сохранить"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:I.modal_btn,onClick:()=>S(),children:"Уволить"}),e.jsx("button",{className:I.modal_btn,onClick:()=>w(),children:"Сохранить"})]})})]})]})})},yl=[{id:"1",title:"Логин"},{id:"2",title:"Группа"},{id:"3",title:"Дата регистрации"},{id:"4",title:""}],kl=()=>{const{usersList:n}=oe();return e.jsxs(e.Fragment,{children:[e.jsx(Ge,{}),e.jsxs("table",{className:I.user_table,children:[e.jsx(Ze,{headers:yl}),e.jsx(Je,{arr:n})]}),e.jsx(Ye,{})]})},jl=[{id:1,title:"Логин"},{id:2,title:"Группа"},{id:3,title:"Дата регистрации"},{id:4,title:""}],wl=()=>{const{usersList:n}=oe(),t=n.filter(s=>s.isUser==!0);return e.jsxs(e.Fragment,{children:[e.jsx(Ge,{}),e.jsxs("table",{className:I.user_table,children:[e.jsx(Ze,{headers:jl}),e.jsx(Je,{arr:t})]}),e.jsx(Ye,{})]})},Cl=[{id:1,title:"Логин"},{id:2,title:"Магазины"},{id:3,title:"Кто назначил"},{id:4,title:"Дата назначение"}],Nl=()=>{const{usersList:n}=oe(),t=n.filter(s=>s.isUser!==!0);return e.jsxs(e.Fragment,{children:[e.jsx(Ge,{}),e.jsxs("table",{className:I.user_table,children:[e.jsx(Ze,{headers:Cl}),e.jsx(Je,{arr:t,showStore:!0})]}),e.jsx(Ye,{})]})},Il=[{id:1,title:"Все",href:"/admin/users/all"},{id:2,title:"Клиенты",href:"/admin/users/clients"},{id:3,title:"Сотрудники",href:"/admin/users/employees"}],Sl=()=>{const t=te().pathname;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:I.users,children:e.jsxs("div",{className:I.users_header,children:[e.jsx("h2",{className:I.user_title,children:"Пользователи"}),e.jsx("ul",{className:I.user_list,children:Il.map(s=>e.jsx("li",{children:e.jsx(H,{className:`${I.user_list_link} ${t==s.href?I.user_list_link_active:""}`,to:s.href,children:s.title})},s.id))})]})}),e.jsxs("div",{children:[t=="/admin/users/all"&&e.jsx(kl,{}),t=="/admin/users/clients"&&e.jsx(wl,{}),t=="/admin/users/employees"&&e.jsx(Nl,{})]})]})},rt=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Фото"}];function $l(){const[n,t]=u.useState(""),[s]=u.useState(1),[o]=u.useState(10),[r,a]=u.useState([]);u.useEffect(()=>{d()},[n]);async function d(){const _=Pe.get("multi-store");try{const l=await ae.get(`nomenclatures?multiStoreId=${_}&page=${s}&perPage=${o}`),i=await l.data.data;console.log("res",l),a([...i])}catch(l){console.log("Ошибка произошла при получении всх продуктов со склада",l)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:c.addingWrapper,children:[e.jsxs("h2",{className:c.addingWrapper_title,children:["Всего товара: ",r.length]}),e.jsxs("form",{action:"",className:c.addingWrapper_form,children:[e.jsxs("div",{className:c.addingWrapper_search,children:[e.jsx("input",{type:"text",className:c.addingWrapper_search_input,placeholder:"Поиск товара",onChange:_=>t(_.target.value),value:n}),e.jsx(F,{className:c.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:c.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:c.addingWrapper_table,children:[e.jsx("thead",{className:c.addingWrapper_thead,children:e.jsx("tr",{className:c.addingWrapper_thead_tr,children:rt.map(_=>e.jsx("th",{className:c.addingWrapper_thead_th,children:_.title},_.id))})}),e.jsx("tbody",{className:c.addingWrapper_tbody,children:r&&(r==null?void 0:r.map(_=>e.jsx("tr",{className:c.addingWrapper_tbody_tr,children:rt.map(l=>{var i,p;return e.jsxs("td",{className:c.addingWrapper_tbody_td,children:[l.title=="Наименование"?e.jsx("span",{children:((i=_==null?void 0:_.name)==null?void 0:i.ru)&&((p=_==null?void 0:_.name)==null?void 0:p.ru)}):"",l.title=="Штрих-код"?e.jsx("span",{children:_==null?void 0:_.barcode}):""]},l.id)})},_==null?void 0:_.id)))})]})]})})}const at=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Фото"}];function Dl(){const[n,t]=u.useState(""),[s]=u.useState(1),[o]=u.useState(10),[r,a]=u.useState([]);u.useEffect(()=>{d()},[n]);async function d(){const _=Pe.get("multi-store");try{const l=await ae.get(`web-nomenclatures?multiStoreId=${_}&page=${s}&perPage=${o}`),i=await l.data.data;console.log("res",l),a([...i])}catch(l){console.log("Ошибка произошла при получении всх продуктов со склада",l)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:c.addingWrapper,children:[e.jsxs("h2",{className:c.addingWrapper_title,children:["Всего товара: ",r.length]}),e.jsxs("form",{action:"",className:c.addingWrapper_form,children:[e.jsxs("div",{className:c.addingWrapper_search,children:[e.jsx("input",{type:"text",className:c.addingWrapper_search_input,placeholder:"Поиск товара",onChange:_=>t(_.target.value),value:n}),e.jsx(F,{className:c.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:c.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:c.addingWrapper_table,children:[e.jsx("thead",{className:c.addingWrapper_thead,children:e.jsx("tr",{className:c.addingWrapper_thead_tr,children:at.map(_=>e.jsx("th",{className:c.addingWrapper_thead_th,children:_.title},_.id))})}),e.jsx("tbody",{className:c.addingWrapper_tbody,children:r==null?void 0:r.map(_=>e.jsx("tr",{className:c.addingWrapper_tbody_tr,children:at.map(l=>e.jsx("td",{className:c.addingWrapper_tbody_td,children:l.title=="Наименование"?e.jsx("span",{children:_==null?void 0:_.title}):""},l.id))},_==null?void 0:_.id))})]})]})})}function Ol(){const t=te().pathname,{shopsStocks:s}=ge();return e.jsxs("div",{className:c.layout,children:[e.jsx("ul",{className:c.layout_buttons,children:s.map(o=>e.jsx("li",{children:e.jsx(H,{to:`/admin/shops/shop/${o.url}`,className:`${c.layout_btn} ${t==`/admin/shops/shop/${o.url}`?c.layout_btn_active:""}`,children:o.title})},o.id))}),e.jsxs("div",{className:c.layout_content,children:[t==="/admin/shops/shop/stock"&&e.jsx($l,{}),t==="/admin/shops/shop/website"&&e.jsx(Dl,{})]})]})}function Al(){const{shopsAmount:n,currentShop:t,setCurrentShop:s}=ge(),r=te().pathname;return e.jsxs("div",{className:c.layout,children:[e.jsx("h2",{className:c.layout_title,children:"Магазины"}),e.jsx("ul",{className:c.layout_buttons,children:n.map(a=>e.jsx("li",{children:e.jsx(H,{to:"/admin/shops/shop",className:`${c.layout_btn} ${t==a.url?c.layout_btn_active:""}`,onClick:()=>s(a.url),children:a.title})},a.id))}),r.startsWith("/admin/shops/shop")&&e.jsx("div",{className:c.layout_content,children:e.jsx(Ol,{})})]})}function Pl({item:n}){const{setErrorModal:t}=de(),s=o=>{o.stopPropagation()};return e.jsx("div",{className:c.errorWrapper,onClick:()=>t({status:!1,message:""}),children:e.jsxs("div",{className:c.errorWrapper_block,onClick:s,children:[e.jsx("button",{className:c.errorWrapper_block_close,onClick:()=>t({status:!1,message:""}),children:e.jsx(F,{name:"XMarkIcon",width:25,height:25})}),e.jsx("span",{children:n.message})]})})}function yt({stockName:n,myMxikCode:t}){const{errorModal:s}=de(),{websiteProducts:o,shop1Products:r}=ge(),a=u.useRef(null),d=()=>{a.current!=null&&a.current.click()},_=l=>{var p,m;const i=(m=(p=l==null?void 0:l.target)==null?void 0:p.files)==null?void 0:m[0];if((i&&(i==null?void 0:i.type)==="image/jpeg"||(i==null?void 0:i.type)==="image/png"||(i==null?void 0:i.type)==="image/webp")&&(n=="stock"?r.filter(b=>b.mxikCode==t)[0]:o.filter(b=>b.mxikCode==t)[0])){const b=new FileReader;b.onload=x=>{var D;(D=x.target)!=null&&D.result},b.readAsDataURL(i),a.current&&(a.current.value="")}};return e.jsxs("div",{className:c.productItem_top,children:[s.status&&e.jsx(Pl,{item:s}),e.jsx("h1",{className:c.productItem_title,children:"Добавление объявления"}),e.jsx("div",{className:c.productItem_photos,children:e.jsxs("div",{className:`${c.productItem_photo} ${c.productItem_add}`,onClick:d,children:[e.jsx(F,{width:24,height:24,name:"PlusIcon",color:"rgba(191, 187, 187, 1)"}),e.jsx("span",{className:c.productItem_add_text,children:"Добавить еще"}),e.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",style:{display:"none"},onChange:_,ref:a})]})}),e.jsx("p",{className:c.productItem_photos_desc,children:"Переместите фото чтоб поменят их порядок вывода"})]})}const it=["Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],Wl=(n=1,t=9)=>Math.floor(Math.random()*(t+1-n)+n).toString();function El(n=8){let t="#";for(let s=1;s<=n;s++){const o=Wl();s==1?it.forEach((r,a)=>{a.toString()==o&&(t+=r)}):s==2?it.forEach((r,a)=>{a.toString()==o&&(t+=r)}):t+=o}return t}function kt({localCategory:n,productName:t,productDescription:s,setProductDescription:o,setProductName:r,myBarcode:a,vendorCode:d,setVendorCode:_}){var h,b,x,D,L,M;const{pickedCategory:l,currentProduct:i,setOpenModalCategory:p}=de();u.useEffect(()=>{console.log("localCategory",n),console.log("pickedCategory",l),console.log("myBarcode",a)},[l,n]);const m=()=>{const O=El();_(O)};return e.jsxs("div",{className:c.productItem_left,children:[e.jsxs("div",{className:c.productItem_left_info,children:[e.jsxs("div",{className:c.productItem_left_item,children:[e.jsxs("div",{className:c.productItem_left_item_top,children:[e.jsx("span",{children:"Артикул"}),e.jsx("input",{type:"text",placeholder:"например:  #DF156651",className:c.productItem_left_item_top_input,value:d,onChange:O=>_(O.target.value)})]}),e.jsxs("div",{className:c.productItem_left_item_bottom,children:[e.jsx("button",{className:c.productItem_left_item_button,children:"Изменить"}),e.jsx("button",{className:c.productItem_left_item_button,onClick:m,children:"Генерировать"})]})]}),e.jsxs("div",{className:c.productItem_left_item,children:[e.jsxs("div",{className:c.productItem_left_item_top,children:[e.jsx("span",{children:"Категория:"}),e.jsx("span",{children:(h=l==null?void 0:l.name)!=null&&h.ru?(b=l==null?void 0:l.name)==null?void 0:b.ru:(D=(x=i==null?void 0:i.category)==null?void 0:x.name)!=null&&D.ru?(M=(L=i==null?void 0:i.category)==null?void 0:L.name)==null?void 0:M.ru:""})]}),e.jsx("div",{className:c.productItem_left_item_bottom,children:e.jsx("button",{className:c.productItem_left_item_button,onClick:()=>p(!0),children:i!=null&&i.category?"Изменить":"Выбрать"})})]}),e.jsx("div",{className:c.productItem_left_item,children:e.jsxs("div",{className:c.productItem_left_item_top,children:[e.jsx("span",{children:"Штрих-код"}),e.jsx("span",{children:a})]})}),e.jsx("div",{className:c.productItem_left_item,children:e.jsxs("div",{className:c.productItem_left_item_top,children:[e.jsx("span",{children:"Цена:"}),e.jsx("span",{children:i==null?void 0:i.price})]})}),e.jsx("div",{className:c.productItem_left_item,children:e.jsxs("div",{className:c.productItem_left_item_top,children:[e.jsx("span",{children:"PDF:"}),e.jsx("button",{className:c.productItem_left_item_button,children:"Загрузить"})]})})]}),e.jsxs("form",{className:c.productItem_left_form,children:[e.jsxs("label",{className:c.productItem_left_form_label,children:[e.jsx("span",{className:c.productItem_left_form_title,children:"Заголовок"}),e.jsx("input",{className:c.productItem_left_form_input,type:"text",value:t,onChange:O=>r(O.target.value)})]}),e.jsxs("label",{className:c.productItem_left_form_label,children:[e.jsx("span",{className:c.productItem_left_form_title,children:"Описание товара"}),e.jsx("textarea",{onChange:O=>o(O.target.value),value:s,className:c.productItem_left_form_textarea}),e.jsx("p",{className:c.productItem_left_form_size,children:e.jsx("span",{children:"200/200"})})]})]})]})}function Bl({color:n="black",title:t="",extraOptionsList:s,className:o,openBlock:r,setOpenBlock:a,setExtraOptionsList:d}){const _=u.useRef([]);u.useEffect(()=>{_.current.length>0&&l()},[s]);const l=()=>{s&&s.forEach(p=>{_.current.forEach(m=>{m.name==p.title&&(m.checked=p.isActive)})})},i=(p,m)=>{const h=JSON.parse(JSON.stringify(s));h.forEach(b=>{b.title==m&&(b.isActive=!b.isActive)}),d&&d(h)};return e.jsxs("div",{className:o??B.versionExtraOptions,children:[t&&e.jsx("span",{className:B.versionExtraOptions_title,children:t}),e.jsxs("div",{className:B.versionExtraOptions_block,children:[e.jsxs("div",{className:B.versionExtraOptions_block_top,onClick:()=>a&&a(!r),children:[e.jsx("h2",{className:B.versionExtraOptions_block_top_title,style:{color:n},children:t||"Выберите параметры"}),e.jsx("button",{className:B.versionExtraOptions_block_top_btn,children:e.jsx("div",{className:`${B.versionExtraOptions_block_top_arrow} ${r?B.versionExtraOptions_block_top_arrow_active:""}`,children:e.jsx(F,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${B.versionExtraOptions_block_dropdown} ${r?B.versionExtraOptions_block_dropdown_open:""}`,children:s&&s.map((p,m)=>e.jsxs("label",{className:B.versionExtraOptions_block_dropdown_item,children:[p.title,e.jsx("input",{ref:h=>{h&&(_.current[m]=h)},type:"checkbox",name:p.title,"data-type":p.title,onChange:h=>i(h,p.title)})]},p.id))})]})]})}function Ul({color:n="black",title:t="",versionList:s,className:o}){const[r,a]=u.useState(!1),[d,_]=u.useState("");u.useEffect(()=>{s==null||s.forEach(p=>{p.isActive&&_(p.title)})},[]);const l=()=>{a(!r)},i=p=>{s==null||s.forEach(m=>m.isActive=!1),s==null||s.forEach(m=>{m.title==p.title&&(m.isActive=!0,_(m.title))}),l()};return e.jsxs("div",{className:o??B.version3,children:[e.jsx("span",{className:B.version3_title,children:t}),e.jsxs("div",{className:B.version3_block,children:[e.jsxs("div",{className:B.version3_block_top,onClick:()=>l(),children:[e.jsx("h2",{className:B.version3_block_top_title,style:{color:n},children:d||"Выбрать"}),e.jsx("button",{className:B.version3_block_top_btn,children:e.jsx("div",{className:`${B.version3_block_top_arrow} ${r?B.version3_block_top_arrow_active:""}`,children:e.jsx(F,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${B.version3_block_dropdown} ${r?B.version3_block_dropdown_open:""}`,style:{height:`${s&&s.length==1?"50px":""}`},children:s&&s.map(p=>e.jsx("span",{className:B.version3_block_dropdown_item,onClick:()=>i(p),children:s.length>1?p.title:e.jsx("input",{type:"text",placeholder:"Введите вруччную",style:{width:"120px"}})},p.id))})]})]})}function Ll({extraOptionsStatus:n,localCategory:t,setExtraOptionsStatus:s,extraOptions:o}){const[r,a]=u.useState(!1);return u.useEffect(()=>{},[t]),e.jsxs("div",{className:c.productItem_right_item,children:[e.jsxs("div",{className:c.productItem_right_top,onClick:()=>s(!n),children:[e.jsx("h5",{className:c.productItem_right_title,children:"Доп. параметры"}),e.jsx(he,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)",status:n})]}),e.jsxs("div",{className:`${c.productItem_right_bottom_items} ${n?c.productItem_right_bottom_items_active:""}`,children:[e.jsx("div",{className:c.productItem_right_bottom_item,children:e.jsx(Bl,{color:"",extraOptionsList:o,openBlock:r,setOpenBlock:a})}),o.map(d=>{if(d.isActive)return e.jsxs("div",{className:c.productItem_right_bottom_item,children:[e.jsx(Ul,{color:"",title:d.title,versionList:d.type}),e.jsx("button",{className:c.productItem_right_bottom_del,children:"Удалить"})]},d.id)})]})]})}function ct({color:n="black",title:t="",versionList:s=[{id:"1",title:"версия 1",isActive:!0,navIcon:""},{id:"2",title:"версия 2",isActive:!1,navIcon:""},{id:"3",title:"версия 3",isActive:!1,navIcon:""}],className:o,openBlock:r,currentVersion:a,setOpenBlock:d,setCurrentVersion:_,setVersionList:l}){const i=p=>{_&&_(p.title);const m=s.map(x=>({id:x.id,title:x.title,isActive:!1})),h=m.find(x=>x.id==p.id),b=m.findIndex(x=>x.id==p.id);h&&(h.isActive=!0,m.splice(b,1,h),l&&l(m))};return e.jsxs("div",{className:o??B.version3,children:[e.jsx("span",{className:B.version3_title,children:t}),e.jsxs("div",{className:B.version3_block,children:[e.jsxs("div",{className:B.version3_block_top,children:[e.jsx("h2",{className:B.version3_block_top_title,style:{color:n},children:a}),e.jsx("button",{className:B.version3_block_top_btn,onClick:()=>d&&d(!r),children:e.jsx("div",{className:`${B.version3_block_top_arrow} ${r?B.version3_block_top_arrow_active:""}`,children:e.jsx(F,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${B.version3_block_dropdown} ${r?B.version3_block_dropdown_open:""}`,children:s.map(p=>e.jsx("span",{className:B.version3_block_dropdown_item,onClick:()=>i(p),children:p.title},p.id))})]})]})}function zl({brieflyProductStatus:n,setBrieflyProductStatus:t}){return e.jsxs("div",{className:c.productItem_right_item,children:[e.jsxs("div",{className:c.productItem_right_top,onClick:()=>t(!n),children:[e.jsx("h5",{className:c.productItem_right_title,children:"Коротко о товаре"}),e.jsx(he,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)",status:n})]}),e.jsx("div",{className:`${c.productItem_right_bottom_items} ${n?c.productItem_right_bottom_items_active:""}`,children:e.jsxs("div",{className:`${c.productItem_right_bottom_item} ${c.productItem_right_bottom_row}`,children:[e.jsx(ct,{color:"",title:"Объем, л"}),e.jsx(ct,{color:"",title:"Кол-во в упаковке"})]})})]})}function jt({currentProduct:n,extraOptionsStatus:t,setExtraOptionsStatus:s,brieflyProductStatus:o,setBrieflyProductStatus:r,localCategory:a,extraOptions:d,setExtraOptions:_}){return e.jsxs("div",{className:c.productItem_right,children:[e.jsx("div",{className:c.productItem_right_item,children:e.jsxs("div",{className:c.productItem_right_top,children:[e.jsx("h5",{className:c.productItem_right_title,children:"Коментарии"}),e.jsx(he,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)"})]})}),e.jsx(Ll,{extraOptionsStatus:t,setExtraOptionsStatus:s,localCategory:a,extraOptions:d,setExtraOptions:_,currentProduct:n}),e.jsx(zl,{brieflyProductStatus:o,setBrieflyProductStatus:r})]})}function wt({stockName:n,setAdminSettings:t}){return e.jsxs("div",{className:c.settings_content_buttons,children:[e.jsx(H,{to:n=="stock"?"/admin/product/adding/stock":"/admin/product/adding/website",className:`${c.settings_content_btn} ${c.settings_content_btn_cancel}`,children:"Отмена"}),e.jsx("button",{className:`${c.settings_content_btn} ${c.settings_content_btn_save}`,onClick:()=>t(),children:n=="website"?"Сохранить":"Добавить"})]})}function Fl(){const n=Ae(),t=te(),{id:s}=lt(),{openModalCategory:o}=de(),{pickedCategory:r,currentProduct:a,setErrorModal:d,setCurrentProduct:_,setPickedCategory:l}=de(),[i,p]=u.useState(""),[m,h]=u.useState(!1),[b,x]=u.useState({}),[D,L]=u.useState(!1),[M,O]=u.useState([]),[W,w]=u.useState(!1),[S,k]=u.useState(""),[v,A]=u.useState("");async function C(){try{return await(await ae.get(`nomenclatures/${s}`)).data}catch(f){console.log("Ошибка произошла при получении продукта по id",f)}}const j=f=>{var $;f&&(p((($=f==null?void 0:f.name)==null?void 0:$.ru)||""),_({...f}),x(f==null?void 0:f.category))};u.useEffect(()=>{l({})},[t.pathname]),u.useEffect(()=>{P(),g(),console.log("id",s),console.log("vendorCode",S)},[s]);async function P(){const f=await C();f&&(console.log(333,"product",f),j(f))}const z=async()=>{var f;if(console.log("productIsOnWebsite",m),m){d({status:!0,message:'"Этот продукт уже есть на сайте"'});return}if(a||r.label){console.log(1,"currentProduct",a),console.log(1,"productDescription",v);const $={nomenclatureId:a.id,title:(f=a==null?void 0:a.name)==null?void 0:f.ru,article:S,image:"string",description:v,document:"string"};Z($),l({}),O([]),n("/admin/product/adding/stock",{replace:!0})}else d({status:!0,message:'"Выберите категорию"'})};async function Z(f){try{const $=await ae.post("web-nomenclatures",f);console.log(`${f.title} успешно добавлен на сайт`,$.data)}catch($){console.log("Ошибка произошла при добавлении web nomenclatures",$)}}async function g(){try{const $=await(await ae.get(`web-nomenclatures/${s}`)).data;h(!!$.id)}catch(f){h(!1),console.log("Ошибка произошла при проверке наличия продукта на вебсайте",f)}}return e.jsxs("div",{className:c.productItem,children:[o&&e.jsx(_t,{}),e.jsx(yt,{stockName:"stock",myMxikCode:s}),e.jsxs("div",{className:c.productItem_settings,children:[e.jsx(kt,{myBarcode:a.barcode,localCategory:b,productName:i,productDescription:v,setProductDescription:A,setProductName:p,vendorCode:S,setVendorCode:k}),e.jsx(jt,{extraOptionsStatus:D,setExtraOptionsStatus:L,brieflyProductStatus:W,setBrieflyProductStatus:w,localCategory:b,extraOptions:M,setExtraOptions:O,currentProduct:a})]}),e.jsx(wt,{stockName:"stock",setAdminSettings:z})]})}function Ml(){var z,Z;const n=Ae(),t=te(),{id:s}=lt(),{openModalCategory:o}=de(),{pickedCategory:r,webCurrentProduct:a,setWebCurrentProduct:d,setErrorModal:_,setPickedCategory:l}=de(),[i,p]=u.useState(""),[m,h]=u.useState({}),[b,x]=u.useState(!1),[D,L]=u.useState([]),[M,O]=u.useState(!1),[W,w]=u.useState(""),[S,k]=u.useState("");async function v(){try{return await(await ae.get(`web-nomenclatures/${s}`)).data}catch(g){console.log("Ошибка произошла при получении продукта по id",g)}}const A=g=>{var f,$,U;g&&(p((($=(f=g==null?void 0:g.nomenclature)==null?void 0:f.name)==null?void 0:$.ru)||""),d({...g}),h((U=g==null?void 0:g.nomenclature)==null?void 0:U.category),k(g.description?g.description:""))};u.useEffect(()=>{l({})},[t.pathname]),u.useEffect(()=>{C(),console.log("id",s),console.log("vendorCode",W)},[s]);async function C(){const g=await v();g&&(console.log(333,"product",g),A(g))}const j=async()=>{var g,f;if(a||r.label){console.log(1,"currentProduct",a),console.log(1,"productDescription",S);const $={nomenclatureId:a.id,title:(f=(g=a==null?void 0:a.nomenclature)==null?void 0:g.name)==null?void 0:f.ru,article:W,image:"string",description:S,document:"string"};P($),l({}),L([]),n("/admin/product/adding/website",{replace:!0})}else _({status:!0,message:'"Выберите категорию"'})};async function P(g){try{const f=await ae.patch("web-nomenclatures",g);console.log(`${g.title} успешно добавлен на сайт`,f.data)}catch(f){console.log("Ошибка произошла при добавлении web nomenclatures",f)}}return e.jsxs("div",{className:c.productItem,children:[o&&e.jsx(_t,{}),e.jsx(yt,{stockName:"stock",myMxikCode:s}),e.jsxs("div",{className:c.productItem_settings,children:[e.jsx(kt,{myBarcode:((z=a==null?void 0:a.nomenclature)==null?void 0:z.barcode)&&((Z=a==null?void 0:a.nomenclature)==null?void 0:Z.barcode),localCategory:m,productName:i,productDescription:S,setProductDescription:k,setProductName:p,vendorCode:W,setVendorCode:w}),e.jsx(jt,{extraOptionsStatus:b,setExtraOptionsStatus:x,brieflyProductStatus:M,setBrieflyProductStatus:O,localCategory:m,extraOptions:D,setExtraOptions:L,currentProduct:a})]}),e.jsx(wt,{stockName:"stock",setAdminSettings:j})]})}function Yl(){const{user:n}=Pt(),{setCurrentShop:t}=ge(),o=te().pathname;u.useEffect(()=>{o.startsWith("/admin/shops")||t("0")},[o]);const r=[{id:"1",label:"Настройки",href:"/admin/settings",icon:e.jsx(F,{name:"CogIcon"}),isActive:!0},{id:"2",label:"Товар",href:"/admin/product",icon:e.jsx(F,{name:"ShoppingCartIcon"}),isActive:!1},{id:"3",label:"Пользователи",href:"/admin/users",icon:e.jsx(F,{name:"UsersIcon"}),isActive:!1},{id:"4",label:"Магазины",href:"/admin/shops",icon:e.jsx(F,{name:"BuildingStorefrontIcon"}),isActive:!1}],[a,d]=u.useState(r),_=l=>{const i=a.map(m=>({id:m.id,label:m.label,href:m.href,icon:m.icon,isActive:!1})),p=i.find(m=>m.id==l);p&&(p.isActive=!0),d(i)};return e.jsxs(e.Fragment,{children:[e.jsx(Wt,{}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:c.wrapper,children:[e.jsx("h1",{className:c.wrapper_title,children:n==null?void 0:n.username}),e.jsxs("div",{className:c.content,children:[e.jsx("div",{className:c.content_left,children:e.jsx("ul",{className:c.tools,children:a.map(l=>e.jsx("li",{children:e.jsxs(H,{to:l.href,className:`${c.tools_link} ${o.startsWith(l.href)?c.tools_link_active:""}`,onClick:()=>_(l.id),children:[l.icon,l.label]})},l.id))})}),o.startsWith("/admin")&&e.jsxs("div",{className:c.content_right,children:[o.startsWith("/admin/settings")&&e.jsx(Dc,{}),o.startsWith("/admin/users")&&e.jsx(Sl,{}),o.startsWith("/admin/shops")&&e.jsx(Al,{}),o.startsWith("/admin/product")&&e.jsx(Bc,{}),o.startsWith("/admin/stock-product")&&e.jsx(Fl,{}),o.startsWith("/admin/website-product")&&e.jsx(Ml,{})]})]})]})})]})}export{Yl as default};
