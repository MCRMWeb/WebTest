import{j as e,w as ce,r as m,x as Te,L as H,v as se,q as je,o as ie,y as ae,e as ne,u as $e,z as Dt,A as Ot,B as Ft,C as dt}from"./index-DJtnchn8.js";import{u as At}from"./userStore-CaluaRK7.js";import{C as U}from"./CustomIcon-BgfJRuDq.js";import{s as Ve}from"./shop1Store-Bdjffibp.js";import{a as qe,c as Ze,H as Bt}from"./Header-Cj-cKWs5.js";import{a as be,s as Q,M as pt}from"./Modal-D-HQi0kE.js";import{b as ue}from"./bannerStore-QjqL3HXa.js";import{F as Lt,a as Mt,b as Wt,c as Et,d as Ut,e as zt,f as Rt,g as Tt,h as Vt,i as qt,j as Kt,k as Ht,l as Xt,m as Gt,n as Zt,o as Jt,p as Qt,q as Yt,r as es,s as ts,t as ss,u as os,v as ns,w as as,x as rs,y as is,z as cs,A as ls,B as _s,C as ds,D as ps,E as us,G as ms}from"./XMarkIcon-n_8m2LVn.js";const hs="_wrapper_1c282_1",gs="_wrapper_title_1c282_4",vs="_content_1c282_10",bs="_content_left_1c282_16",xs="_content_right_1c282_19",fs="_tools_1c282_45",ks="_tools_link_1c282_50",ys="_tools_link_active_1c282_63",js="_settings_1c282_86",ws="_settings_title_1c282_89",Cs="_settings_content_1c282_94",Ss="_settings_content_top_1c282_97",Ns="_settings_content_buttons_1c282_100",Is="_settings_content_btn_1c282_110",$s="_settings_content_btn_cancel_1c282_122",Ps="_settings_content_btn_save_1c282_125",Ds="_settings_tools_1c282_128",Os="_settings_tools_link_1c282_133",Fs="_settings_tools_link_active_1c282_148",As="_wrapperModules_1c282_153",Bs="_item_1c282_160",Ls="_item_top_1c282_165",Ms="_item_top_title_1c282_176",Ws="_item_top_arrow_1c282_180",Es="_item_top_arrow_active_1c282_188",Us="_item_block_1c282_191",zs="_item_block_item_1c282_202",Rs="_item_block_open_1c282_205",Ts="_item_onOff_1c282_211",Vs="_item_delivery_1c282_211",qs="_versions_block_1c282_217",Ks="_versions_block_top_1c282_222",Hs="_versions_block_top_title_1c282_232",Xs="_versions_block_top_arrow_1c282_237",Gs="_versions_block_top_arrow_active_1c282_246",Zs="_versions_block_dropdown_1c282_249",Js="_versions_block_dropdown_item_1c282_260",Qs="_versions_block_dropdown_open_1c282_271",Ys="_versions_block_onOff_1c282_277",eo="_versions_block_delivery_1c282_277",to="_categoriesDropDown_title_1c282_283",so="_categoriesDropDown_item_1c282_286",oo="_categoriesDropDown_item_top_1c282_292",no="_categoriesDropDown_item_top_title_1c282_303",ao="_categoriesDropDown_item_top_arrow_1c282_307",ro="_categoriesDropDown_item_top_arrow_active_1c282_314",io="_categoriesDropDown_item_block_1c282_317",co="_categoriesDropDown_item_block_line_1c282_326",lo="_categoriesDropDown_item_block_active_1c282_338",_o="_categoriesDropDown_item_block_open_1c282_341",po="_categoriesDropDown_item_onOff_1c282_346",uo="_categoriesDropDown_item_delivery_1c282_346",mo="_products_buttons_1c282_352",ho="_products_btn_1c282_358",go="_products_btn_active_1c282_369",vo="_productItem_title_1c282_374",bo="_productItem_basePhoto_1c282_379",xo="_productItem_photos_1c282_385",fo="_productItem_photos_desc_1c282_391",ko="_productItem_photo_1c282_385",yo="_productItem_photo_img_1c282_406",jo="_productItem_photo_close_1c282_417",wo="_productItem_photo_active_1c282_429",Co="_productItem_add_1c282_433",So="_productItem_add_text_1c282_441",No="_productItem_settings_1c282_446",Io="_productItem_left_info_1c282_450",$o="_productItem_left_item_1c282_458",Po="_productItem_left_item_top_1c282_462",Do="_productItem_left_item_top_input_1c282_483",Oo="_productItem_left_item_bottom_1c282_489",Fo="_productItem_left_form_1c282_502",Ao="_productItem_left_form_label_1c282_509",Bo="_productItem_left_form_title_1c282_513",Lo="_productItem_left_form_input_1c282_519",Mo="_productItem_left_form_textarea_1c282_527",Wo="_productItem_left_form_size_1c282_535",Eo="_productItem_right_1c282_543",Uo="_productItem_right_item_1c282_550",zo="_productItem_right_top_1c282_555",Ro="_productItem_right_title_1c282_562",To="_productItem_right_bottom_items_1c282_568",Vo="_productItem_right_bottom_items_active_1c282_577",qo="_productItem_right_bottom_item_1c282_568",Ko="_productItem_right_bottom_row_1c282_603",Ho="_productItem_right_bottom_del_1c282_608",Xo="_banner_nav_list_1c282_619",Go="_banner_nav_link_1c282_625",Zo="_banner_nav_link_active_1c282_640",Jo="_addingWrapper_title_1c282_645",Qo="_addingWrapper_form_1c282_650",Yo="_addingWrapper_form_btn_1c282_655",en="_addingWrapper_search_1c282_672",tn="_addingWrapper_search_input_1c282_678",sn="_addingWrapper_search_icon_1c282_686",on="_addingWrapper_table_1c282_689",nn="_addingWrapper_table_error_1c282_692",an="_addingWrapper_thead_tr_1c282_696",rn="_addingWrapper_thead_th_1c282_700",cn="_addingWrapper_tbody_tr_1c282_708",ln="_addingWrapper_tbody_td_1c282_711",_n="_addingWrapper_tbody_buttons_1c282_725",dn="_addingWrapper_tbody_add_1c282_730",pn="_addingWrapper_tbody_del_1c282_737",un="_errorWrapper_1c282_745",mn="_errorWrapper_block_1c282_754",hn="_errorWrapper_block_close_1c282_764",gn="_layout_title_1c282_775",vn="_layout_buttons_1c282_780",bn="_layout_btn_1c282_786",xn="_layout_btn_active_1c282_800",fn="_editBlock_1c282_805",kn="_articleModal_1c282_817",yn="_articleModal_block_1c282_826",jn="_articleModal_block_nav_1c282_833",wn="_articleModal_block_title_1c282_840",Cn="_articleModal_block_info_1c282_845",Sn="_articleModal_block_info_item_1c282_848",Nn="_articleModal_block_recommended_1c282_863",In="_articleModal_block_recommended_title_1c282_866",$n="_articleModal_block_recommended_item_1c282_872",Pn="_articleModal_block_recommended_item_title_1c282_876",Dn="_articleModal_block_recommended_content_1c282_882",On="_articleModal_block_recommended_img_1c282_887",Fn="_articleModal_block_recommended_info_1c282_897",An="_articleModal_block_recommended_desc_1c282_902",Bn="_articleModal_block_recommended_article_1c282_916",Ln="_articleModal_block_search_1c282_921",Mn="_articleModal_block_search_box_1c282_924",Wn="_articleModal_block_search_input_1c282_929",En="_articleModal_block_search_btn_1c282_941",Un="_articleModal_block_found_1c282_951",zn="_articleModal_block_buttonBox_1c282_957",Rn="_articleModal_block_button_1c282_957",Tn="_homePage_blocks_1c282_974",Vn="_homePage_addBlock_1c282_980",qn="_homePage_addBlock_title_1c282_997",Kn="_homePage_addBlock_active_1c282_1000",Hn="_homePage_addBlockItem_1c282_1004",Xn="_homePage_addBlockItem_close_1c282_1012",Gn="_homePage_addBlockItem_super_1c282_1018",Zn="_homePage_addBlockItem_super_title_1c282_1022",Jn="_homePage_addBlockItem_super_block_1c282_1027",Qn="_homePage_addBlockItem_super_item_1c282_1052",Yn="_homePage_addBlockItem_content_1c282_1063",ea="_homePage_addBlockItem_categories_1c282_1067",d={wrapper:hs,wrapper_title:gs,content:vs,content_left:bs,content_right:xs,tools:fs,tools_link:ks,tools_link_active:ys,settings:js,settings_title:ws,settings_content:Cs,settings_content_top:Ss,settings_content_buttons:Ns,settings_content_btn:Is,settings_content_btn_cancel:$s,settings_content_btn_save:Ps,settings_tools:Ds,settings_tools_link:Os,settings_tools_link_active:Fs,wrapperModules:As,item:Bs,item_top:Ls,item_top_title:Ms,item_top_arrow:Ws,item_top_arrow_active:Es,item_block:Us,item_block_item:zs,item_block_open:Rs,item_onOff:Ts,item_delivery:Vs,versions_block:qs,versions_block_top:Ks,versions_block_top_title:Hs,versions_block_top_arrow:Xs,versions_block_top_arrow_active:Gs,versions_block_dropdown:Zs,versions_block_dropdown_item:Js,versions_block_dropdown_open:Qs,versions_block_onOff:Ys,versions_block_delivery:eo,categoriesDropDown_title:to,categoriesDropDown_item:so,categoriesDropDown_item_top:oo,categoriesDropDown_item_top_title:no,categoriesDropDown_item_top_arrow:ao,categoriesDropDown_item_top_arrow_active:ro,categoriesDropDown_item_block:io,categoriesDropDown_item_block_line:co,categoriesDropDown_item_block_active:lo,categoriesDropDown_item_block_open:_o,categoriesDropDown_item_onOff:po,categoriesDropDown_item_delivery:uo,products_buttons:mo,products_btn:ho,products_btn_active:go,productItem_title:vo,productItem_basePhoto:bo,productItem_photos:xo,productItem_photos_desc:fo,productItem_photo:ko,productItem_photo_img:yo,productItem_photo_close:jo,productItem_photo_active:wo,productItem_add:Co,productItem_add_text:So,productItem_settings:No,productItem_left_info:Io,productItem_left_item:$o,productItem_left_item_top:Po,productItem_left_item_top_input:Do,productItem_left_item_bottom:Oo,productItem_left_form:Fo,productItem_left_form_label:Ao,productItem_left_form_title:Bo,productItem_left_form_input:Lo,productItem_left_form_textarea:Mo,productItem_left_form_size:Wo,productItem_right:Eo,productItem_right_item:Uo,productItem_right_top:zo,productItem_right_title:Ro,productItem_right_bottom_items:To,productItem_right_bottom_items_active:Vo,productItem_right_bottom_item:qo,productItem_right_bottom_row:Ko,productItem_right_bottom_del:Ho,banner_nav_list:Xo,banner_nav_link:Go,banner_nav_link_active:Zo,addingWrapper_title:Jo,addingWrapper_form:Qo,addingWrapper_form_btn:Yo,addingWrapper_search:en,addingWrapper_search_input:tn,addingWrapper_search_icon:sn,addingWrapper_table:on,addingWrapper_table_error:nn,addingWrapper_thead_tr:an,addingWrapper_thead_th:rn,addingWrapper_tbody_tr:cn,addingWrapper_tbody_td:ln,addingWrapper_tbody_buttons:_n,addingWrapper_tbody_add:dn,addingWrapper_tbody_del:pn,errorWrapper:un,errorWrapper_block:mn,errorWrapper_block_close:hn,layout_title:gn,layout_buttons:vn,layout_btn:bn,layout_btn_active:xn,editBlock:fn,articleModal:kn,articleModal_block:yn,articleModal_block_nav:jn,articleModal_block_title:wn,articleModal_block_info:Cn,articleModal_block_info_item:Sn,articleModal_block_recommended:Nn,articleModal_block_recommended_title:In,articleModal_block_recommended_item:$n,articleModal_block_recommended_item_title:Pn,articleModal_block_recommended_content:Dn,articleModal_block_recommended_img:On,articleModal_block_recommended_info:Fn,articleModal_block_recommended_desc:An,articleModal_block_recommended_article:Bn,articleModal_block_search:Ln,articleModal_block_search_box:Mn,articleModal_block_search_input:Wn,articleModal_block_search_btn:En,articleModal_block_found:Un,articleModal_block_buttonBox:zn,articleModal_block_button:Rn,homePage_blocks:Tn,homePage_addBlock:Vn,homePage_addBlock_title:qn,homePage_addBlock_active:Kn,homePage_addBlockItem:Hn,homePage_addBlockItem_close:Xn,homePage_addBlockItem_super:Gn,homePage_addBlockItem_super_title:Zn,homePage_addBlockItem_super_block:Jn,homePage_addBlockItem_super_item:Qn,homePage_addBlockItem_content:Yn,homePage_addBlockItem_categories:ea};function Ne({width:s=78,color:t="white",backgroundOn:o="rgba(137, 250, 135, 1)",backgroundOff:a="rgba(193, 193, 193, 1)",speed:n=500,scale:l=1.1,status:_=!1}){const r={width:`${s}px`,height:`${s/2-s/20}px`,background:_?o:a,borderRadius:`${s/2}px`,display:"flex",alignItems:"center",transition:`${n}ms`,cursor:"pointer"},i={background:`${t}`,height:`${s/2-s/20}px`,width:`${s/2-s/20}px`,border:`${s/25}px solid ${_?o:a}`,borderRadius:"50%",transition:`${n}ms`,transform:`scale(${l}) translateX(${_?"110%":"0"})`};return e.jsx("div",{style:r,children:e.jsx("div",{style:i})})}const ta="_versions_1cgvq_1",sa="_versions_block_1cgvq_6",oa="_versions_block_top_1cgvq_11",na="_versions_block_top_title_1cgvq_21",aa="_versions_block_top_arrow_1cgvq_25",ra="_versions_block_top_arrow_active_1cgvq_34",ia="_versions_block_dropdown_1cgvq_37",ca="_versions_block_dropdown_item_1cgvq_49",la="_versions_block_dropdown_open_1cgvq_60",_a="_versions_block_onOff_1cgvq_66",da="_versions_block_delivery_1cgvq_66",pa="_versions2_1cgvq_72",ua="_versions2_block_1cgvq_77",ma="_versions2_block_top_1cgvq_82",ha="_versions2_block_top_title_1cgvq_92",ga="_versions2_block_top_arrow_1cgvq_96",va="_versions2_block_top_arrow_active_1cgvq_105",ba="_versions2_block_dropdown_1cgvq_108",xa="_versions2_block_dropdown_item_1cgvq_119",fa="_versions2_block_dropdown_open_1cgvq_130",ka="_versions2_block_onOff_1cgvq_136",ya="_versions2_block_delivery_1cgvq_136",ja="_version3_1cgvq_142",wa="_version3_title_1cgvq_147",Ca="_version3_block_1cgvq_153",Sa="_version3_block_top_1cgvq_158",Na="_version3_block_top_title_1cgvq_169",Ia="_version3_block_top_arrow_1cgvq_173",$a="_version3_block_top_arrow_active_1cgvq_183",Pa="_version3_block_dropdown_1cgvq_186",Da="_version3_block_dropdown_item_1cgvq_197",Oa="_version3_block_dropdown_open_1cgvq_213",Fa="_version3_block_onOff_1cgvq_237",Aa="_version3_block_delivery_1cgvq_237",Ba="_versionExtraOptions_1cgvq_243",La="_versionExtraOptions_title_1cgvq_248",Ma="_versionExtraOptions_block_1cgvq_254",Wa="_versionExtraOptions_block_top_1cgvq_259",Ea="_versionExtraOptions_block_top_title_1cgvq_270",Ua="_versionExtraOptions_block_top_arrow_1cgvq_275",za="_versionExtraOptions_block_top_arrow_active_1cgvq_285",Ra="_versionExtraOptions_block_dropdown_1cgvq_288",Ta="_versionExtraOptions_block_dropdown_item_1cgvq_299",Va="_versionExtraOptions_block_dropdown_open_1cgvq_316",qa="_versionExtraOptions_block_onOff_1cgvq_340",Ka="_versionExtraOptions_block_delivery_1cgvq_340",R={versions:ta,versions_block:sa,versions_block_top:oa,versions_block_top_title:na,versions_block_top_arrow:aa,versions_block_top_arrow_active:ra,versions_block_dropdown:ia,versions_block_dropdown_item:ca,versions_block_dropdown_open:la,versions_block_onOff:_a,versions_block_delivery:da,versions2:pa,versions2_block:ua,versions2_block_top:ma,versions2_block_top_title:ha,versions2_block_top_arrow:ga,versions2_block_top_arrow_active:va,versions2_block_dropdown:ba,versions2_block_dropdown_item:xa,versions2_block_dropdown_open:fa,versions2_block_onOff:ka,versions2_block_delivery:ya,version3:ja,version3_title:wa,version3_block:Ca,version3_block_top:Sa,version3_block_top_title:Na,version3_block_top_arrow:Ia,version3_block_top_arrow_active:$a,version3_block_dropdown:Pa,version3_block_dropdown_item:Da,version3_block_dropdown_open:Oa,version3_block_onOff:Fa,version3_block_delivery:Aa,versionExtraOptions:Ba,versionExtraOptions_title:La,versionExtraOptions_block:Ma,versionExtraOptions_block_top:Wa,versionExtraOptions_block_top_title:Ea,versionExtraOptions_block_top_arrow:Ua,versionExtraOptions_block_top_arrow_active:za,versionExtraOptions_block_dropdown:Ra,versionExtraOptions_block_dropdown_item:Ta,versionExtraOptions_block_dropdown_open:Va,versionExtraOptions_block_onOff:qa,versionExtraOptions_block_delivery:Ka};function st({color:s="black",title:t="",versionList:o=[{id:"1",title:"версия 1",isActive:!0,navIcon:""},{id:"2",title:"версия 2",isActive:!1,navIcon:""},{id:"3",title:"версия 3",isActive:!1,navIcon:""}],className:a,openBlock:n,currentVersion:l,setOpenBlock:_,setCurrentVersion:r,setVersionList:i}){const c=p=>{r(p.title);const u=o.map(v=>({id:v.id,title:v.title,isActive:!1})),h=u.find(v=>v.id==p.id),g=u.findIndex(v=>v.id==p.id);h&&(h.isActive=!0,u.splice(g,1,h),i(u))};return e.jsxs("div",{className:a??R.versions,children:[e.jsx("span",{children:t}),e.jsxs("div",{className:R.versions_block,children:[e.jsxs("div",{className:R.versions_block_top,children:[e.jsx("h2",{className:R.versions_block_top_title,style:{color:s},children:l}),e.jsx("button",{className:R.versions_block_top_btn,onClick:()=>_(!n),children:e.jsx("div",{className:`${R.versions_block_top_arrow} ${n?R.versions_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${R.versions_block_dropdown} ${n?R.versions_block_dropdown_open:""}`,children:o.map(p=>e.jsx("span",{className:R.versions_block_dropdown_item,onClick:()=>c(p),children:p.title},p.id))})]})]})}function Ha(){const{modulesCashRegisterStatus:s,deliveryStatus:t,cashRegisterVersionList:o,cashRegisterCurrentVersion:a,openBlockCashRegister:n,openBlockCashRegisterVersion:l,openBlockCart:_,cartVersionList:r,modulesCartStatus:i,cartCurrentVersion:c,openBlockCartVersion:p,setCartVersionList:u,setCartCurrentVersion:h,setModulesCartStatus:g,setOpenBlockCart:v,setOpenBlockCartVersion:$,setDeliveryStatus:I,setOpenBlockCashRegister:F,setCashRegisterVersionList:j,setModulesCashRegisterStatus:N,setCashRegisterCurrentVersion:f,setOpenBlockCashRegisterVersion:y}=ce(),x=()=>{v(!_)},b=()=>{F(!n)};return e.jsxs("div",{className:d.wrapperModules,children:[e.jsxs("div",{className:d.item,children:[e.jsxs("div",{className:d.item_top,onClick:()=>x(),children:[e.jsx("h2",{className:d.item_top_title,children:"Корзина"}),e.jsx("button",{className:d.item_top_btn,onClick:()=>x(),children:e.jsx("div",{className:`${d.item_top_arrow} ${_?d.item_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsxs("div",{className:`${d.item_block} ${_?d.item_block_open:""}`,children:[e.jsxs("div",{className:d.item_onOff,children:[e.jsx("span",{children:"Выкл / Вкл"}),e.jsx("div",{className:d.item_shell,onClick:()=>g(!i),children:e.jsx(Ne,{status:i,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]}),e.jsx(st,{color:"rgb(137, 250, 135)",openBlock:p,setOpenBlock:$,title:"Выберите версию",versionList:r,currentVersion:c,setCurrentVersion:h,setVersionList:u}),e.jsxs("div",{className:d.item_delivery,children:[e.jsx("span",{children:"Доставка"}),e.jsx("div",{className:d.item_shell,onClick:()=>I(!t),children:e.jsx(Ne,{status:t,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]})]})]}),e.jsxs("div",{className:d.item,children:[e.jsxs("div",{className:d.item_top,onClick:()=>b(),children:[e.jsx("h2",{className:d.item_top_title,children:"Кacca"}),e.jsx("button",{className:d.item_top_btn,onClick:()=>b(),children:e.jsx("div",{className:`${d.item_top_arrow} ${n?d.item_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsxs("div",{className:`${d.item_block} ${n?d.item_block_open:""}`,children:[e.jsxs("div",{className:d.item_onOff,children:[e.jsx("span",{children:"Выкл / Вкл"}),e.jsx("div",{className:d.item_shell,onClick:()=>N(!s),children:e.jsx(Ne,{status:s,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]}),e.jsx(st,{color:"rgb(137, 250, 135)",openBlock:l,setOpenBlock:y,title:"Выберите версию",versionList:o,currentVersion:a,setCurrentVersion:f,setVersionList:j})]})]})]})}function Xa(){const{templates:s,setTemplates:t}=ce(),[o,a]=m.useState([...s]);m.useEffect(()=>{a([...s])},[s]);const n=r=>{const i=o.map(c=>c.id===r?{...c,open:!c.open}:c);a(i)},l=(r,i)=>{const c=o.map(p=>p.id===r?{...p,isActive:!0,templateThemes:p.templateThemes.map(u=>u.id===i?{...u,isActive:!0}:{...u,isActive:!1})}:{...p,isActive:!1,templateThemes:p.templateThemes.map(u=>({...u,isActive:!1}))});a(c)};function _(){t(o)}return e.jsxs("div",{className:d.wrapperModules,children:[o.map(r=>e.jsxs("div",{className:d.item,children:[e.jsxs("div",{className:d.item_top,onClick:()=>n(r.id),children:[e.jsx("h2",{className:d.item_top_title,children:r.title}),e.jsx("button",{className:d.item_top_btn,onClick:()=>n(r.id),children:e.jsx("div",{className:`${d.item_top_arrow} ${r.open?d.item_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${d.item_block} ${r.open?d.item_block_open:""}`,children:r.templateThemes.map(i=>e.jsxs("div",{className:d.item_onOff,children:[e.jsx("span",{children:i.title}),e.jsx("div",{className:d.item_shell,onClick:()=>l(r.id,i.id),children:e.jsx(Ne,{status:i.isActive,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]},i.id))})]},r.id)),e.jsxs("div",{className:d.settings_content_buttons,children:[e.jsx("button",{className:`${d.settings_content_btn} ${d.settings_content_btn_cancel}`,children:"Отмена"}),e.jsx("button",{className:`${d.settings_content_btn} ${d.settings_content_btn_save}`,onClick:()=>_(),children:"Сохранить"})]})]})}function Ga({title:s,setOpenModal:t}){const{currentCategory:o}=ce(),[a,n]=m.useState(""),{selectedSuperCategory:l,selectedCategory:_}=qe();m.useEffect(()=>{o=="Котегории"&&l&&r(l),o=="Подкотегории"&&_&&r(_)},[o,l,_]);const r=async c=>{try{const u=await(await Te.get(`https://api.mcrm.uz/api/categories/${c}`)).data;n(u.name.ru)}catch(p){console.error("Ошибка произошла при получении названия варианта категории",p)}},i=()=>{t&&t(!0)};return e.jsxs("div",{className:d.editBlock,onClick:i,children:[a||s,e.jsx(U,{name:"PencilIcon"})]})}const Za="_modalCategory_xzv82_1",Ja="_modalCategory_block_xzv82_10",Qa="_modalCategory_nav_xzv82_16",Ya="_modalCategory_nav_title_xzv82_23",er="_modalCategory_content_xzv82_29",tr="_modalCategory_content_message_xzv82_36",sr="_modalCategory_content_link_xzv82_44",or="_modalCategory_content_link_active_xzv82_72",nr="_modalCategory_content_item_xzv82_82",ar="_modalCategory_content_block_xzv82_104",rr="_modalCategory_content_block_title_xzv82_108",ir="_settings_xzv82_115",cr="_settings_title_xzv82_118",lr="_settings_content_xzv82_123",_r="_settings_content_top_xzv82_126",dr="_settings_content_buttons_xzv82_129",pr="_settings_content_btn_xzv82_139",ur="_settings_content_btn_cancel_xzv82_151",mr="_settings_content_btn_save_xzv82_154",hr="_settings_tools_xzv82_157",gr="_settings_tools_link_xzv82_162",vr="_settings_tools_link_active_xzv82_177",oe={modalCategory:Za,modalCategory_block:Ja,modalCategory_nav:Qa,modalCategory_nav_title:Ya,modalCategory_content:er,modalCategory_content_message:tr,modalCategory_content_link:sr,modalCategory_content_link_active:or,modalCategory_content_item:nr,modalCategory_content_block:ar,modalCategory_content_block_title:rr,settings:ir,settings_title:cr,settings_content:lr,settings_content_top:_r,settings_content_buttons:dr,settings_content_btn:pr,settings_content_btn_cancel:ur,settings_content_btn_save:mr,settings_tools:hr,settings_tools_link:gr,settings_tools_link_active:vr};function br({setCancel:s}){return e.jsxs("div",{className:oe.modalCategory_nav,children:[e.jsx("h2",{className:oe.modalCategory_nav_title,children:"Котегория"}),e.jsx("button",{className:oe.modalCategory_nav_close,onClick:s,children:e.jsx(U,{width:24,height:24,name:"XMarkIcon"})})]})}function xr({superCategory:s,category:t,setMessageStatus:o,fetchCategories:a}){const{currentCategory:n}=ce(),{selectedSuperCategory:l,setSelectedSuperCategory:_}=qe(),{setCurrentCategory:r}=be(),[i,c]=m.useState(10),p=(h,g)=>{if(h.preventDefault(),n==="Подкотегории"){a("category",1,10,g.id);const v=t.filter($=>$.parentId==g.id);r(v),_(g.id),o(!1)}_(g.id)},u=h=>{h.preventDefault();const g=i+10;c(g),a("super",1,g)};return e.jsxs("div",{className:oe.modalCategory_content_block,children:[e.jsx("h2",{className:oe.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:oe.modalCategory_content_item,children:[s.map(h=>e.jsxs(H,{to:"#",className:`${oe.modalCategory_content_link} ${h.id==l?oe.modalCategory_content_link_active:""} `,onClick:g=>p(g,h),children:[h.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},h.id)),e.jsx(H,{to:"#",className:oe.modalCategory_content_link,onClick:h=>u(h),children:"Ещё..."})]})]})}function fr({categoryId:s,category:t,setCategoryId:o,setSubCategory:a,fetchCategories:n}){const{selectedSuperCategory:l}=qe(),[_,r]=m.useState(10),i=p=>{p.preventDefault();const u=_+10;r(u),n("category",1,u,l)},c=(p,u)=>{a(p,u),o(u.id)};return t.length>0&&e.jsxs("div",{className:oe.modalCategory_content_block,children:[e.jsx("h2",{className:oe.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:oe.modalCategory_content_item,children:[t==null?void 0:t.map(p=>e.jsxs(H,{to:"#",className:`${oe.modalCategory_content_link} ${p.id==s?oe.modalCategory_content_link_active:""} `,onClick:u=>c(u,p),children:[p.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},p.id)),e.jsx(H,{to:"#",className:oe.modalCategory_content_link,onClick:p=>i(p),children:"Ещё..."})]})]})}function kr({setSettings:s,setCancel:t}){return e.jsxs("div",{className:oe.settings_content_buttons,children:[e.jsx("button",{className:`${oe.settings_content_btn} ${oe.settings_content_btn_cancel}`,onClick:t,children:"Отмена"}),e.jsx(H,{to:"#",className:`${oe.settings_content_btn} ${oe.settings_content_btn_save}`,onClick:s,children:"Сохранить"})]})}function yr({setOpenModal:s}){const{currentCategory:t}=ce(),{selectedSuperCategory:o,setSelectedSuperCategory:a,selectedCategory:n,setSelectedCategory:l}=qe(),[_,r]=m.useState(0),[i,c]=m.useState(!1),[p,u]=m.useState("Выберите категорию"),[h,g]=m.useState([]),[v,$]=m.useState([]);m.useEffect(()=>{N("super",1,10),n&&r(n)},[]);const I=(y,x)=>{y.preventDefault(),N("subCategory",1,10,x.id),c(!1)},F=()=>{t=="Котегории"?a(o):t=="Подкотегории"&&l(_),j()},j=()=>{c(!1),u("Выберите категорию"),s(!1)},N=async(y,x,b,D)=>{try{const S=y=="super"?`https://api.mcrm.uz/api/categories?&page=${x}&perPage=${b}`:`https://api.mcrm.uz/api/categories?parentId=${D}&page=${x}&perPage=${b}`,W=(await Te.get(S)).data.data.map(L=>({...L,label:y==="super"?"Супер категория":y==="category"?"Категория":"Субкатегория"}));y==="super"&&g([...W]),y==="category"&&$([...W])}catch(S){console.error(`Ошибка произошла при получении ${y} категорий`,S)}},f=()=>{s(!1)};return e.jsx("div",{className:oe.modalCategory,onClick:f,children:e.jsxs("div",{className:oe.modalCategory_block,onClick:y=>y.stopPropagation(),children:[e.jsx(br,{setCancel:j}),e.jsx("p",{className:oe.modalCategory_content_message,children:i?p:""}),e.jsxs("div",{className:oe.modalCategory_content,children:[e.jsx(xr,{superCategory:h,category:v,setMessageStatus:c,fetchCategories:N}),t==="Подкотегории"&&e.jsx(fr,{categoryId:_,category:v,setCategoryId:r,setSubCategory:I,fetchCategories:N}),e.jsx(kr,{setSettings:F,setCancel:j})]})]})})}function jr(){const[s,t]=m.useState(!1),[o,a]=m.useState(!1),{currentCategory:n,categoriesStatus:l,categories:_,setCategoriesStatus:r,setCurrentCategory:i}=ce();m.useEffect(()=>{t(n==="Котегории"||n==="Подкотегории")},[n]);const c=p=>{i(p.title),p.title==="Котегории"||p.title==="Подкотегории"?t(!0):t(!1)};return e.jsxs("div",{className:d.categoriesDropDown,children:[e.jsx("h2",{className:d.categoriesDropDown_title,children:"Настройки каталога"}),o&&e.jsx(yr,{setOpenModal:a}),e.jsxs("div",{className:d.categoriesDropDown_item,children:[e.jsxs("div",{className:d.categoriesDropDown_item_top,onClick:()=>r(!l),children:[e.jsx("h2",{className:d.categoriesDropDown_item_top_title,children:n}),e.jsx("button",{className:d.categoriesDropDown_item_top_btn,onClick:()=>r(!l),children:e.jsx("div",{className:`${d.categoriesDropDown_item_top_arrow} ${l?d.categoriesDropDown_item_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${d.categoriesDropDown_item_block} ${l?d.categoriesDropDown_item_block_open:""}`,children:_.map(p=>e.jsx("div",{className:`${d.categoriesDropDown_item_block_line} ${p.title==n?d.categoriesDropDown_item_block_active:""}`,onClick:()=>c(p),children:p.title},p.id))})]}),s&&e.jsx(Ga,{title:"Выберите вариант",setOpenModal:a})]})}const wr="_banner_1eodh_1",Cr="_banner_title_1eodh_5",Sr="_products_banner_1eodh_10",Nr="_products_banner_wrap_1eodh_13",Ir="_products_banner_wrap_btn_1eodh_19",$r="_products_banner_wrap_filter_1eodh_30",Pr="_products_banner_wrap_filter_text_1eodh_40",Dr="_products_banner_form_1eodh_48",Or="_products_banner_form_wrap_1eodh_53",Fr="_products_banner_form_wrap_btn_1eodh_59",Ar="_products_banner_form_wrap_input_1eodh_75",Br="_products_banner_form_wrap_icon_1eodh_83",Lr="_table_1eodh_87",Mr="_table_tbody_1eodh_92",Wr="_table_tbody_tr_1eodh_97",Er="_table_tbody_tr_active_1eodh_100",Ur="_table_tbody_img_1eodh_103",zr="_table_tr_1eodh_108",Rr="_table_th_1eodh_111",Tr="_table_td_1eodh_122",Vr="_table_td_edit_1eodh_130",qr="_table_btn_1eodh_136",Kr="_versions_1eodh_144",Hr="_versions_block_1eodh_149",Xr="_versions_block_top_1eodh_154",Gr="_versions_block_top_title_1eodh_164",Zr="_versions_block_top_arrow_1eodh_168",Jr="_versions_block_top_arrow_active_1eodh_177",Qr="_versions_block_dropdown_1eodh_180",Yr="_versions_block_dropdown_item_1eodh_195",ei="_versions_block_dropdown_open_1eodh_206",ti="_add_banner_1eodh_213",si="_add_banner_header_1eodh_221",oi="_add_banner_header_title_1eodh_225",ni="_add_banner_content_1eodh_229",ai="_add_banner_content_product_1eodh_232",ri="_add_banner_content_link_1eodh_254",ii="_add_banner_content_info_1eodh_262",ci="_add_banner_content_info_text_1eodh_266",li="_add_banner_content_download_1eodh_272",_i="_add_banner_content_download_link_1eodh_281",di="_add_banner_content_btns_1eodh_293",pi="_add_banner_content_btn_1eodh_293",ui="_category_wrap_1eodh_311",mi="_modalCategory_1eodh_315",hi="_modalCategory_block_1eodh_323",gi="_modalCategory_nav_1eodh_328",vi="_modalCategory_nav_title_1eodh_335",bi="_modalCategory_content_1eodh_341",xi="_modalCategory_content_message_1eodh_348",fi="_modalCategory_content_link_1eodh_356",ki="_modalCategory_content_link_active_1eodh_384",yi="_modalCategory_content_item_1eodh_394",ji="_modalCategory_content_block_1eodh_416",wi="_modalCategory_content_block_title_1eodh_420",Ci="_add_link_1eodh_427",Si="_add_link_title_1eodh_430",Ni="_add_link_input_1eodh_434",Ii="_modal_btn_1eodh_443",O={banner:wr,banner_title:Cr,products_banner:Sr,products_banner_wrap:Nr,products_banner_wrap_btn:Ir,products_banner_wrap_filter:$r,products_banner_wrap_filter_text:Pr,products_banner_form:Dr,products_banner_form_wrap:Or,products_banner_form_wrap_btn:Fr,products_banner_form_wrap_input:Ar,products_banner_form_wrap_icon:Br,table:Lr,table_tbody:Mr,table_tbody_tr:Wr,table_tbody_tr_active:Er,table_tbody_img:Ur,table_tr:zr,table_th:Rr,table_td:Tr,table_td_edit:Vr,table_btn:qr,versions:Kr,versions_block:Hr,versions_block_top:Xr,versions_block_top_title:Gr,versions_block_top_arrow:Zr,versions_block_top_arrow_active:Jr,versions_block_dropdown:Qr,versions_block_dropdown_item:Yr,versions_block_dropdown_open:ei,add_banner:ti,add_banner_header:si,add_banner_header_title:oi,add_banner_content:ni,add_banner_content_product:ai,add_banner_content_link:ri,add_banner_content_info:ii,add_banner_content_info_text:ci,add_banner_content_download:li,add_banner_content_download_link:_i,add_banner_content_btns:di,add_banner_content_btn:pi,category_wrap:ui,modalCategory:mi,modalCategory_block:hi,modalCategory_nav:gi,modalCategory_nav_title:vi,modalCategory_content:bi,modalCategory_content_message:xi,modalCategory_content_link:fi,modalCategory_content_link_active:ki,modalCategory_content_item:yi,modalCategory_content_block:ji,modalCategory_content_block_title:wi,add_link:Ci,add_link_title:Si,add_link_input:Ni,modal_btn:Ii};function ut({color:s="black",title:t="",versionList:o=[],className:a,openBlock:n,setOpenBlock:l,setVersionList:_}){const[r,i]=m.useState(o[0].title),{setChangeCategoryStyles:c}=ue(),p=u=>{const h=o.map(g=>({...g,isOpen:g.id===u.id}));u.title=="Категория"&&c(!0),i(u.title),_(h),l(!1)};return e.jsxs("div",{className:a??O.versions,children:[e.jsx("span",{children:t}),e.jsxs("div",{className:O.versions_block,children:[e.jsxs("div",{className:O.versions_block_top,children:[e.jsx("h2",{className:O.versions_block_top_title,style:{color:s},children:r}),e.jsx("button",{className:O.versions_block_top_btn,onClick:()=>l(!n),children:e.jsx("div",{className:`${O.versions_block_top_arrow} ${n?O.versions_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${O.versions_block_dropdown} ${n?O.versions_block_dropdown_open:""}`,children:o.map(u=>e.jsx("span",{className:O.versions_block_dropdown_item,onClick:()=>p(u),children:u.title},u.id))})]})]})}function Ge({width:s=78,color:t="white",backgroundOn:o="rgba(137, 250, 135, 1)",backgroundOff:a="rgba(193, 193, 193, 1)",speed:n=500,scale:l=1.1,status:_=!1,disabled:r=!1}){const i={width:`${s}px`,height:`${s/2-s/20}px`,background:_?o:a,borderRadius:`${s/2}px`,display:"flex",alignItems:"center",transition:`${n}ms`,cursor:"pointer",opacity:r?1:.3},c={background:`${t}`,height:`${s/2-s/20}px`,width:`${s/2-s/20}px`,border:`${s/25}px solid ${_?o:a}`,borderRadius:"50%",transition:`${n}ms`,transform:`scale(${l}) translateX(${_?"110%":"0"})`};return e.jsx("div",{style:i,children:e.jsx("div",{style:c})})}const We=({arr:s=[{id:"1",title:"Заголовок"},{id:"2",title:"Цена"},{id:"3",title:"Кол-во"},{id:"4",title:""}],arrToUse:t,selectionMode:o,isActive:a=!1,isEdit:n=!1,isCategory:l,isLinks:_,setPickedProduct:r,setPickedProductActive:i})=>{const{bannersArr:c,selectedProductEdit:p,imageUrlEditBanner:u,bannersArrProduct:h,bannersArrLink:g,setBannersArrLink:v,setSelectedProductEdit:$,setImageUrlEditBanner:I,setCurrentProductOpen:F,clearPickedProductsArr:j,setBannersArrProduct:N,setBannersArr:f,setBannersArrCategory:y}=ue(),[x,b]=m.useState("");m.useState(new Set);const D=k=>c.some(E=>E.title===k&&E.isBannerActive),S=(k,E)=>{if(o==="byId"&&(r==null||r(k)),n&&E){const T={id:se(),bannerUrl:u,title:E.title,isProductBanner:!0,isBannerActive:!0,toggleSwitcher:!0};T.title!=null&&!D(T.title)?(N(h.map(A=>A.id===p?T:A)),f(c.map(A=>A.id===p?T:A)),F(!1)):console.warn("Объект с таким brandName уже существует.")}b(k)},P=(k,E)=>{o==="productId"&&(i==null||i(k),S==null||S(k),b(k),j(),E.id&&$(E.id),E.bannerUrl&&I(E.bannerUrl))},W=(k,E,T)=>{if(k.stopPropagation(),T.isBannerActive)a&&(N(t.map(A=>A.id===E?{...A,toggleSwitcher:!A.toggleSwitcher}:A)),f(c.map(A=>A.id===E?{...A,toggleSwitcher:!A.toggleSwitcher}:A))),l&&(y(t.map(A=>A.id===E?{...A,toggleSwitcher:!A.toggleSwitcher}:A)),f(c.map(A=>A.id===E?{...A,toggleSwitcher:!A.toggleSwitcher}:A))),_&&(v(t.map(A=>A.id===E?{...A,toggleSwitcher:!A.toggleSwitcher}:A)),f(c.map(A=>A.id===E?{...A,toggleSwitcher:!A.toggleSwitcher}:A)));else return},L=k=>k.id!==void 0,K=(k,E)=>{k.stopPropagation(),N(t.map(T=>T.id===E.id?{...T,isBannerActive:!1,title:"-"}:T)),f(c.map(T=>T.id===E.id?{...T,isBannerActive:!1,title:"-"}:T))};return e.jsxs("table",{className:O.table,children:[e.jsx("thead",{className:O.table_thead,children:e.jsx("tr",{className:O.table_tr,children:s.map(k=>e.jsx("th",{className:O.table_th,children:k.title},k.id))})}),e.jsx("tbody",{className:O.table_tbody,children:t==null?void 0:t.map(k=>{var E;return e.jsxs("tr",{className:`${O.table_tbody_tr} ${!n&&x==k.id?O.table_tbody_tr_active:""}`,style:{cursor:a||l||_?"pointer":"default"},onClick:()=>P(k.id,k),children:[e.jsxs("td",{className:O.table_td,children:[o==="byId"&&(k==null?void 0:k.title),n?k.title:"",a&&e.jsx("img",{className:O.table_tbody_img,src:k.bannerUrl??"",alt:"Banner"}),l&&e.jsx("img",{className:O.table_tbody_img,src:k.bannerUrl??"",alt:"Banner"}),_&&e.jsx("img",{className:O.table_tbody_img,src:k.bannerUrl??"",alt:"Banner"})]}),e.jsxs("td",{className:O.table_td,children:[l?k.categoryTitle:"",a?k.title:(E=k.nomenclature)==null?void 0:E.price,_&&k.title]}),e.jsx("td",{className:O.table_td,children:a?"":k.crmAmount}),e.jsx("td",{className:O.table_td,children:l?e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:T=>{const A=k;A.id&&W(T,A.id,k)},children:e.jsx(Ge,{width:62,status:L(k)&&k.toggleSwitcher&&k.isBannerActive,disabled:L(k)&&k.isBannerActive})}):a?e.jsxs("div",{className:O.table_td_edit,children:[k.brandName!=="-"&&e.jsx("button",{className:O.table_btn,style:{width:"156px",background:"#FFB5B5"},onClick:T=>K(T,k),children:"Открепить продукт"}),e.jsx("div",{onClick:T=>{const A=k;A.id&&W(T,A.id,k)},children:e.jsx(Ge,{width:62,status:L(k)&&k.toggleSwitcher&&k.isBannerActive,disabled:L(k)&&k.isBannerActive})})]}):_?e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:T=>{const A=k;A.id&&W(T,A.id,k)},children:e.jsx(Ge,{width:62,status:L(k)&&k.toggleSwitcher&&k.isBannerActive,disabled:L(k)&&k.isBannerActive})}):e.jsx("button",{className:O.table_btn,onClick:()=>S(k.id,k),children:n?"Заменить":"Выбрать"})})]},(L(k),k.id))})})]})};function $i({setCancel:s}){return e.jsxs("div",{className:Q.modalCategory_nav,children:[e.jsx("h2",{className:Q.modalCategory_nav_title,children:"Котегория"}),e.jsx("button",{className:Q.modalCategory_nav_close,onClick:s,children:e.jsx(U,{width:24,height:24,name:"XMarkIcon"})})]})}function Pi({superCategory:s,category:t,superId:o,setLocalPicked:a,setSuperId:n,setMessageStatus:l,setSubCategories:_,fetchCategories:r,setSuperCategoryObj:i}){const{changeCategoryStyles:c,categoriesArr:p,setCategoriesArr:u,setActiveCategory:h,setActiveCategoryTitle:g}=ue(),{setCurrentCategory:v}=be(),[$,I]=m.useState(10),F=(N,f)=>{N.preventDefault(),r("category",1,10,f.id),_([]);const y=t.filter(x=>x.parentId==f.id);if(v(y),a(f),n(f.id),l(!1),c&&f.label&&(h(f.label),g(f.name.ru)),c){const x=p.filter(b=>b.label!==f.label);x.push(f),u(x)}i==null||i(f)},j=()=>{const N=$+10;I(N),r("super",1,N),console.log("addPage",N)};return e.jsxs("div",{className:Q.modalCategory_content_block,children:[e.jsx("h2",{className:Q.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:Q.modalCategory_content_item,children:[s.map(N=>e.jsxs(H,{to:"#",className:`${Q.modalCategory_content_link} ${N.id==o?Q.modalCategory_content_link_active:""} `,onClick:f=>F(f,N),children:[N.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},N.id)),e.jsx(H,{to:"#",className:Q.modalCategory_content_link,onClick:()=>j(),children:"Ещё..."})]})]})}function Di({superId:s,categoryId:t,category:o,setSubCategory:a,fetchCategories:n}){const[l,_]=m.useState(10),r=()=>{const c=l+10;_(c),n("category",1,c,s),console.log("addPage",c,s)},i=(c,p)=>{a(c,p)};return o.length>0&&e.jsxs("div",{className:Q.modalCategory_content_block,children:[e.jsx("h2",{className:Q.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:Q.modalCategory_content_item,children:[o==null?void 0:o.map(c=>e.jsxs(H,{to:"#",className:`${Q.modalCategory_content_link} ${c.id==t?Q.modalCategory_content_link_active:""} `,onClick:p=>i(p,c),children:[c.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},c.id)),e.jsx(H,{to:"#",className:Q.modalCategory_content_link,onClick:()=>r(),children:"Ещё..."})]})]})}function Oi({subId:s,categoryId:t,subCategories:o,setSubProductsList:a,fetchCategories:n}){const[l,_]=m.useState(10),r=()=>{const i=l+10;_(i),n("subCategory",1,i,t),console.log("addPage",i)};return o.length>0&&e.jsxs("div",{className:Q.modalCategory_content_block,children:[e.jsx("h2",{className:Q.modalCategory_content_block_title,children:"Подкотегория"}),e.jsxs("div",{className:Q.modalCategory_content_item,children:[o==null?void 0:o.map(i=>e.jsxs(H,{to:"#",className:`${Q.modalCategory_content_link} ${i.id==s?Q.modalCategory_content_link_active:""} `,onClick:c=>a(c,i),children:[i.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},i.id)),e.jsx(H,{to:"#",className:Q.modalCategory_content_link,onClick:()=>r(),children:"Ещё..."})]})]})}function Fi({setSettings:s,setCancel:t}){return e.jsxs("div",{className:Q.settings_content_buttons,children:[e.jsx("button",{className:`${Q.settings_content_btn} ${Q.settings_content_btn_cancel}`,onClick:t,children:"Отмена"}),e.jsx("button",{className:`${Q.settings_content_btn} ${Q.settings_content_btn_save}`,onClick:s,children:"Сохранить"})]})}function Ke({isProduct:s,isCategory:t=!1}){const{setOpenModalCategory:o,setPickedCategory:a,setCurrentCategory:n,setCurrentSubCategory:l}=be(),{changeCategoryStyles:_,categoriesArr:r,pickedProducts:i,setCategoriesArr:c,setPickedProducts:p,setActiveCategory:u,setActiveCategoryTitle:h,setOpenModalCategoryBanner:g}=ue(),v=_?O:Q;Ve();const[$,I]=m.useState(0),[F,j]=m.useState(0),[N,f]=m.useState(0),[y,x]=m.useState({}),[b,D]=m.useState(!1),[S,P]=m.useState("Выберите категорию"),[W,L]=m.useState([]),[K,k]=m.useState([]),[E,T]=m.useState([]),[A,fe]=m.useState(null),[ve,me]=m.useState(null),[te,le]=m.useState(null);m.useEffect(()=>{console.log("pickedProducts",i)},[i]),m.useEffect(()=>{we("super",1,10)},[]);const[C]=m.useState(1),[w]=m.useState(10);m.useState([]);const q=(re,J)=>{re.preventDefault(),we("subCategory",1,10,J.id);const he=E.filter(ke=>ke.parentId==J.id);if(l(he),x(J),j(J.id),D(!1),_&&J.label&&(u(J.label),h(J.name.ru)),_){const ke=r.filter(Be=>Be.label!==J.label);ke.push(J),c(ke)}me(J)},G=(re,J)=>{if(re.preventDefault(),x(J),f(J.id),D(!1),_&&J.label&&(u(J.label),h(J.name.ru)),_){const he=r.filter(ke=>ke.name.ru!==J.name.ru);he.push(J),console.log("newCategories",he),c(he)}le(J)};async function Y(re){const J=je.get("multi-store");try{const he=await ie.get(`web-nomenclatures?multiStoreId=${J}&categoryId=${re}&page=${C}&perPage=${w}`);p(he.data.data)}catch(he){console.log("error",he)}}const _e=()=>{if(Object.keys(y).length===0){D(!0),P("Выберите Суперкотегорию");return}if(K.length>0&&F===0){D(!0),P("Выберите Категорию");return}if(E.length>0&&N===0){D(!0),P("Выберите Подкотегорию");return}console.log(y),Y(y.id);const re=[];A&&re.push(A),ve&&re.push(ve),te&&re.push(te),c(re),Oe()},Oe=()=>{a(y),o(!1),I(0),j(0),f(0),x({}),n([]),l([]),D(!1),P("Выберите категорию"),g(!1)},we=async(re,J,he,ke)=>{try{const Be=re=="super"?`https://api.mcrm.uz/api/categories?&page=${J}&perPage=${he}`:`https://api.mcrm.uz/api/categories?parentId=${ke}&page=${J}&perPage=${he}`,Xe=(await Te.get(Be)).data.data.map(Pt=>({...Pt,label:re==="super"?"Супер категория":re==="category"?"Категория":"Субкатегория"}));re==="super"&&L([...Xe]),re==="category"&&k([...Xe]),re==="subCategory"&&T([...Xe])}catch(Be){console.error(`Ошибка произошла при получении ${re} категорий`,Be)}};return e.jsx("div",{className:v.modalCategory,children:e.jsxs("div",{className:v.modalCategory_block,children:[!_&&e.jsx($i,{setCancel:Oe}),e.jsx("p",{className:v.modalCategory_content_message,children:b?S:""}),e.jsxs("div",{className:v.modalCategory_content,children:[e.jsx(Pi,{superId:$,superCategory:W,category:K,setLocalPicked:x,setSuperId:I,setMessageStatus:D,fetchCategories:we,setSubCategories:T,setSuperCategoryObj:fe}),e.jsx(Di,{superId:$,categoryId:F,category:K,setSubCategory:q,fetchCategories:we}),e.jsx(Oi,{subId:N,categoryId:F,subCategories:E,setSubProductsList:G,fetchCategories:we}),!t&&e.jsx(Fi,{setSettings:_e,setCancel:Oe})]})]})})}const Fe=({title:s,currentProductEdit:t,isEdit:o,isCategory:a,isLinks:n,linkTextEdit:l,deleteBanner:_,isProduct:r})=>{const{currentProductTable:i,changeCategoryStyles:c,categoriesArr:p,bannersArr:u,linksPageBannerText:h,openLinksPage:g,openProductsPage:v,activeCategory:$,activeCategoryTitle:I,bannersArrProduct:F,bannersArrCategory:j,bannersArrLink:N,setBannersArrLink:f,setCurrentProductOpen:y,clearCategoriesArr:x,addBannerToArr:b,setLinksPageBannerText:D,setBannersArrProduct:S,setBannersArr:P,setBannersArrCategory:W}=ue(),[L,K]=m.useState(null),[k,E]=m.useState(null),[T,A]=m.useState(""),fe=C=>{if(C.target.files&&C.target.files[0]){const w=C.target.files[0];console.log("file",w),E(w);const q=new FileReader;q.onloadend=()=>{const G=q.result;K(G)},q.readAsDataURL(w)}},ve=()=>{document.getElementById("upload").click()},me=()=>{if(!k)return;const C=()=>{switch($){case"Супер категория":return"superCategory";case"Категория":return"bannerCategory";case"Субкатегория":return"subCategory";default:return""}};if(k&&i&&v){const w={id:se(),bannerUrl:L||"",title:i.title,isProductBanner:!0,isBannerActive:!0,toggleSwitcher:!0};u.some(Y=>Y.title===w.title)||b(w),y(!1),K(null),E(null);const G=document.getElementById("upload");G&&(G.value="")}if(c&&g==!1){const w=C(),q={id:se(),bannerUrl:L||"",categoryLabel:w,categoryTitle:I,isCategoryBanner:!0,isBannerActive:!0,toggleSwitcher:!0};u.some(_e=>_e.categoryTitle===q.categoryTitle)||b(q),K(null),E(null);const Y=document.getElementById("upload");Y&&(Y.value="")}if(g&&h){const w={id:se(),bannerUrl:L||"",title:h,isLinkBanner:!0,isBannerActive:!0,toggleSwitcher:!0};u.some(Y=>Y.title===w.title)||(b(w),console.log("bannersArr",u)),K(null),E(null),D("");const G=document.getElementById("upload");G&&(G.value="")}},te=()=>{L===null?(console.log("bannersArrProduct",F),console.log("bannersArr",u),o&&(a&&(A((()=>{switch($){case"Супер категория":return"superCategory";case"Категория":return"bannerCategory";case"Субкатегория":return"subCategory";default:return""}})()),W(j.map(w=>w.id===(i==null?void 0:i.id)?{...w,categoryTitle:I,activeCategoryEdit:T}:w))),n&&(f(N.map(C=>C.id===(t==null?void 0:t.id)?{...C,title:l}:C)),P(u.map(C=>C.id===(t==null?void 0:t.id)?{...C,title:l}:C))),y(!1))):o&&(r&&(S(F.map(C=>C.id===(t==null?void 0:t.id)?{...C,bannerUrl:L}:C)),P(u.map(C=>C.id===(t==null?void 0:t.id)?{...C,bannerUrl:L}:C))),a&&(W(j.map(C=>C.id===(t==null?void 0:t.id)?{...C,bannerUrl:L,categoryTitle:I}:C)),P(u.map(C=>C.id===(t==null?void 0:t.id)?{...C,bannerUrl:L,categoryTitle:I}:C))),n&&(f(N.map(C=>C.id===(t==null?void 0:t.id)?{...C,bannerUrl:L,title:l}:C)),P(u.map(C=>C.id===(t==null?void 0:t.id)?{...C,bannerUrl:L,title:l}:C))),y(!1))},le=()=>{_==null||_(t==null?void 0:t.id),y(!1)};return e.jsxs("div",{className:O.add_banner,children:[e.jsx("div",{className:O.add_banner_header,children:e.jsx("h3",{className:O.add_banner_header_title,children:"Баннер"})}),e.jsxs("div",{className:O.add_banner_content,children:[c?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:O.add_banner_content_product,children:[s,":",a&&e.jsxs("span",{children:[" ",t==null?void 0:t.categoryTitle]}),n&&e.jsxs("span",{children:[" ",t==null?void 0:t.title]})]}),p==null?void 0:p.map(C=>e.jsx("span",{className:O.add_banner_content_product,children:C.name.ru},C.name.ru))]}):e.jsx("p",{className:O.add_banner_content_product,children:g?`${s}: ${h}`:`${s}: ${i==null?void 0:i.title}`}),e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},id:"upload",onChange:fe}),e.jsx("label",{htmlFor:"upload",className:O.add_banner_content_link,children:"Загрузить"}),e.jsx("div",{className:O.add_banner_content_info,children:e.jsx("p",{className:O.add_banner_content_info_text,children:"Оптимальный размер картинки 800x800px (прозрачный фон) максимальный размер 10MB"})}),o?e.jsx("div",{className:O.add_banner_content_download,children:e.jsx("img",{src:L||(t==null?void 0:t.bannerUrl),alt:"",style:{width:"555px",height:"229px",objectFit:"cover"}})}):e.jsx("div",{className:O.add_banner_content_download,children:L?e.jsx("img",{src:L,alt:"Uploaded",className:O.add_banner_content_download_image,style:{width:"555px",height:"229px",objectFit:"cover"}}):e.jsxs("a",{className:O.add_banner_content_download_link,onClick:()=>ve(),children:[e.jsx(U,{name:"PhotoIcon",width:72,height:72,color:"#C1C1C1"}),e.jsx("span",{children:"Загрузите баннер"})]})}),o?e.jsxs("div",{className:O.add_banner_content_btns,children:[e.jsx("button",{className:O.add_banner_content_btn,onClick:le,style:{background:"#FFB5B5"},children:"Удалить"}),e.jsx("button",{className:O.add_banner_content_btn,style:{background:"#01C2EE"},onClick:()=>te(),children:"Изменить"})]}):e.jsxs("div",{className:O.add_banner_content_btns,children:[e.jsx("button",{className:O.add_banner_content_btn,onClick:()=>y(!1),children:"Отмена"}),e.jsx("button",{className:O.add_banner_content_btn,onClick:()=>me(),children:"Сохранить"})]})]})]})};function mt({inputText:s,setInputText:t,filteredUsers:o,isProductEdit:a}){const{categoriesArr:n,filteredSubCategory:l,filteredCategory:_,filteredSuperCategory:r,setCurrentProductOpen:i,setChangeCategoryStyles:c,setOpenModalCategoryBanner:p,clearCategoriesArr:u,setFilteredSubCategory:h,setFilteredCategory:g,setFilteredSuperCategory:v}=ue(),$=()=>{a&&i(!1),c(!1),p(!0),u()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:O.products_banner_wrap,children:[e.jsx("button",{className:O.products_banner_wrap_btn,onClick:$,children:e.jsx(U,{name:"FunnelIcon",width:20})}),(n==null?void 0:n.length)!==0&&e.jsx("div",{className:O.products_banner_wrap_filter,children:n==null?void 0:n.map(I=>e.jsx("span",{className:O.products_banner_wrap_filter_text,children:I.name.ru},I.id))}),e.jsxs("form",{action:"",className:O.products_banner_form,onSubmit:I=>o==null?void 0:o(I),children:[e.jsxs("div",{className:O.products_banner_form_wrap,children:[e.jsx("input",{type:"text",className:O.products_banner_form_wrap_input,placeholder:"Поиск товаров",value:s,onChange:I=>t==null?void 0:t(I.target.value)}),e.jsx(U,{className:O.products_banner_form_wrap_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:O.products_banner_form_wrap_btn,children:"Найти"})]})]})})}const Ai=[{id:"1",title:"Заголовок"},{id:"2",title:"Цена"},{id:"3",title:"Кол-во"},{id:"4",title:""}],Bi=()=>{const{openModalCategoryBanner:s,currentProductOpen:t,searchTextBanner:o,pickedProducts:a,webProductsArr:n,setCurrentProductTable:l,clearCategoriesArr:_,setSearchTextBanner:r,clearPickedProductsArr:i,setOpenLinksPage:c,setOpenProductsPage:p,setCurrentProductOpen:u,setOpenModalCategoryBanner:h}=ue(),[g,v]=m.useState(""),$=f=>{f.preventDefault(),r(g),_()},I=f=>{const y=n.find(x=>x.id===f);y&&(console.log("currentProduct",y),l(y),u(!0))},[F,j]=m.useState([]);m.useEffect(()=>{let f=n;f=f==null?void 0:f.filter(y=>{var x;return(x=y.title)==null?void 0:x.toLowerCase().includes(o.toLowerCase())}),j(f)},[o,n]);const N=o?F:a;return m.useEffect(()=>{g===""&&(r(""),i(),u(!1)),s&&v("")},[g,s]),m.useEffect(()=>{u(!1),c(!1),p(!0),h(!1),_()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:O.products_banner,style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(mt,{inputText:g,setInputText:v,filteredUsers:$}),e.jsx(We,{arrToUse:N,arr:Ai,setPickedProduct:I,selectionMode:"byId"})]}),s&&e.jsx(Ke,{isProduct:!0}),t&&e.jsx(Fe,{title:"Товар"})]})},Li=()=>{const{categoriesArr:s,setOpenLinksPage:t,setChangeCategoryStyles:o,setOpenProductsPage:a}=ue();return m.useEffect(()=>{t(!1),o(!0),a(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:O.category_wrap,children:e.jsx(Ke,{isCategory:!0})}),e.jsx(Fe,{title:"Каталог",categories:s})]})},Mi=()=>{const{linksPageBannerText:s,setLinksPageBannerText:t,setOpenLinksPage:o,setChangeCategoryStyles:a,setOpenProductsPage:n}=ue();return m.useEffect(()=>{o(!0),a(!1),t(""),n(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:O.add_link,children:[e.jsx("h3",{className:O.add_link_title,children:"Ссылка на станицу"}),e.jsx("input",{className:O.add_link_input,type:"text",value:s,onChange:l=>t(l.target.value)})]}),e.jsx(Fe,{title:"Страница"})]})};function Wi(){const{bannerDropdownOptions:s,openBannerDropdown:t,setBannerDropdownOptions:o,setOpenBannerDropdown:a,resetDropdownToDefault:n}=ue(),l=()=>{const _=s.find(r=>r.isOpen);if(!_)return null;switch(_.title){case"Продукт":return e.jsx(Bi,{});case"Категория":return e.jsx(Li,{});case"Страница":return e.jsx(Mi,{});default:return null}};return m.useEffect(()=>{n()},[]),e.jsxs("div",{className:O.banner,children:[e.jsx("h3",{className:O.banner_title,children:"Выберите вариант куда прикрепить баннер"}),e.jsx(ut,{openBlock:t,setOpenBlock:a,versionList:s,setVersionList:o}),e.jsx("div",{className:O.banner_content,children:l()})]})}const Ei=[{id:"1",title:"Баннер"},{id:"2",title:"Продукт"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],Ui=()=>{const{pickedProducts:s,currentProductOpen:t,openModalCategoryBanner:o,bannersArr:a,searchTextBanner:n,currentProductTable:l,bannersArrProduct:_,webProductsArr:r,clearPickedProductsArr:i,clearCategoriesArr:c,setCurrentProductOpen:p,setCurrentProductTable:u,setSearchTextBanner:h,setOpenLinksPage:g,setOpenProductsPage:v,setOpenModalCategoryBanner:$,setBannersArrProduct:I,setBannersArr:F}=ue(),[j,N]=m.useState(""),[f,y]=m.useState([]),x=P=>{P.preventDefault(),h(j),c()},b=P=>{const W=_.find(L=>L.id===P);W&&(u(W),p(!0))};m.useEffect(()=>{let P=r;P=P==null?void 0:P.filter(W=>{var L;return(L=W.title)==null?void 0:L.toLowerCase().includes(n.toLowerCase())}),y(P)},[n,r]);const D=P=>{I(_.filter(W=>W.id!=P)),F(a.filter(W=>W.id!==P))},S=n?f:s;return m.useEffect(()=>{p(!1),g(!1),v(!0),$(!1),c()},[p,g,v,$,c]),m.useEffect(()=>{j===""&&(h(""),i())},[j]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(We,{arrToUse:_,arr:Ei,setPickedProductActive:b,selectionMode:"productId",isActive:!0}),t&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(mt,{filteredUsers:x,setInputText:N}),e.jsx(We,{arrToUse:S,isEdit:!0,selectionMode:"mxikCode"}),e.jsx(Fe,{title:"Продукт",currentProductEdit:l,isEdit:!0,isProduct:!0,deleteBanner:D})]})]}),o&&e.jsx(Ke,{})]})},zi=[{id:"1",title:"Баннер"},{id:"2",title:"Каталог"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],Ri=()=>{const{bannersArr:s,bannersArrCategory:t,currentProductTable:o,currentProductOpen:a,setCurrentProductOpen:n,setBannersArr:l,setCurrentProductTable:_,setBannersArrCategory:r}=ue(),i=p=>{const u=t.find(h=>h.id===p);u&&(_(u),n(!0),console.log("currentProductTable",o))},c=p=>{r(t.filter(u=>u.id!=p)),l(s.filter(u=>u.id!==p))};return m.useEffect(()=>{n(!1)},[]),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(We,{arr:zi,arrToUse:t,selectionMode:"productId",isCategory:!0,setPickedProductActive:i}),a&&e.jsx(Ke,{isCategory:!0}),a&&e.jsx(Fe,{title:"Каталог",currentProductEdit:o,isEdit:!0,isCategory:!0,deleteBanner:c})]})},Ti=({setLinkText:s,currentProductEdit:t})=>{ue();const[o,a]=m.useState(t.brandName||""),n=l=>{a(l),s(l)};return m.useEffect(()=>{a(t.brandName||"")},[t.brandName]),e.jsxs("div",{children:[e.jsx("p",{className:O.add_link_title,children:"Ссылка на страницу"}),e.jsx("input",{className:O.add_link_input,type:"text",onChange:l=>n(l.target.value),value:o})]})},Vi=[{id:"1",title:"Баннер"},{id:"2",title:"Страницы"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],qi=()=>{const{bannersArr:s,bannersArrLink:t,currentProductOpen:o,currentProductTable:a,setBannersArr:n,setBannersArrLink:l,setCurrentProductTable:_,setCurrentProductOpen:r}=ue(),[i,c]=m.useState(""),p=h=>{const g=t.find(v=>v.id===h);g&&(_(g),console.log("currentProductTable",a),r(!0))},u=h=>{l(t.filter(g=>g.id!=h)),n(s.filter(g=>g.id!==h))};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(We,{arr:Vi,arrToUse:t,selectionMode:"productId",setPickedProductActive:p,isLinks:!0}),o&&e.jsxs(e.Fragment,{children:[e.jsx(Ti,{setLinkText:c,currentProductEdit:a}),e.jsx(Fe,{title:"Страница",currentProductEdit:a,deleteBanner:u,isLinks:!0,isEdit:!0,linkTextEdit:i})]})]})};function Ki(){const{bannerDropdownOptions:s,openBannerDropdown:t,bannersArr:o,bannersArrProduct:a,bannersArrCategory:n,bannersArrLink:l,setBannerDropdownOptions:_,setOpenBannerDropdown:r,resetDropdownToDefault:i,setBannersArrProduct:c,setBannersArrCategory:p,setBannersArrLink:u}=ue();m.useEffect(()=>{c(o.filter(g=>g.isProductBanner===!0)),p(o.filter(g=>g.isCategoryBanner===!0)),u(o.filter(g=>g.isLinkBanner===!0))},[]);const h=()=>{const g=s.find(v=>v.isOpen);if(!g)return null;switch(g.title){case"Продукт":return e.jsx(Ui,{});case"Категория":return e.jsx(Ri,{});case"Страница":return e.jsx(qi,{});default:return null}};return m.useEffect(()=>{i()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h3",{className:O.banner_title,children:"Выберите вариант редактирования баннера"}),e.jsx(ut,{openBlock:t,setOpenBlock:r,versionList:s,setVersionList:_})]}),e.jsx("div",{className:O.banner_content,children:h()})]})}const Hi=[{id:1,title:"Новый",href:"/admin/settings/banner"},{id:2,title:"Активные",href:"/admin/settings/banner/activeBanner"}];function Xi(){const[s]=m.useState(1),[t]=m.useState(10),a=ae().pathname,{setCurrentProductOpen:n,setWebProductsArr:l}=ue();m.useEffect(()=>{n(!1)},[]);async function _(){const r=je.get("multi-store");try{const i=await ie.get(`web-nomenclatures?multiStoreId=${r}&page=${s}&perPage=${t}`);l(i.data.data)}catch(i){console.log("error",i)}}return m.useEffect(()=>{_()},[]),e.jsx("div",{className:d.banner,children:e.jsxs("div",{className:d.banner_nav,children:[e.jsx("ul",{className:d.banner_nav_list,children:Hi.map(r=>e.jsx("li",{children:e.jsx(H,{to:r.href,className:`${d.banner_nav_link} ${r.href==a?d.banner_nav_link_active:""}`,children:r.title})},r.id))}),a.startsWith("/admin/settings/banner")&&e.jsxs("div",{className:d.settings_content_base,children:[a=="/admin/settings/banner"&&e.jsx(Wi,{}),a=="/admin/settings/banner/activeBanner"&&e.jsx(Ki,{})]})]})})}const Gi="_contacts_mxkpi_1",Zi="_contacts_content_mxkpi_4",Ji="_contacts_nav_mxkpi_7",Qi="_contacts_nav_list_mxkpi_10",Yi="_contacts_nav_link_mxkpi_15",ec="_contacts_nav_link_active_mxkpi_30",tc="_contacts_btn_mxkpi_34",sc="_socials_mxkpi_55",oc="_socials_title_mxkpi_60",nc="_socials_content_mxkpi_65",ac="_socials_content_wrap_mxkpi_70",rc="_socials_content_wrap_input_mxkpi_75",ic="_aboutUs_mxkpi_84",cc="_aboutUs_add_image_mxkpi_87",lc="_aboutUs_content_mxkpi_90",_c="_aboutUs_image_wrap_mxkpi_95",dc="_aboutUs_download_mxkpi_104",pc="_aboutUs_text_mxkpi_112",uc="_aboutUs_inputs_mxkpi_120",mc="_aboutUs_inputs_wrap_mxkpi_126",hc="_aboutUs_inputs_wrap_title_mxkpi_130",gc="_aboutUs_inputs_wrap_input_mxkpi_136",vc="_aboutUs_inputs_wrap_textarea_mxkpi_144",bc="_aboutUs_btn_mxkpi_152",xc="_aboutUs_week_info_mxkpi_172",fc="_aboutUs_week_info_text_mxkpi_178",kc="_aboutUs_week_content_mxkpi_183",yc="_aboutUs_week_wrap_mxkpi_189",jc="_aboutUs_week_wrap_colored_mxkpi_193",wc="_aboutUs_week_wrap_colored_active_mxkpi_203",Cc="_aboutUs_week_wrap_colored_last_mxkpi_206",Sc="_aboutUs_week_wrap_day_mxkpi_209",Nc="_aboutUs_week_wrap_schedule_mxkpi_215",Ic="_aboutUs_week_wrap_input_mxkpi_221",$c="_custom_checkbox_mxkpi_241",Pc="_custom_checkbox_input_mxkpi_247",Dc="_custom_checkbox_box_mxkpi_252",Oc="_custom_checkbox_box_icon_mxkpi_261",z={contacts:Gi,contacts_content:Zi,contacts_nav:Ji,contacts_nav_list:Qi,contacts_nav_link:Yi,contacts_nav_link_active:ec,contacts_btn:tc,socials:sc,socials_title:oc,socials_content:nc,socials_content_wrap:ac,socials_content_wrap_input:rc,aboutUs:ic,aboutUs_add_image:cc,aboutUs_content:lc,aboutUs_image_wrap:_c,aboutUs_download:dc,aboutUs_text:pc,aboutUs_inputs:uc,aboutUs_inputs_wrap:mc,aboutUs_inputs_wrap_title:hc,aboutUs_inputs_wrap_input:gc,aboutUs_inputs_wrap_textarea:vc,aboutUs_btn:bc,aboutUs_week_info:xc,aboutUs_week_info_text:fc,aboutUs_week_content:kc,aboutUs_week_wrap:yc,aboutUs_week_wrap_colored:jc,aboutUs_week_wrap_colored_active:wc,aboutUs_week_wrap_colored_last:Cc,aboutUs_week_wrap_day:Sc,aboutUs_week_wrap_schedule:Nc,aboutUs_week_wrap_input:Ic,custom_checkbox:$c,custom_checkbox_input:Pc,custom_checkbox_box:Dc,custom_checkbox_box_icon:Oc},Fc=({temporaryImageUrl:s,setTemporaryImageUrl:t})=>{Ze();const[o,a]=m.useState(null),[n,l]=m.useState(null);m.useEffect(()=>{const i=localStorage.getItem("savedLogoImageUrl");i&&(a(i),t(i))},[t]);const _=i=>{if(i.target.files&&i.target.files[0]){const c=i.target.files[0];l(c);const p=new FileReader;p.onloadend=()=>{const u=p.result;a(u),t(u),localStorage.setItem("savedLogoImageUrl",u)},p.readAsDataURL(c)}},r=()=>{document.getElementById("upload").click()};return e.jsxs("div",{className:z.aboutUs_add_image,children:[e.jsx("div",{className:z.aboutUs_image_wrap,children:o||s?e.jsx("img",{src:s||o,alt:"Uploaded",style:{width:"60px",height:"60px",objectFit:"contain"}}):e.jsx("a",{style:{cursor:"pointer"},onClick:()=>r(),children:e.jsx(U,{name:"PhotoIcon",width:33,height:33,color:"#C1C1C1"})})}),e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},id:"upload",onChange:_}),e.jsx("label",{htmlFor:"upload",className:z.aboutUs_download,children:"Загрузить"}),e.jsx("p",{className:z.aboutUs_text,children:"Оптимальный размер картинки 500x500px (прозрачный фон) максимальный размер 10MB"})]})};function Ie(){return Ie=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a])}return s},Ie.apply(this,arguments)}const ht=(s,t)=>{const o={};for(const a in s)t.indexOf(a)===-1&&(o[a]=s[a]);return o},gt=ne.createContext(null),He=ne.createContext(null),Ac=s=>t=>ne.createElement(He.Consumer,null,o=>ne.createElement(s,Ie({parent:o},t))),Bc=(s=[])=>{const[t,o]=m.useState(!1),a=m.useRef(s),n=(()=>{const _=m.useContext(gt);if(_===null)throw new Error("Couldn't find Yandex.Maps API in the context. Make sure that hook useYMaps is inside <YMaps /> provider");return _})(),l=n.getApi();return m.useEffect(()=>{n.load().then(()=>Promise.all(a.current.map(n.loadModule))).then(()=>o(!0))},[]),t&&l?l:null},Lc=()=>{},Mc=["onLoad","onError","modules","apiLoader"];function vt(s,t=!1,o=[]){return a=>{const{width:n,height:l,modules:_=[],onLoad:r=Lc}=a,i=Bc(o.concat(_)),c=!t||!!i,p=ht(a,Mc);return m.useEffect(()=>i?r(i):void 0,[i]),c?ne.createElement(s,Ie({ymaps:i},p)):ne.createElement("div",{style:{width:n,height:l}})}}const Wc=typeof window<"u",ot={lang:"ru_RU",load:"",ns:"",mode:"release"},Ec=s=>{const{version:t="2.1",enterprise:o=!1,query:a={lang:"ru_RU",load:"",ns:""},preload:n=!1,children:l}=s,_=m.useRef((r=>{const{query:i=ot}=r,c=Date.now().toString(32),p=i.ns||"",u="__yandex-maps-api-onload__$$"+c,h="__yandex-maps-api-onerror__$$"+c,g=Wc?window:{},v={};let $;const I=()=>p?g[p]:$,F=()=>{delete g[u],delete g[h]};return{load:()=>{if(I())return Promise.resolve($);if(v[p])return v[p];const j={onload:u,onerror:h,...ot,...i},N=Object.keys(j).map(y=>`${y}=${j[y]}`).join("&"),f=[`https://${r.enterprise?"enterprise.":""}api-maps.yandex.ru`,r.version,"?"+N].join("/");return v[p]=new Promise((y,x)=>{g[u]=b=>{F(),b.ready(()=>{$=b,y(b)})},g[h]=b=>{F(),x(b)},(b=>new Promise((D,S)=>{const P=document.createElement("script");P.type="text/javascript",P.onload=D,P.onerror=S,P.src=b,P.async=!0,document.head.appendChild(P)}))(f).catch(g[h])}),v[p]},getApi:I,loadModule:j=>new Promise((N,f)=>{$.modules.require(j).done(y=>{y.forEach(x=>{((b,D,S,P=!1)=>{const W=typeof D=="string"?D.split("."):D.slice();let L,K=b;for(;W.length>1;)L=W.shift(),K[L]||(K[L]={}),K=K[L];const k=W[0];K[k]=P===!0&&K[k]||S})($,j,x,!0)}),N($)},f)})}})({version:t,enterprise:o,query:a,preload:n}));return m.useEffect(()=>{n&&_.current.load()},[_.current]),ne.createElement(gt.Provider,{value:_.current},l)},nt=/^on(?=[A-Z])/;function ee(s){return Object.keys(s).reduce((t,o)=>{if(nt.test(o)){const a=o.replace(nt,"").toLowerCase();t._events[a]=s[o]}else t[o]=s[o];return t},{_events:{}})}function Pe(s,t,o){typeof o=="function"&&s.events.add(t,o)}function De(s,t,o){typeof o=="function"&&s.events.remove(t,o)}function Ae(s,t,o){Object.keys(Object.assign({},t,o)).forEach(a=>{t[a]!==o[a]&&(De(s,a,t[a]),Pe(s,a,o[a]))})}const bt=s=>"default"+s.charAt(0).toUpperCase()+s.slice(1);function de(s,t){return s[t]!==void 0||s[bt(t)]===void 0}function B(s,t,o){return(de(s,t)?s[t]:s[bt(t)])||o}function pe(s,t,o=null){if(s!==t){if(s&&("current"in s?s.current=null:typeof s=="function"&&s(null)),!t)return;"current"in t?t.current=o:typeof t=="function"&&t(o)}}function xt(s){const{width:t,height:o,style:a,className:n}=s;return a!==void 0||n!==void 0?Object.assign({},a&&{style:a},n&&{className:n}):{style:{width:t,height:o}}}class Uc extends ne.Component{constructor(t){super(t),this.state={error:null,errorInfo:null}}componentDidCatch(t,o){const{onError:a=()=>{}}=this.props;a(t),this.setState({error:t,errorInfo:o})}render(){return this.state.error?null:this.props.children}}const ft=s=>({onError:t,...o})=>ne.createElement(Uc,{onError:t},ne.createElement(s,o));class Le extends ne.Component{constructor(){super(),this.instance=null,this.state={instance:null},this._parentElement=null,this._getRef=t=>{this._parentElement=t}}componentDidMount(){this.instance=Le.mountObject(this._parentElement,this.props.ymaps.Map,this.props),this.setState({instance:this.instance})}componentDidUpdate(t){this.instance!==null&&Le.updateObject(this.instance,t,this.props)}componentWillUnmount(){Le.unmountObject(this.instance,this.props)}render(){const t=xt(this.props),o=ee(this.props),a=ht(o,["_events","state","defaultState","options","defaultOptions","instanceRef","ymaps","children","width","height","style","className"]);return ne.createElement(He.Provider,{value:this.state.instance},ne.createElement("div",Ie({ref:this._getRef},t,a),this.props.children))}static mountObject(t,o,a){const{instanceRef:n,_events:l}=ee(a),_=new o(t,B(a,"state"),B(a,"options"));return Object.keys(l).forEach(r=>Pe(_,r,l[r])),pe(null,n,_),_}static updateObject(t,o,a){const{_events:n,instanceRef:l}=ee(a),{_events:_,instanceRef:r}=ee(o);if(de(a,"state")){const i=B(o,"state",{}),c=B(a,"state",{});i.type!==c.type&&t.setType(c.type),i.behaviors!==c.behaviors&&(i.behaviors&&t.behaviors.disable(i.behaviors),c.behaviors&&t.behaviors.enable(c.behaviors)),c.zoom&&i.zoom!==c.zoom&&t.setZoom(c.zoom),c.center&&i.center!==c.center&&t.setCenter(c.center),c.bounds&&i.bounds!==c.bounds&&t.setBounds(c.bounds)}if(de(a,"options")){const i=B(o,"options"),c=B(a,"options",{});i!==c&&t.options.set(c)}B(o,"width")===B(a,"width")&&B(o,"height")===B(a,"height")||t.container.fitToViewport(),Ae(t,_,n),pe(r,l,t)}static unmountObject(t,o){const{instanceRef:a,_events:n}=ee(o);t!==null&&(Object.keys(n).forEach(l=>De(t,l,n[l])),t.destroy(),pe(a))}}const kt=ft(vt(Le,!0,["Map"]));kt.defaultProps={width:320,height:240};class Ee extends ne.Component{constructor(){super(),this.state={instance:null},this._parentElement=null,this._getRef=t=>{this._parentElement=t}}componentDidMount(){this._mounted=!0,this.props.ymaps.panorama.isSupported()&&Ee.mountObject(this._parentElement,this.props.ymaps.panorama,this.props).then(t=>this._mounted&&this.setState({instance:t}))}componentDidUpdate(t){this.state.instance!==null&&Ee.updateObject(this.state.instance,t,this.props)}componentWillUnmount(){this._mounted=!1,Ee.unmountObject(this.state.instance,this.props)}render(){const t=xt(this.props);return ne.createElement("div",Ie({ref:this._getRef},t))}static mountObject(t,o,a){const{instanceRef:n,_events:l}=ee(a),_=B(a,"point"),r=B(a,"locateOptions"),i=B(a,"options");return new Promise((c,p)=>{o.locate(_,r).done(u=>{if(u.length>0){const h=new o.Player(t,u[0],i);pe(null,n,h),Object.keys(l).forEach(g=>Pe(h,g,l[g])),c(h)}},p)})}static updateObject(t,o,a){const{_events:n,instanceRef:l}=ee(a),{_events:_,instanceRef:r}=ee(o);if(de(a,"options")){const i=B(o,"options"),c=B(a,"options");i!==c&&t.options.set(c)}if(de(a,"point")){const i=B(a,"point"),c=B(o,"point"),p=B(a,"locateOptions");i!==c&&t.moveTo(i,p)}Ae(t,_,n),pe(r,l,t)}static unmountObject(t,o){const{instanceRef:a,_events:n}=ee(o);t!==null&&(Object.keys(n).forEach(l=>De(t,l,n[l])),pe(a))}}class Me extends ne.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const t=Me.mountControl(this.props.ymaps.control[this.props.name],this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.instance!==null&&Me.updateControl(this.instance,t,this.props)}componentWillUnmount(){Me.unmountControl(this.instance,this.props)}render(){return ne.createElement(He.Provider,{value:this.state.instance},this.props.children)}static mountControl(t,o){const{instanceRef:a,parent:n,lazy:l,_events:_}=ee(o),r=new t({data:B(o,"data"),options:B(o,"options"),state:B(o,"state"),mapTypes:B(o,"mapTypes"),lazy:l});if(Object.keys(_).forEach(i=>Pe(r,i,_[i])),n&&n.controls&&typeof n.controls.add=="function")n.controls.add(r);else{if(!n||!n.add||typeof n.add!="function")throw new Error(`No parent found to mount ${o.name}`);n.add(r)}return pe(null,a,r),r}static updateControl(t,o,a){const{_events:n,instanceRef:l}=ee(a),{_events:_,instanceRef:r}=ee(o);if(de(a,"options")){const i=B(o,"options"),c=B(a,"options");i!==c&&t.options.set(c)}if(de(a,"data")){const i=B(o,"data"),c=B(a,"data");i!==c&&t.data.set(c)}if(de(a,"state")){const i=B(o,"state"),c=B(a,"state");i!==c&&t.state.set(c)}if(de(a,"mapTypes")){const i=B(o,"mapTypes"),c=B(a,"mapTypes");i!==c&&(t.removeAllMapTypes(),c.forEach(p=>t.addMapType(p)))}Ae(t,_,n),pe(r,l,t)}static unmountControl(t,o){const{instanceRef:a,parent:n,_events:l}=ee(o);t!==null&&(Object.keys(l).forEach(_=>De(t,_,l[_])),n.controls&&typeof n.controls.remove=="function"?n.controls.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),pe(a))}}var zc=ft(Ac(vt(s=>ne.createElement(Me,Ie({},s,{name:"ZoomControl"})),!0,["control.ZoomControl"])));class Ue extends ne.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const t=Ue.mountObject(this.props.ymaps.Clusterer,this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.state.instance!==null&&Ue.updateObject(this.instance,t,this.props)}componentWillUnmount(){Ue.unmountObject(this.instance,this.props)}render(){return ne.createElement(He.Provider,{value:this.state.instance},this.props.children)}static mountObject(t,o){const{instanceRef:a,parent:n,_events:l}=ee(o),_=new t(B(o,"options"));if(Object.keys(l).forEach(r=>Pe(_,r,l[r])),n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(_);else{if(!n.add||typeof n.add!="function")throw new Error("No parent found to mount Clusterer");n.add(_)}return pe(null,a,_),_}static updateObject(t,o,a){const{_events:n,instanceRef:l}=ee(a),{_events:_,instanceRef:r}=ee(o);if(de(a,"options")){const i=B(o,"options"),c=B(a,"options");i!==c&&t.options.set(c)}Ae(t,_,n),pe(r,l,t)}static unmountObject(t,o){const{instanceRef:a,parent:n,_events:l}=ee(o);t!==null&&(Object.keys(l).forEach(_=>De(t,_,l[_])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),pe(a))}}class ze extends ne.Component{constructor(){super(),this.state={instance:null}}componentDidMount(){const t=ze.mountObject(this.props.ymaps.ObjectManager,this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.instance!==null&&ze.updateObject(this.instance,t,this.props)}componentWillUnmount(){ze.unmountObject(this.instance,this.props)}render(){return null}static mountObject(t,o){const{instanceRef:a,parent:n,_events:l}=ee(o),_=B(o,"options",{}),r=B(o,"features",{}),i=B(o,"filter",null),c=B(o,"objects",{}),p=B(o,"clusters",{}),u=new t(_);if(u.add(r||[]),u.setFilter(i),u.objects.options.set(c),u.clusters.options.set(p),Object.keys(l).forEach(h=>Pe(u,h,l[h])),n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(u);else{if(!n.add||typeof n.add!="function")throw new Error("No parent found to mount ObjectManager");n.add(u)}return pe(null,a,u),u}static updateObject(t,o,a){const{_events:n,instanceRef:l}=ee(a),{_events:_,instanceRef:r}=ee(o);if(de(a,"options")){const i=B(o,"options"),c=B(a,"options");i!==c&&t.options.set(c)}if(de(a,"objects")){const i=B(o,"objects"),c=B(a,"objects");i!==c&&t.objects.options.set(c)}if(de(a,"clusters")){const i=B(o,"clusters"),c=B(a,"clusters");i!==c&&t.clusters.options.set(c)}if(de(a,"filter")){const i=B(o,"filter"),c=B(a,"filter");i!==c&&t.setFilter(c)}if(de(a,"features")){const i=B(o,"features"),c=B(a,"features");i!==c&&(t.remove(i),t.add(c))}Ae(t,_,n),pe(r,l,t)}static unmountObject(t,o){const{instanceRef:a,parent:n,_events:l}=ee(o);t!==null&&(Object.keys(l).forEach(_=>De(t,_,l[_])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),pe(a))}}class Re extends ne.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const{name:t,ymaps:o,dangerZone:a}=this.props,n=Re.mountObject(a&&typeof a.modifyConstructor=="function"?a.modifyConstructor(o[t]):o[t],this.props);this.instance=n,this.setState({instance:n})}componentDidUpdate(t){this.instance!==null&&Re.updateObject(this.instance,t,this.props)}componentWillUnmount(){Re.unmountObject(this.instance,this.props)}render(){return null}static mountObject(t,o){const{instanceRef:a,parent:n,_events:l}=ee(o),_=new t(B(o,"geometry"),B(o,"properties"),B(o,"options"));if(Object.keys(l).forEach(r=>Pe(_,r,l[r])),n&&n.geoObjects&&typeof n.geoObjects.add=="function")n.geoObjects.add(_);else{if(!n||!n.add||typeof n.add!="function")throw new Error(`No parent found to mount ${o.name}`);n.add(_)}return pe(null,a,_),_}static updateObject(t,o,a){const{_events:n,instanceRef:l}=ee(a),{_events:_,instanceRef:r}=ee(o);if(de(a,"geometry")){const i=B(o,"geometry",{}),c=B(a,"geometry",{});Array.isArray(c)&&c!==i?Array.isArray(c[0])&&typeof c[1]=="number"?(t.geometry.setCoordinates(c[0]),t.geometry.setRadius(c[1])):t.geometry.setCoordinates(c):typeof c=="object"&&(c.coordinates!==i.coordinates&&t.geometry.setCoordinates(c.coordinates),c.radius!==i.radius&&t.geometry.setRadius(c.radius))}if(de(a,"properties")){const i=B(o,"properties"),c=B(a,"properties");i!==c&&t.properties.set(c)}if(de(a,"options")){const i=B(o,"options"),c=B(a,"options");i!==c&&t.options.set(c)}Ae(t,_,n),pe(r,l,t)}static unmountObject(t,o){const{instanceRef:a,parent:n,_events:l}=ee(o);t!==null&&(Object.keys(l).forEach(_=>De(t,_,l[_])),n.geoObjects&&typeof n.geoObjects.remove=="function"?n.geoObjects.remove(t):n.remove&&typeof n.remove=="function"&&n.remove(t),pe(a))}}const Rc=()=>{const s=m.useRef(null);return e.jsx(Ec,{children:e.jsx("div",{children:e.jsx(kt,{defaultState:{center:[41.32,69.27],zoom:12,controls:[]},width:500,instanceRef:t=>{s.current=t,t&&t.behaviors.disable("scrollZoom")},children:e.jsx(zc,{options:{position:{bottom:20,right:20}}})})})})},Tc=({temporarySocialPlatforms:s,setTemporarySocialPlatforms:t})=>{const o=(a,n)=>{t(l=>l.map(_=>_.id===n?{..._,text:a}:_))};return e.jsxs("div",{className:z.aboutUs_inputs,children:[s.map(a=>e.jsx("div",{className:z.aboutUs_inputs_wrap,children:a.type=="isTextarea"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:z.aboutUs_inputs_wrap_title,children:a.title}),e.jsx("textarea",{className:z.aboutUs_inputs_wrap_textarea,onChange:n=>o(n.target.value,a.id),value:a.text})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:z.aboutUs_inputs_wrap_title,children:a.title}),e.jsx("input",{className:z.aboutUs_inputs_wrap_input,type:a.type==="isPhone"?"number":a.type==="isEmail"?"email":"text",onChange:n=>o(n.target.value,a.id),value:a.text})]})},a.id)),e.jsx(Rc,{})]})},Vc=({id:s,checked:t,onChange:o})=>{const a=n=>{o(s,n.target.checked)};return e.jsxs("label",{className:z.custom_checkbox,children:[e.jsx("input",{className:z.custom_checkbox_input,type:"checkbox",checked:t,onChange:a}),e.jsx("span",{className:z.custom_checkbox_box,children:e.jsx(U,{name:"CheckIcon",width:18,height:18,className:z.custom_checkbox_box_icon})})]})},qc=({temporaryContactsSchedule:s,setTemporaryContactsSchedule:t})=>{const o=r=>{const i=r.replace(/\D/g,"");return i.length<=2?i:`${i.slice(0,2)}:${i.slice(2,4)}`},a=(r,i,c,p)=>{if(!p.isActive)return;const u=o(c);t(h=>h.map(g=>g.id===r?{...g,workHours:{...g.workHours,[i]:u}}:g))},n=(r,i)=>{t(c=>c.map(p=>p.id===r?{...p,isActive:i,workHours:i?p.workHours:{start:"",end:""}}:p))},l=m.useRef({}),_=m.useRef({});return m.useEffect(()=>{s.forEach(r=>{var i;r.isActive&&l.current[r.id]&&!_.current[r.id]&&((i=l.current[r.id])==null||i.focus(),_.current[r.id]=!0)})},[s]),e.jsxs("div",{className:z.aboutUs_week,children:[e.jsxs("div",{className:z.aboutUs_week_info,children:[e.jsx("span",{className:z.aboutUs_week_info_text,children:"Рабочие дни:"}),e.jsx("span",{className:z.aboutUs_week_info_text,children:"Рабочие время:"})]}),e.jsx("div",{className:z.aboutUs_week_content,children:s.map((r,i)=>{const c=i===s.length-1,p=c&&r.isActive?z.aboutUs_week_wrap_colored_active:"";return e.jsxs("div",{className:z.aboutUs_week_wrap,children:[e.jsxs("div",{className:`
                  ${z.aboutUs_week_wrap_colored} 
                  ${r.isActive?z.aboutUs_week_wrap_colored_active:""} 
                  ${c?z.aboutUs_week_wrap_colored_last:""} 
                  ${p}
                `,children:[e.jsx("span",{className:z.aboutUs_week_wrap_day,children:r.day}),e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{className:z.aboutUs_week_wrap_schedule,children:"c:"}),e.jsx("input",{ref:u=>l.current[r.id]=u,className:z.aboutUs_week_wrap_input,type:"text",placeholder:"00:00",onChange:u=>a(r.id,"start",u.target.value,r),value:r.workHours.start}),e.jsx("span",{className:z.aboutUs_week_wrap_schedule,children:"до:"}),e.jsx("input",{className:z.aboutUs_week_wrap_input,type:"text",placeholder:"00:00",onChange:u=>a(r.id,"end",u.target.value,r),value:r.workHours.end})]})]}),e.jsx(Vc,{id:r.id,checked:r.isActive,onChange:n})]},r.id)})})]})},Kc=()=>{const{contactsFormInputsArr:s,setContactsFormInputsArr:t,contactsSchedule:o,setContactsSchedule:a,setImageUrlLogo:n}=Ze(),[l,_]=m.useState(s),[r,i]=m.useState(""),[c,p]=m.useState(o),u=()=>{t(l),n(r);const h=c.map(g=>g.workHours&&g.workHours.start===""&&g.workHours.end===""?{...g,isActive:!1}:g);a(h)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:z.aboutUs,children:[e.jsx(Fc,{temporaryImageUrl:r,setTemporaryImageUrl:i}),e.jsxs("div",{className:z.aboutUs_content,children:[e.jsx(Tc,{temporarySocialPlatforms:l,setTemporarySocialPlatforms:_}),e.jsx(qc,{temporaryContactsSchedule:c,setTemporaryContactsSchedule:p})]})]}),e.jsx("button",{className:z.aboutUs_btn,onClick:u,children:"Сохранить"})]})};function Hc({width:s=78,color:t="white",backgroundOn:o="rgba(137, 250, 135, 1)",backgroundOff:a="rgba(193, 193, 193, 1)",speed:n=500,scale:l=1.1,status:_=!1,disabled:r=!1}){const i={width:`${s}px`,height:`${s/2-s/20}px`,background:_?o:a,borderRadius:`${s/2}px`,display:"flex",alignItems:"center",transition:`${n}ms`,cursor:"pointer"},c={background:`${t}`,height:`${s/2-s/20}px`,width:`${s/2-s/20}px`,border:`${s/25}px solid ${_?o:a}`,borderRadius:"50%",transition:`${n}ms`,transform:`scale(${l}) translateX(${_?"110%":"0"})`};return e.jsx("div",{style:i,children:e.jsx("div",{style:c})})}const Xc=({temporarySocialPlatforms:s,setTemporarySocialPlatforms:t})=>{const o=(n,l)=>{t(_=>_.map(r=>r.id===n?{...r,url:l,isActive:l===""?!1:r.isActive}:r))},a=(n,l)=>{n.url!==""&&t(_=>_.map(r=>r.id===l?{...r,isActive:!r.isActive,url:n.isActive?"":n.url}:r))};return e.jsx(e.Fragment,{children:s.map(n=>e.jsxs("div",{className:z.socials_content_wrap,children:[e.jsx("img",{src:n.icon,alt:n.alt}),e.jsx("input",{type:"text",className:z.socials_content_wrap_input,value:n.url||"",onChange:l=>o(n.id,l.target.value)}),e.jsx("div",{onClick:()=>a(n,n.id),children:e.jsx(Hc,{status:n.isActive})})]},n.id))})},Gc=()=>{const{socialPlatforms:s,setSocialPlatforms:t,setActiveSocials:o}=Ze(),[a,n]=m.useState(s);async function l(){const r=je.get("multi-store"),i=await ie.get(`web-credentials/${r}`);if(i){const c=Object.entries(i.data.social).filter(([u,h])=>h.isActive).map(([u,h])=>({name:u,...h})),p=s.filter(u=>c.some(h=>h.name===u.name)).map(u=>{const h=c.find(g=>g.name===u.name);return{...u,...h,isActive:!0}});o(p)}}async function _(){t(a);const r=je.get("multi-store"),i=a.reduce((c,p)=>(c[p.name]={url:p.url,isActive:p.isActive},c),{});try{const c=await ie.patch(`web-credentials/${r}`,{social:i});l()}catch(c){console.log("error",c)}}return e.jsxs("div",{className:z.socials,children:[e.jsx("h3",{className:z.socials_title,children:"Соц-сети"}),e.jsx("div",{className:z.socials_content,children:e.jsx(Xc,{temporarySocialPlatforms:a,setTemporarySocialPlatforms:n})}),e.jsx("button",{className:z.contacts_btn,onClick:_,children:"Сохранить"})]})},Zc=[{id:se(),title:"Соц-сети",href:"/admin/settings/contacts"},{id:se(),title:"О нас",href:"/admin/settings/contacts/aboutUs"}];function Jc(){const t=ae().pathname;return e.jsx("div",{className:z.contacts,children:e.jsxs("div",{className:z.contacts_content,children:[e.jsx("div",{className:z.contacts_nav,children:e.jsx("ul",{className:z.contacts_nav_list,children:Zc.map(o=>e.jsx(H,{to:o.href,className:`${z.contacts_nav_link} ${o.href==t?z.contacts_nav_link_active:""}`,children:o.title},o.id))})}),t==="/admin/settings/contacts"&&e.jsx(Gc,{}),t==="/admin/settings/contacts/aboutUs"&&e.jsx(Kc,{})]})})}const Qc="_radioLabel_1w8t1_1",Yc="_radioLabel_selected_1w8t1_7",el="_radioLabel_radio_1w8t1_7",tl="_radioLabel_input_1w8t1_15",sl="_radioLabel_text_1w8t1_28",ol="_storeBtn_1w8t1_34",nl="_storeBtn_active_1w8t1_48",al="_deliveryInput_text_1w8t1_53",rl="_deliveryInput_wrap_1w8t1_58",il="_deliveryInput_wrap_input_1w8t1_66",cl="_version3_1w8t1_74",ll="_version3_title_1w8t1_79",_l="_version3_block_1w8t1_85",dl="_version3_block_top_1w8t1_90",pl="_version3_block_top_title_1w8t1_102",ul="_version3_block_top_arrow_1w8t1_106",ml="_version3_block_top_arrow_active_1w8t1_119",hl="_version3_block_dropdown_1w8t1_122",gl="_version3_block_dropdown_item_1w8t1_133",vl="_version3_block_dropdown_open_1w8t1_149",bl="_version3_block_onOff_1w8t1_173",xl="_version3_block_delivery_1w8t1_173",fl="_version3_pickedWrap_1w8t1_178",kl="_version3_pickedWrap_item_1w8t1_189",yl="_kilometerPricing_1w8t1_205",jl="_kilometerPricing_wrap_1w8t1_210",wl="_kilometerPricing_wrap_input_1w8t1_219",Cl="_textarea_1w8t1_225",Sl="_textarea_title_1w8t1_230",Nl="_textarea_text_1w8t1_236",Il="_textarea_count_1w8t1_243",V={radioLabel:Qc,radioLabel_selected:Yc,radioLabel_radio:el,radioLabel_input:tl,radioLabel_text:sl,storeBtn:ol,storeBtn_active:nl,deliveryInput_text:al,deliveryInput_wrap:rl,deliveryInput_wrap_input:il,version3:cl,version3_title:ll,version3_block:_l,version3_block_top:dl,version3_block_top_title:pl,version3_block_top_arrow:ul,version3_block_top_arrow_active:ml,version3_block_dropdown:hl,version3_block_dropdown_item:gl,version3_block_dropdown_open:vl,version3_block_onOff:bl,version3_block_delivery:xl,version3_pickedWrap:fl,version3_pickedWrap_item:kl,kilometerPricing:yl,kilometerPricing_wrap:jl,kilometerPricing_wrap_input:wl,textarea:Cl,textarea_title:Sl,textarea_text:Nl,textarea_count:Il},ye=({id:s,value:t,checked:o,onChange:a,label:n})=>e.jsxs("label",{className:`${V.radioLabel} ${o?V.radioLabel_selected:""}`,children:[e.jsx("input",{type:"radio",id:s,value:t,checked:o,onChange:a,className:V.radioLabel_input}),e.jsx("span",{className:V.radioLabel_radio}),e.jsx("span",{className:V.radioLabel_text,children:n})]}),Je=(s,t)=>{const o=$e();return ae(),{handleChange:m.useCallback(n=>{const l=n.target.value;s(l);const _=t[l];_&&o(_)},[o,t,s])}},$l="_delivery_vkjtc_1",Pl="_delivery_title_vkjtc_5",Dl="_delivery_main_vkjtc_10",Ol="_delivery_btn_vkjtc_16",Fl="_deliveryOrg_vkjtc_28",Al="_deliveryOrg_radios_vkjtc_31",Bl="_deliveryOrg_children_vkjtc_37",Ll="_deliveryOrg_children_wrap_vkjtc_40",Ml="_storeDelivery_vkjtc_46",Wl="_storeDelivery_stores_vkjtc_49",El="_storeDelivery_radios_vkjtc_55",Z={delivery:$l,delivery_title:Pl,delivery_main:Dl,delivery_btn:Ol,deliveryOrg:Fl,deliveryOrg_radios:Al,deliveryOrg_children:Bl,deliveryOrg_children_wrap:Ll,storeDelivery:Ml,storeDelivery_stores:Wl,storeDelivery_radios:El},xe=({text:s,placeholder:t,value:o,setValue:a})=>e.jsxs("div",{className:V.deliveryInput,children:[e.jsx("p",{className:V.deliveryInput_text,children:s}),e.jsxs("div",{className:V.deliveryInput_wrap,children:[e.jsx("input",{className:V.deliveryInput_wrap_input,type:"number",placeholder:t,value:o,onChange:n=>a(n.target.value)}),e.jsx("span",{className:V.deliveryInput_wrap_input_text,children:"UZS"})]})]}),ge=Dt()(Ot(Ft(s=>({deliveryStoresArr:[{id:se(),name:"Магазин1",location:"",deliveryFree:[],deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]},{id:se(),name:"Магазин2",location:"",deliveryFree:[],deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]},{id:se(),name:"Магазин3",location:"",deliveryFree:[],deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]}],setDeliveryStoresArr:t=>s({deliveryStoresArr:t}),isActiveStoreId:"",setIsActiveStoreId:t=>s({isActiveStoreId:t}),citiesDelivery:[{id:se(),city:"Ташкент"},{id:se(),city:"Бухара"},{id:se(),city:"Самарканд"}],setCitiesDelivery:t=>s({citiesDelivery:t}),selectedOption:"",setSelectedOption:t=>s({selectedOption:t}),selectedOrganizationOption:"",setSelectedOrganizationOption:t=>s({selectedOrganizationOption:t}),selectedStoreOption:"",setSelectedStoreOption:t=>s({selectedStoreOption:t}),saveLocation:"",setSaveLocation:t=>s({saveLocation:t}),savePathStore:"",setSavePathStore:t=>s({savePathStore:t}),saveLocationStore:[],setSaveLocationStore:t=>s({saveLocationStore:t}),pickedCitiesFreeDelivery:[],setPickedCitiesFreeDelivery:t=>s({pickedCitiesFreeDelivery:t}),inputSumFree:"",setInputSumFree:t=>s({inputSumFree:t}),pickedCitiesFixedDelivery:[],setPickedCitiesFixedDelivery:t=>s({pickedCitiesFixedDelivery:t}),inputSumFixed:"",setInputSumFixed:t=>s({inputSumFixed:t}),inputFixedPrice:"",setInputFixedPrice:t=>s({inputFixedPrice:t}),pickedCitiesFlexibleDelivery:[],setPickedCitiesFlexibleDelivery:t=>s({pickedCitiesFlexibleDelivery:t}),inputSumFlexible:"",setInputSumFlexible:t=>s({inputSumFlexible:t}),inputFirstKm:"",setInputFirstKm:t=>s({inputFirstKm:t}),inputLastKm:"",setInputLastKm:t=>s({inputLastKm:t}),inputExtraKm:"",setInputExtraKm:t=>s({inputExtraKm:t}),pickedCitiesOwnDelivery:[],setPickedCitiesOwnDelivery:t=>s({pickedCitiesOwnDelivery:t}),inputSumOwn:"",setInputSumOwn:t=>s({inputSumOwn:t}),textareaVal:"",setTextareaVal:t=>s({textareaVal:t}),openCountriesDropdown:!1,setOpenCountriesDropdown:t=>s({openCountriesDropdown:t})}),{name:"delivery-store",partialize:s=>({...s})})));function Ce({citiesArrDelivery:s,setCitiesArrDelivery:t,pickedCities:o,setPickedCities:a}){const{openCountriesDropdown:n,setOpenCountriesDropdown:l}=ge(),_=i=>{o.some(c=>c.id===i.id)||a([...o,i]),l(!1)},r=(i,c)=>{c.stopPropagation(),a(o.filter(p=>p.id!==i.id))};return e.jsxs("div",{className:V.version3,children:[e.jsx("span",{className:V.version3_title,children:"Города"}),e.jsxs("div",{className:V.version3_block,children:[e.jsxs("div",{className:`${o.length>0?V.version3_pickedWrap:V.version3_block_top}`,onClick:()=>l(!n),children:[o.length>0?o.map(i=>e.jsxs("div",{className:V.version3_pickedWrap_item,children:[e.jsx("h2",{className:V.version3_block_top_title,children:i.city}),e.jsx("button",{onClick:c=>r(i,c),children:e.jsx(U,{name:"XMarkIcon",width:15})})]},i.id)):e.jsx("h2",{className:V.version3_block_top_title,children:"Выберите город"}),e.jsx("button",{className:V.version3_block_top_btn,onClick:()=>l(!n),children:e.jsx("div",{className:`${V.version3_block_top_arrow} ${n&&s.length>0?V.version3_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${V.version3_block_dropdown} ${n&&s.length>0?V.version3_block_dropdown_open:""}`,children:s==null?void 0:s.map(i=>e.jsx("span",{className:V.version3_block_dropdown_item,onClick:()=>_(i),children:i.city},i.id))})]})]})}const Se=()=>{const{setPickedCitiesFreeDelivery:s,setInputSumFree:t,setPickedCitiesFixedDelivery:o,setInputSumFixed:a,setInputFixedPrice:n,setPickedCitiesFlexibleDelivery:l,setInputSumFlexible:_,setInputFirstKm:r,setInputLastKm:i,setInputExtraKm:c,setPickedCitiesOwnDelivery:p,setInputSumOwn:u,setTextareaVal:h}=ge();return{resetOrg:v=>{v!=="free"&&(s([]),t("")),v!=="fixed"&&(o([]),a(""),n("")),v!=="flexible"&&(l([]),_(""),r(""),i(""),c("")),v!=="own"&&(p([]),u(""),h("")),v==="all"&&(s([]),t(""),o([]),a(""),n(""),l([]),_(""),r(""),i(""),c(""),p([]),u(""),h(""))}}},Ul=()=>{const{setInputSumFree:s,citiesDelivery:t,setCitiesDelivery:o,pickedCitiesFreeDelivery:a,inputSumFree:n,setPickedCitiesFreeDelivery:l,deliveryStoresArr:_,setDeliveryStoresArr:r,setOpenCountriesDropdown:i,setSaveLocation:c,setSaveLocationStore:p}=ge(),u=ae(),[h,g]=m.useState(a),[v,$]=m.useState(n);m.useEffect(()=>{i(!1)},[]);const{resetOrg:I}=Se(),F=()=>{I("free");const j=h,N=v;l(j),s(N);const f=[{cities:j,minPrice:N}],y=_.map(x=>({...x,location:"storeFreeDelivery",deliveryFree:f,deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]}));console.log("deliveryStoresArr",_),r(y),c(u.pathname),p([]),i(!1)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(xe,{text:"Минимальная сумма заказа",placeholder:"0",value:v,setValue:$}),e.jsx(Ce,{citiesArrDelivery:t,setCitiesArrDelivery:o,pickedCities:h,setPickedCities:g}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>F(),children:"Сохранить"})]})},zl=()=>{const{resetOrg:s}=Se(),{inputSumFixed:t,setInputSumFixed:o,inputFixedPrice:a,setInputFixedPrice:n,citiesDelivery:l,setCitiesDelivery:_,pickedCitiesFixedDelivery:r,setPickedCitiesFixedDelivery:i,deliveryStoresArr:c,setDeliveryStoresArr:p,setOpenCountriesDropdown:u,setSaveLocation:h,setSaveLocationStore:g}=ge(),[v,$]=m.useState(r),[I,F]=m.useState(t),[j,N]=m.useState(a);m.useEffect(()=>{u(!1)},[]);const f=()=>{s("fixed");const y=v,x=I,b=j;i(y),o(x),n(b);const D=[{cities:y,minPrice:x,fixedPrice:b}],S=c.map(P=>({...P,location:"storeFixedPriceDelivery",deliveryFree:[],deliveryFixed:D,deliveryFlexible:[],deliveryOwn:[]}));p(S),h(location.pathname),g([]),console.log("deliveryStoresArr",c),u(!1)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(xe,{text:"Минимальная сумма заказа",placeholder:"0",value:I,setValue:F}),e.jsx(xe,{text:"Цена за доставку",placeholder:"0",value:j,setValue:N}),e.jsx(Ce,{citiesArrDelivery:l,setCitiesArrDelivery:_,pickedCities:v,setPickedCities:$}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>f(),children:"Сохранить"})]})},yt=({valueFirst:s,setValueFirst:t,valueLast:o,setValueLast:a})=>e.jsxs("div",{className:V.kilometerPricing,children:[e.jsx("span",{className:V.deliveryInput_text,children:"Первые"}),e.jsxs("div",{className:V.kilometerPricing_wrap,children:[e.jsx("input",{className:V.kilometerPricing_wrap_input,type:"number",value:s,placeholder:"0",onChange:n=>t(n.target.value)}),e.jsx("span",{children:"KM"})]}),e.jsx("span",{className:V.deliveryInput_text,children:"по"}),e.jsxs("div",{className:V.kilometerPricing_wrap,children:[e.jsx("input",{className:V.kilometerPricing_wrap_input,type:"number",value:o,placeholder:"0",onChange:n=>a(n.target.value)}),e.jsx("span",{children:"KM"})]})]}),Rl=()=>{const{deliveryStoresArr:s,citiesDelivery:t,setCitiesDelivery:o,setDeliveryStoresArr:a,pickedCitiesFlexibleDelivery:n,setPickedCitiesFlexibleDelivery:l,inputSumFlexible:_,setInputSumFlexible:r,inputFirstKm:i,setInputFirstKm:c,inputLastKm:p,setInputLastKm:u,inputExtraKm:h,setInputExtraKm:g,setOpenCountriesDropdown:v,setSaveLocation:$,setSaveLocationStore:I}=ge(),[F,j]=m.useState(n),[N,f]=m.useState(_),[y,x]=m.useState(i),[b,D]=m.useState(p),[S,P]=m.useState(h),{resetOrg:W}=Se(),L=()=>{W("flexible");const K=F,k=N,E=y,T=b,A=S;l(K),r(k),c(E),u(T),g(A);const fe=[{cities:K,minPrice:k,pricingPerKm:{firstKm:E,lastKm:T},extraPricing:A}],ve=s.map(me=>({...me,location:"storeFlexibleDelivery",deliveryFree:[],deliveryFixed:[],deliveryFlexible:fe,deliveryOwn:[]}));a(ve),$(location.pathname),I([]),v(!1)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(xe,{text:"Минимальная сумма заказа",placeholder:"0",value:N,setValue:f}),e.jsx(yt,{valueFirst:y,setValueFirst:x,valueLast:b,setValueLast:D}),e.jsx(xe,{text:"За каждый следующий км",placeholder:"0",value:S,setValue:P}),e.jsx(Ce,{citiesArrDelivery:t,setCitiesArrDelivery:o,pickedCities:F,setPickedCities:j}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>L(),children:"Сохранить"})]})},jt=({value:s,setValue:t})=>{const[a,n]=m.useState(400),l=_=>{const r=_.target.value;t(r),r.length<=400&&n(400-r.length)};return e.jsxs("div",{className:V.textarea,children:[e.jsx("span",{className:V.textarea_title,children:"Текст для пояснения"}),e.jsx("textarea",{className:V.textarea_text,maxLength:400,onChange:l,value:s}),e.jsxs("span",{className:V.textarea_count,children:[a,"/",400]})]})},Tl=()=>{const{deliveryStoresArr:s,citiesDelivery:t,setCitiesDelivery:o,setDeliveryStoresArr:a,pickedCitiesOwnDelivery:n,setPickedCitiesOwnDelivery:l,inputSumOwn:_,setInputSumOwn:r,textareaVal:i,setTextareaVal:c,setSaveLocation:p,setSaveLocationStore:u}=ge(),[h,g]=m.useState(n),[v,$]=m.useState(_),[I,F]=m.useState(i),{resetOrg:j}=Se(),N=()=>{j("own");const f=h,y=v,x=I;l(f),r(y),c(x);const b=[{cities:f,minPrice:y,description:x}],D=s.map(S=>({...S,location:"storeOwnVersionDelivery",deliveryFree:[],deliveryFixed:[],deliveryFlexible:[],deliveryOwn:b}));a(D),p(location.pathname),u([])};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(xe,{text:"Минимальная сумма заказа",placeholder:"0",value:v,setValue:$}),e.jsx(jt,{value:I,setValue:F}),e.jsx(Ce,{citiesArrDelivery:t,setCitiesArrDelivery:o,pickedCities:h,setPickedCities:g}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>N(),children:"Сохранить"})]})},Vl=()=>{const{selectedOrganizationOption:s,saveLocation:t,setSelectedOrganizationOption:o}=ge(),a=ae(),n=$e(),l={freeDelivery:"/admin/settings/delivery/forOrganization/freeDelivery",fixedPriceDelivery:"/admin/settings/delivery/forOrganization/fixedPriceDelivery",flexibleDelivery:"/admin/settings/delivery/forOrganization/flexibleDelivery",ownVersionDelivery:"/admin/settings/delivery/forOrganization/ownVersionDelivery"};m.useEffect(()=>{t?n(t):o("")},[t,n]),m.useEffect(()=>{const r=a.pathname,i=Object.keys(l).find(c=>l[c]===r);i&&o(i)},[a.pathname,o]);const{handleChange:_}=Je(o,l);return e.jsxs("div",{className:Z.deliveryOrg,children:[e.jsx("h4",{className:Z.delivery_title,children:"Выберите вид доставки"}),e.jsxs("div",{className:Z.deliveryOrg_radios,children:[e.jsx(ye,{id:"freeDelivery",value:"freeDelivery",checked:s==="freeDelivery",onChange:_,label:"Бесплатная доставка"}),e.jsx(ye,{id:"fixedPriceDelivery",value:"fixedPriceDelivery",checked:s==="fixedPriceDelivery",onChange:_,label:"Фиксированная цена"}),e.jsx(ye,{id:"flexibleDelivery",value:"flexibleDelivery",checked:s==="flexibleDelivery",onChange:_,label:"Гибкая доставка"}),e.jsx(ye,{id:"ownVersionDelivery",value:"ownVersionDelivery",checked:s==="ownVersionDelivery",onChange:_,label:"Свой вариант"})]}),e.jsxs("div",{className:Z.deliveryOrg_children,children:[a.pathname.startsWith("/admin/settings/delivery/forOrganization/freeDelivery")&&e.jsx(Ul,{}),a.pathname.startsWith("/admin/settings/delivery/forOrganization/fixedPriceDelivery")&&e.jsx(zl,{}),a.pathname.startsWith("/admin/settings/delivery/forOrganization/flexibleDelivery")&&e.jsx(Rl,{}),a.pathname.startsWith("/admin/settings/delivery/forOrganization/ownVersionDelivery")&&e.jsx(Tl,{})]})]})},ql=({text:s,isActive:t,onClick:o,href:a})=>e.jsx(H,{className:`${V.storeBtn} ${t?V.storeBtn_active:""}`,onClick:o,to:`settings/delivery/forStore/${a}/settingsSave`,children:s}),Kl=()=>{const{isActiveStoreId:s,deliveryStoresArr:t,setDeliveryStoresArr:o,citiesDelivery:a,setCitiesDelivery:n,saveLocationStore:l,setSaveLocationStore:_,setSaveLocation:r,setSavePathStore:i}=ge(),c=ae(),[p,u]=m.useState([]),[h,g]=m.useState("");m.useEffect(()=>{var F,j;const I=t.find(N=>N.id===s);I&&I.deliveryFree?(u(((F=I.deliveryFree[0])==null?void 0:F.cities)||[]),g(((j=I.deliveryFree[0])==null?void 0:j.minPrice)||"")):(u([]),g(""))},[s]);const{resetOrg:v}=Se(),$=()=>{v("all");const j=[{cities:p,minPrice:h}],N=t.map(x=>x.id===s?{...x,deliveryFree:j,deliveryFixed:[],deliveryFlexible:[],deliveryOwn:[]}:x);o(N);const f=[...l],y=f.findIndex(x=>x.id===s);y>=0?f[y].location=c.pathname:f.push({id:s,location:c.pathname}),_(f),console.log("saveLocationStore",l),r(""),i(c.pathname)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(xe,{text:"Минимальная сумма заказа",placeholder:"0",value:h,setValue:g}),e.jsx(Ce,{citiesArrDelivery:a,setCitiesArrDelivery:n,pickedCities:p,setPickedCities:u}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>$(),children:"Сохранить"})]})},Hl=()=>{const{isActiveStoreId:s,deliveryStoresArr:t,setDeliveryStoresArr:o,citiesDelivery:a,setCitiesDelivery:n,saveLocationStore:l,setSaveLocationStore:_,setSaveLocation:r,setSavePathStore:i}=ge(),c=ae(),[p,u]=m.useState([]),[h,g]=m.useState(""),[v,$]=m.useState("");m.useEffect(()=>{var N,f,y;const j=t.find(x=>x.id===s);j&&j.deliveryFixed?(u(((N=j.deliveryFixed[0])==null?void 0:N.cities)||[]),g(((f=j.deliveryFixed[0])==null?void 0:f.minPrice)||""),$(((y=j.deliveryFixed[0])==null?void 0:y.fixedPrice)||"")):(u([]),g(""),$(""))},[s]);const{resetOrg:I}=Se(),F=()=>{I("all");const y=[{cities:p,minPrice:h,fixedPrice:v}],x=t.map(S=>S.id===s?{...S,deliveryFixed:y,deliveryFree:[],deliveryFlexible:[],deliveryOwn:[]}:S);o(x);const b=[...l],D=b.findIndex(S=>S.id===s);D>=0?b[D].location=c.pathname:b.push({id:s,location:c.pathname}),_(b),r(""),i(c.pathname)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(xe,{text:"Минимальная сумма заказа",placeholder:"0",value:h,setValue:g}),e.jsx(xe,{text:"Цена за доставку",placeholder:"0",value:v,setValue:$}),e.jsx(Ce,{citiesArrDelivery:a,setCitiesArrDelivery:n,pickedCities:p,setPickedCities:u}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>F(),children:"Сохранить"})]})},Xl=()=>{const{isActiveStoreId:s,deliveryStoresArr:t,setDeliveryStoresArr:o,citiesDelivery:a,setCitiesDelivery:n,saveLocationStore:l,setSaveLocationStore:_,setSaveLocation:r,setSavePathStore:i}=ge(),c=ae(),[p,u]=m.useState([]),[h,g]=m.useState(""),[v,$]=m.useState(""),[I,F]=m.useState(""),[j,N]=m.useState("");m.useEffect(()=>{var b,D,S,P,W,L,K;const x=t.find(k=>k.id===s);x&&x.deliveryFlexible?(u(((b=x.deliveryFlexible[0])==null?void 0:b.cities)||[]),g(((D=x.deliveryFlexible[0])==null?void 0:D.minPrice)||""),$(((P=(S=x.deliveryFlexible[0])==null?void 0:S.pricingPerKm)==null?void 0:P.firstKm)||""),F(((L=(W=x.deliveryFlexible[0])==null?void 0:W.pricingPerKm)==null?void 0:L.lastKm)||""),N(((K=x.deliveryFlexible[0])==null?void 0:K.extraPricing)||"")):(u([]),g(""),$(""),F(""),N(""))},[s]);const{resetOrg:f}=Se(),y=()=>{f("all");const W=[{cities:p,minPrice:h,pricingPerKm:{firstKm:v,lastKm:I},extraPricing:j}],L=t.map(E=>E.id===s?{...E,deliveryFlexible:W,deliveryFree:[],deliveryFixed:[],deliveryOwn:[]}:E);o(L);const K=[...l],k=K.findIndex(E=>E.id===s);k>=0?K[k].location=c.pathname:K.push({id:s,location:c.pathname}),_(K),r(""),i(c.pathname)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(xe,{text:"Минимальная сумма заказа",placeholder:"0",value:h,setValue:g}),e.jsx(yt,{valueFirst:v,setValueFirst:$,valueLast:I,setValueLast:F}),e.jsx(xe,{text:"За каждый следующий км",placeholder:"0",value:j,setValue:N}),e.jsx(Ce,{citiesArrDelivery:a,setCitiesArrDelivery:n,pickedCities:p,setPickedCities:u}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>y(),children:"Сохранить"})]})},Gl=()=>{const{isActiveStoreId:s,deliveryStoresArr:t,setDeliveryStoresArr:o,citiesDelivery:a,setCitiesDelivery:n,saveLocationStore:l,setSaveLocationStore:_,setSaveLocation:r,setSavePathStore:i}=ge(),c=ae(),[p,u]=m.useState([]),[h,g]=m.useState(""),[v,$]=m.useState("");m.useEffect(()=>{var N,f,y;const j=t.find(x=>x.id===s);j&&j.deliveryOwn?(u(((N=j.deliveryOwn[0])==null?void 0:N.cities)||[]),g(((f=j.deliveryOwn[0])==null?void 0:f.minPrice)||""),$(((y=j.deliveryOwn[0])==null?void 0:y.description)||"")):(u([]),g(""),$(""))},[s]);const{resetOrg:I}=Se(),F=()=>{I("all");const y=[{cities:p,minPrice:h,description:v}],x=t.map(S=>S.id===s?{...S,deliveryOwn:y,deliveryFree:[],deliveryFixed:[],deliveryFlexible:[]}:S);o(x);const b=[...l],D=b.findIndex(S=>S.id===s);D>=0?b[D].location=c.pathname:b.push({id:s,location:c.pathname}),_(b),r(""),i(c.pathname)};return e.jsxs("div",{className:Z.deliveryOrg_children_wrap,children:[e.jsx(xe,{text:"Минимальная сумма заказа",placeholder:"0",value:h,setValue:g}),e.jsx(jt,{value:v,setValue:$}),e.jsx(Ce,{citiesArrDelivery:a,setCitiesArrDelivery:n,pickedCities:p,setPickedCities:u}),e.jsx("button",{className:Z.delivery_btn,onClick:()=>F(),children:"Сохранить"})]})},Zl=()=>{const{deliveryStoresArr:s,selectedStoreOption:t,isActiveStoreId:o,saveLocationStore:a,setSelectedStoreOption:n}=ge(),l=ae(),_=$e(),r={storeFreeDelivery:`/admin/settings/delivery/forStore/${o}/settingsSave/storeFreeDelivery`,storeFixedPriceDelivery:`/admin/settings/delivery/forStore/${o}/settingsSave/storeFixedPriceDelivery`,storeFlexibleDelivery:`/admin/settings/delivery/forStore/${o}/settingsSave/storeFlexibleDelivery`,storeOwnVersionDelivery:`/admin/settings/delivery/forStore/${o}/settingsSave/storeOwnVersionDelivery`},{handleChange:i}=Je(n,r);return m.useEffect(()=>{const c=a.find(h=>h.id===o),p=Object.keys(r).find(h=>r[h]===(c==null?void 0:c.location)),u=s[0].location;console.log("option",p),a.length>0&&c?(_(c.location),n(p)):(_(`/admin/settings/delivery/forStore/${o}/settingsSave/${u||""}`),n(u))},[o,a]),e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h4",{className:Z.delivery_title,children:"Выберите вид доставки"}),e.jsxs("div",{className:Z.storeDelivery_radios,children:[e.jsx(ye,{id:"storeFreeDelivery",value:"storeFreeDelivery",checked:t==="storeFreeDelivery",onChange:i,label:"Бесплатная доставка"}),e.jsx(ye,{id:"storeFixedPriceDelivery",value:"storeFixedPriceDelivery",checked:t==="storeFixedPriceDelivery",onChange:i,label:"Фиксированная цена"}),e.jsx(ye,{id:"storeFlexibleDelivery",value:"storeFlexibleDelivery",checked:t==="storeFlexibleDelivery",onChange:i,label:"Гибкая доставка"}),e.jsx(ye,{id:"storeOwnVersionDelivery",value:"storeOwnVersionDelivery",checked:t==="storeOwnVersionDelivery",onChange:i,label:"Свой вариант"})]})]}),e.jsxs("div",{className:Z.deliveryOrg_children,children:[l.pathname.startsWith(`/admin/settings/delivery/forStore/${o}/settingsSave/storeFreeDelivery`)&&e.jsx(Kl,{}),l.pathname.startsWith(`/admin/settings/delivery/forStore/${o}/settingsSave/storeFixedPriceDelivery`)&&e.jsx(Hl,{}),l.pathname.startsWith(`/admin/settings/delivery/forStore/${o}/settingsSave/storeFlexibleDelivery`)&&e.jsx(Xl,{}),l.pathname.startsWith(`/admin/settings/delivery/forStore/${o}/settingsSave/storeOwnVersionDelivery`)&&e.jsx(Gl,{})]})]})},Jl=()=>{const{deliveryStoresArr:s,isActiveStoreId:t,setIsActiveStoreId:o,savePathStore:a}=ge(),n=r=>{o(r)};m.useEffect(()=>{a&&_(a)},[]);const l=ae(),_=$e();return e.jsxs("div",{className:Z.storeDelivery,children:[e.jsx("h4",{className:Z.delivery_title,children:"Выберите магазин "}),e.jsx("div",{className:Z.storeDelivery_stores,children:s.map(r=>e.jsx(ql,{text:r.name,isActive:r.id===t,onClick:()=>n(r.id),href:r.id},r.id))}),l.pathname.startsWith(`/admin/settings/delivery/forStore/${t}/settingsSave`)&&e.jsx(Zl,{})]})},Ql=()=>{const{selectedOption:s,setSelectedOption:t,saveLocationStore:o,savePathStore:a,saveLocation:n}=ge(),l=ae(),_=$e(),r={forOrganization:"/admin/settings/delivery/forOrganization",forStore:"/admin/settings/delivery/forStore"};m.useEffect(()=>{n!==""?(_(n),t("forOrganization")):o.some(c=>c.location)&&(_(a),t(o[0].location),t("forStore"))},[]);const{handleChange:i}=Je(t,r);return e.jsxs("div",{className:Z.delivery,children:[e.jsx("h3",{className:Z.delivery_title,children:"Выберите версию настройки доставки"}),e.jsxs("div",{className:Z.delivery_main,children:[e.jsx(ye,{id:"forOrganization",value:"forOrganization",checked:s==="forOrganization",onChange:i,label:"Для организации"}),e.jsx(ye,{id:"forStore",value:"forStore",checked:s==="forStore",onChange:i,label:"Для каждого магазина"})]}),l.pathname.startsWith("/admin/settings/delivery/forOrganization")&&e.jsx(Vl,{}),l.pathname.startsWith("/admin/settings/delivery/forStore")&&e.jsx(Jl,{})]})};function Yl({name:s="HandRaisedIcon",width:t=30,height:o=30,color:a="black",background:n="transparent",transition:l=500,className:_,onClick:r}){const i={width:`${t}px`,height:`${o||t}px`,color:a,transition:`${l}ms`,background:n};return e.jsxs(e.Fragment,{children:[s=="HandRaisedIcon"&&e.jsx(Lt,{className:_,style:i,onClick:r}),s=="UserIcon"&&e.jsx(Mt,{className:_,style:i,onClick:r}),s=="HeartIcon"&&e.jsx(Wt,{className:_,style:i,onClick:r}),s=="AdjustmentsHorizontalIcon"&&e.jsx(Et,{className:_,style:i,onClick:r}),s=="BanknotesIcon"&&e.jsx(Ut,{className:_,style:i,onClick:r}),s=="ShoppingBagIcon"&&e.jsx(zt,{className:_,style:i,onClick:r}),s=="CogIcon"&&e.jsx(Rt,{className:_,style:i,onClick:r}),s=="ShoppingCartIcon"&&e.jsx(Tt,{className:_,style:i,onClick:r}),s=="UsersIcon"&&e.jsx(Vt,{className:_,style:i,onClick:r}),s=="ChevronDownIcon"&&e.jsx(qt,{className:_,style:i,onClick:r}),s=="Cog8ToothIcon"&&e.jsx(Kt,{className:_,style:i,onClick:r}),s=="EyeIcon"&&e.jsx(Ht,{className:_,style:i,onClick:r}),s=="EyeSlashIcon"&&e.jsx(Xt,{className:_,style:i,onClick:r}),s=="IdentificationIcon"&&e.jsx(Gt,{className:_,style:i,onClick:r}),s=="WrenchScrewdriverIcon"&&e.jsx(Zt,{className:_,style:i,onClick:r}),s=="XMarkIcon"&&e.jsx(Jt,{className:_,style:i,onClick:r}),s=="PhoneXMarkIcon"&&e.jsx(Qt,{className:_,style:i,onClick:r}),s=="Bars3Icon"&&e.jsx(Yt,{className:_,style:i,onClick:r}),s=="AdjustmentsVerticalIcon"&&e.jsx(es,{className:_,style:i,onClick:r}),s=="TrashIcon"&&e.jsx(ts,{className:_,style:i,onClick:r}),s=="BackspaceIcon"&&e.jsx(ss,{className:_,style:i,onClick:r}),s=="QueueListIcon"&&e.jsx(os,{className:_,style:i,onClick:r}),s=="ChevronRightIcon"&&e.jsx(ns,{className:_,style:i,onClick:r}),s=="MagnifyingGlassIcon"&&e.jsx(as,{className:_,style:i,onClick:r}),s=="ArrowLeftStartOnRectangleIcon"&&e.jsx(rs,{className:_,style:i,onClick:r}),s=="BuildingStorefrontIcon"&&e.jsx(is,{className:_,style:i,onClick:r}),s=="BuildingLibraryIcon"&&e.jsx(cs,{className:_,style:i,onClick:r}),s=="ArrowLeftEndOnRectangleIcon"&&e.jsx(ls,{className:_,style:i,onClick:r}),s=="UserPlusIcon"&&e.jsx(_s,{className:_,style:i,onClick:r}),s=="PlusIcon"&&e.jsx(ds,{className:_,style:i,onClick:r}),s=="FolderOpenIcon"&&e.jsx(ps,{className:_,style:i,onClick:r}),s=="FunnelIcon"&&e.jsx(us,{className:_,style:i,onClick:r}),s=="PhotoIcon"&&e.jsx(ms,{className:_,style:i,onClick:r})]})}function e_(){const{addBlockStatus:s,setAddBlockStatus:t}=ce(),o=a=>{a.stopPropagation(),t(!s)};return e.jsxs("button",{className:`${d.homePage_addBlock} ${s?d.homePage_addBlock_active:""}`,onClick:a=>o(a),children:[e.jsx("span",{className:d.homePage_addBlock_title,children:"Добавить блок"}),e.jsx(Yl,{name:"PlusIcon"})]})}function t_({item:s}){const{addBlockStatus:t,homePageBlock:o,setHomePageBlock:a}=ce(),n=()=>{const l=o.filter(_=>_.id!=s.id);a([...l])};return console.log("item",s),e.jsxs("div",{className:`${d.homePage_addBlockItem} ${t?d.homePage_addBlockItem_active:""}`,children:[e.jsx("button",{className:d.homePage_addBlockItem_close,onClick:n,children:e.jsx(U,{name:"XMarkIcon"})}),e.jsxs("p",{className:d.homePage_addBlockItem_categories,children:[e.jsxs("span",{children:[s.superCategory.name.ru," / "]}),e.jsxs("span",{children:[s.category.name.ru," / "]}),e.jsx("span",{children:s.subCategory.name.ru})]}),e.jsx("h2",{className:d.homePage_addBlockItem_super_title,children:"Продукты"}),e.jsx("div",{className:d.homePage_addBlockItem_content,children:s.products.map(l=>{var _,r;return e.jsx("div",{className:d.homePage_addBlockItem_super_item,children:e.jsx("span",{children:(r=(_=l.nomenclature)==null?void 0:_.name)==null?void 0:r.ru})},l.id)})})]})}const s_="_modalCategory_63z4m_1",o_="_modalCategory_block_63z4m_10",n_="_modalCategory_nav_63z4m_16",a_="_modalCategory_nav_title_63z4m_23",r_="_modalCategory_content_63z4m_29",i_="_modalCategory_content_message_63z4m_36",c_="_modalCategory_content_link_63z4m_44",l_="_modalCategory_content_link_active_63z4m_72",__="_modalCategory_content_item_63z4m_82",d_="_modalCategory_content_block_63z4m_104",p_="_modalCategory_content_block_title_63z4m_108",u_="_settings_63z4m_115",m_="_settings_title_63z4m_118",h_="_settings_content_63z4m_123",g_="_settings_content_top_63z4m_126",v_="_settings_content_buttons_63z4m_129",b_="_settings_content_btn_63z4m_139",x_="_settings_content_btn_cancel_63z4m_151",f_="_settings_content_btn_save_63z4m_154",k_="_settings_tools_63z4m_157",y_="_settings_tools_link_63z4m_162",j_="_settings_tools_link_active_63z4m_177",X={modalCategory:s_,modalCategory_block:o_,modalCategory_nav:n_,modalCategory_nav_title:a_,modalCategory_content:r_,modalCategory_content_message:i_,modalCategory_content_link:c_,modalCategory_content_link_active:l_,modalCategory_content_item:__,modalCategory_content_block:d_,modalCategory_content_block_title:p_,settings:u_,settings_title:m_,settings_content:h_,settings_content_top:g_,settings_content_buttons:v_,settings_content_btn:b_,settings_content_btn_cancel:x_,settings_content_btn_save:f_,settings_tools:k_,settings_tools_link:y_,settings_tools_link_active:j_};function w_({superCategory:s,category:t,superId:o,setLocalPicked:a,setSuperId:n,setMessageStatus:l,setSubCategories:_,fetchCategories:r}){const{setCurrentCategory:i}=be(),[c,p]=m.useState(10),u=(g,v)=>{g.preventDefault(),r("category",1,10,v.id),_([]);const $=t.filter(I=>I.parentId==v.id);i($),a(v),n(v.id),l(!1)},h=g=>{g.preventDefault();const v=c+10;p(v),r("super",1,v),console.log("addPage",v)};return e.jsxs("div",{className:X.modalCategory_content_block,children:[e.jsx("h2",{className:X.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:X.modalCategory_content_item,children:[s.map(g=>e.jsxs(H,{to:"#",className:`${X.modalCategory_content_link} ${g.id==o?X.modalCategory_content_link_active:""} `,onClick:v=>u(v,g),children:[g.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},g.id)),e.jsx(H,{to:"#",className:X.modalCategory_content_link,onClick:g=>h(g),children:"Ещё..."})]})]})}function C_({superId:s,categoryId:t,category:o,setSubCategory:a,fetchCategories:n}){const[l,_]=m.useState(10),r=c=>{c.preventDefault();const p=l+10;_(p),n("category",1,p,s),console.log("addPage",p,s)},i=(c,p)=>{a(c,p)};return o.length>0&&e.jsxs("div",{className:X.modalCategory_content_block,children:[e.jsx("h2",{className:X.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:X.modalCategory_content_item,children:[o==null?void 0:o.map(c=>e.jsxs(H,{to:"#",className:`${X.modalCategory_content_link} ${c.id==t?X.modalCategory_content_link_active:""} `,onClick:p=>i(p,c),children:[c.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},c.id)),e.jsx(H,{to:"#",className:X.modalCategory_content_link,onClick:c=>r(c),children:"Ещё..."})]})]})}function S_({subId:s,categoryId:t,subCategories:o,setSubProductsList:a,fetchCategories:n}){const{setAddBlockProducts:l}=ce(),[_]=m.useState(1),[r,i]=m.useState(10),c=h=>{h.preventDefault();const g=r+10;i(g),n("subCategory",1,g,t),console.log("addPage",g)},p=async(h,g)=>{a(h,g);const v=await u(g.id);l(v)},u=async h=>{const g=je.get("multi-store");try{const v=await ie.get(`web-nomenclatures?multiStoreId=${g}&categoryId=${h}&page=${_}&perPage=${r}`);return console.log(555,"res.data.data",v.data.data),v.data.data}catch(v){console.log("Ошибка при получении продуктов по id",v)}};return o.length>0&&e.jsxs("div",{className:X.modalCategory_content_block,children:[e.jsx("h2",{className:X.modalCategory_content_block_title,children:"Подкотегория"}),e.jsxs("div",{className:X.modalCategory_content_item,children:[o==null?void 0:o.map(h=>e.jsxs(H,{to:"#",className:`${X.modalCategory_content_link} ${h.id==s?X.modalCategory_content_link_active:""} `,onClick:g=>p(g,h),children:[h.name.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},h.id)),e.jsx(H,{to:"#",className:X.modalCategory_content_link,onClick:h=>c(h),children:"Ещё..."})]})]})}function N_({setSettings:s,setCancel:t}){const{setAddBlockStatus:o}=ce(),a=()=>{t(),o(!1)};return e.jsxs("div",{className:X.settings_content_buttons,children:[e.jsx("button",{className:`${X.settings_content_btn} ${X.settings_content_btn_cancel}`,onClick:a,children:"Отмена"}),e.jsx(H,{to:"#",className:`${X.settings_content_btn} ${X.settings_content_btn_save}`,onClick:n=>s(n),children:"Сохранить"})]})}function I_(){const[s,t]=m.useState(10),{setAddBlockProducts:o,addBlockProducts:a}=ce(),n=l=>{l.preventDefault();const _=s+10;t(_)};return a.length>0&&e.jsxs("div",{className:X.modalCategory_content_block,children:[e.jsx("h2",{className:X.modalCategory_content_block_title,children:"Подкотегория"}),e.jsxs("div",{className:X.modalCategory_content_item,children:[a==null?void 0:a.map(l=>{var _,r;return e.jsxs(H,{to:"#",className:`
                ${X.modalCategory_content_link}
                ${X.modalCategory_content_link_active} 
                `,children:[e.jsx("input",{type:"checkbox"}),(r=(_=l==null?void 0:l.nomenclature)==null?void 0:_.name)==null?void 0:r.ru,e.jsx(U,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},l.id)}),e.jsx(H,{to:"#",className:X.modalCategory_content_link,onClick:l=>n(l),children:"Ещё..."})]})]})}function $_(){const{TemporaryData:s,currentProduct:t,setCurrentCategory:o,setPickedCategory:a,setCurrentSubCategory:n,setTemporaryData:l,setOpenModalCategory:_,setCurrentProduct:r}=be(),{homePageBlock:i,setHomePageBlock:c,setAddBlockStatus:p,homePageBlockName:u,setAddBlockStatusItem:h,addBlockProducts:g}=ce(),[v,$]=m.useState(0),[I,F]=m.useState(0),[j,N]=m.useState(0),[f,y]=m.useState({}),[x,b]=m.useState(!1),[D,S]=m.useState("Выберите категорию"),[P,W]=m.useState([]),[L,K]=m.useState([]),[k,E]=m.useState([]);m.useEffect(()=>{me("super",1,10)},[]);const T=(te,le)=>{te.preventDefault(),me("subCategory",1,10,le.id);const C=k.filter(w=>w.parentId==le.id);n(C),y(le),F(le.id),b(!1)},A=(te,le)=>{te.preventDefault(),y(le),N(le.id),b(!1)},fe=async te=>{if(te.preventDefault(),Object.keys(f).length===0){b(!0),S("Выберите Суперкотегорию");return}if(L.length>0&&I===0){b(!0),S("Выберите Категорию");return}if(k.length>0&&j===0){b(!0),S("Выберите Подкотегорию");return}if(console.log("TemporaryData",s),j){console.log(1,"superCategory",P),console.log(1,"category",L),console.log(1,"subCategories",k),console.log(1,"superId",v),console.log(2,"categoryId",I),console.log(3,"subId",j),console.log(4,"localPicked",f),h(!0);const le=P.filter(_e=>_e.id==v)[0],C=L.filter(_e=>_e.id==I)[0],w=k.filter(_e=>_e.id==j)[0],q={id:se(),title:u,superCategory:le,category:C,subCategory:w,products:g};c([q,...i]);const G=s.find(_e=>_e.mxikCode==(t==null?void 0:t.mxikCode)),Y=s.findIndex(_e=>_e.mxikCode==(t==null?void 0:t.mxikCode));G&&(G.crmCategory=f,s.splice(Y,1,G),l([...s]))}ve()},ve=()=>{a(f),_(!1),$(0),F(0),r({}),N(0),y({}),o([]),n([]),b(!1),S("Выберите категорию"),p(!1)},me=async(te,le,C,w)=>{try{const q=te=="super"?`https://api.mcrm.uz/api/categories?&page=${le}&perPage=${C}`:`https://api.mcrm.uz/api/categories?parentId=${w}&page=${le}&perPage=${C}`,Y=(await Te.get(q)).data.data.map(_e=>({..._e,label:te==="super"?"Супер категория":te==="category"?"Категория":"Субкатегория"}));te==="super"&&W([...Y]),te==="category"&&K([...Y]),te==="subCategory"&&E([...Y])}catch(q){console.error(`Ошибка произошла при получении ${te} категорий`,q)}};return e.jsx("div",{className:X.modalCategory,onClick:te=>te.stopPropagation(),children:e.jsxs("div",{className:X.modalCategory_block,children:[e.jsx("p",{className:X.modalCategory_content_message,children:x?D:""}),e.jsxs("div",{className:X.modalCategory_content,children:[e.jsx(w_,{superId:v,superCategory:P,category:L,setLocalPicked:y,setSuperId:$,setMessageStatus:b,fetchCategories:me,setSubCategories:E}),e.jsx(C_,{superId:v,categoryId:I,category:L,setSubCategory:T,fetchCategories:me}),e.jsx(S_,{subId:j,categoryId:I,subCategories:k,setSubProductsList:A,fetchCategories:me}),e.jsx(I_,{}),e.jsx(N_,{setSettings:fe,setCancel:ve})]})]})})}function P_(){const{addBlockStatus:s,homePageBlock:t}=ce();return e.jsxs("div",{className:d.homePage,children:[e.jsx(e_,{}),s&&e.jsx($_,{}),e.jsx("div",{className:d.homePage_blocks,children:t.length>0&&t.map(o=>e.jsx("div",{children:e.jsx(t_,{item:o})},o.id))})]})}const D_=[{id:"1",label:"Модули",href:"/admin/settings/modules"},{id:"2",label:"Шаблоны",href:"/admin/settings/templates"},{id:"3",label:"Категории",href:"/admin/settings/categories"},{id:"4",label:"Баннер",href:"/admin/settings/banner"},{id:"5",label:"Основные",href:"/admin/settings/contacts"},{id:"6",label:"Доставка",href:"/admin/settings/delivery"},{id:"7",label:"Главная страница",href:"/admin/settings/homePage"}];function O_(){const t=ae().pathname,{setAddBlockStatus:o}=ce();return e.jsx("div",{className:d.settings,onClick:()=>o(!1),children:e.jsxs("div",{className:d.settings_content,children:[e.jsx("div",{className:d.settings_content_top,children:e.jsx("ul",{className:d.settings_tools,children:D_.map(a=>e.jsx("li",{children:e.jsx(H,{to:a.href,className:`${d.settings_tools_link} ${t.startsWith(a.href)?d.settings_tools_link_active:""}`,children:a.label})},a.id))})}),t=="/admin/settings/modules"&&e.jsx(Ha,{}),t=="/admin/settings/templates"&&e.jsx(Xa,{}),t=="/admin/settings/categories"&&e.jsx(jr,{}),t.startsWith("/admin/settings/banner")&&e.jsx(Xi,{}),t.startsWith("/admin/settings/contacts")&&e.jsx(Jc,{}),t.startsWith("/admin/settings/delivery")&&e.jsx(Ql,{}),t.startsWith("/admin/settings/homePage")&&e.jsx(P_,{})]})})}const at=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Статус"},{id:4,title:"Акции"},{id:5,title:""}];function F_(){const[s,t]=m.useState(""),[o]=m.useState(1),[a]=m.useState(10),[n,l]=m.useState({status:!1,message:""}),[_,r]=m.useState([]);m.useEffect(()=>{s||(r([]),l({status:!1,message:""}))},[s]);async function i(c){c.preventDefault();const p=je.get("multi-store");try{const h=await(await ie.get(`nomenclatures?multiStoreId=${p}&name=${s}&page=${o}&perPage=${a}`)).data.data;h.length>0?(r([...h]),l({status:!1,message:""})):(r([]),l({status:!0,message:"Совпадений не найдено"}))}catch(u){console.log("Ошибка произошла при поиске продуктов на складе",u)}}return e.jsxs("div",{className:d.addingWrapper,children:[e.jsxs("form",{action:"",className:d.addingWrapper_form,onSubmit:c=>i(c),children:[e.jsxs("div",{className:d.addingWrapper_search,children:[e.jsx("input",{type:"text",className:d.addingWrapper_search_input,placeholder:"Поиск товара",onChange:c=>t(c.target.value),value:s}),e.jsx(U,{className:d.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:d.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:d.addingWrapper_table,children:[e.jsx("thead",{className:d.addingWrapper_thead,children:e.jsx("tr",{className:d.addingWrapper_thead_tr,children:at.map(c=>e.jsx("th",{className:d.addingWrapper_thead_th,children:c.title},c.id))})}),e.jsx("tbody",{className:d.addingWrapper_tbody,children:_==null?void 0:_.map(c=>e.jsxs("tr",{className:d.addingWrapper_tbody_tr,children:[at.map(p=>{var u;return e.jsxs("td",{className:d.addingWrapper_tbody_td,children:[p.title=="Наименование"?e.jsx("span",{children:(u=c==null?void 0:c.name)==null?void 0:u.ru}):"",p.title=="Штрих-код"?e.jsx("span",{children:c.mxik}):"",p.title=="Статус"?e.jsx("span",{children:"Статус"}):""]},p.id)}),!c.hasWebNomenclature&&e.jsx("td",{className:d.addingWrapper_tbody_td,children:e.jsx(H,{to:`/admin/stock-product/${c.id}`,className:d.addingWrapper_tbody_add,children:"Добавить"})})]},c==null?void 0:c.mxik))})]}),n.status&&e.jsx("span",{className:d.addingWrapper_table_error,children:n.message})]})}const rt=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Статус"},{id:4,title:"Акции"}];function A_(){const[s,t]=m.useState(""),[o,a]=m.useState({status:!1,message:""}),[n,l]=m.useState([]),[_]=m.useState(1),[r]=m.useState(10);m.useEffect(()=>{s||(l([]),a({status:!1,message:""}))},[s]);async function i(){const h=je.get("multi-store");try{console.log(222,"searchText",s);const v=(await ie.get(`web-nomenclatures?multiStoreId=${h}&title=${s}&page=${_}&perPage=${r}`)).data.data;console.log(999,"data",v),v.length>0?(l([...v]),a({status:!1,message:""})):(l([]),a({status:!0,message:"Совпадений не найдено"}))}catch(g){console.log("Ошибка произошла при поиске продуктов на вебсайте по заголовку",g)}}async function c(h,g){h.preventDefault();try{const v=await ie.patch(`web-nomenclatures/${g}`,{isActive:!1});t(""),l([]),console.log("Продукт успешно отключен с веб сайта",v)}catch(v){console.log("Ошибка произошла при удалении продукта с вебсайта",v)}}async function p(h,g){h.preventDefault();try{const v=await ie.patch(`web-nomenclatures/${g}`,{isActive:!0});t(""),l([]),console.log("Продукт успешно включен на веб сайта",v)}catch(v){console.log("Ошибка произошла при удалении продукта с вебсайта",v)}}const u=async h=>{h.preventDefault(),i()};return e.jsxs("div",{className:d.addingWrapper,children:[e.jsxs("form",{action:"",className:d.addingWrapper_form,onSubmit:h=>u(h),children:[e.jsxs("div",{className:d.addingWrapper_search,children:[e.jsx("input",{type:"text",className:d.addingWrapper_search_input,placeholder:"Поиск товара",onChange:h=>t(h.target.value),value:s}),e.jsx(U,{className:d.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:d.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:d.addingWrapper_table,children:[e.jsx("thead",{className:d.addingWrapper_thead,children:e.jsxs("tr",{className:d.addingWrapper_thead_tr,children:[rt.map(h=>e.jsx("th",{className:d.addingWrapper_thead_th,children:h.title},h.id)),e.jsx("th",{className:d.addingWrapper_thead_th})]})}),e.jsx("tbody",{className:d.addingWrapper_tbody,children:n==null?void 0:n.map(h=>e.jsxs("tr",{className:d.addingWrapper_tbody_tr,children:[rt.map(g=>e.jsxs("td",{className:d.addingWrapper_tbody_td,children:[g.title=="Наименование"?e.jsx("span",{children:h.title}):"",g.title=="Статус"?e.jsx("span",{children:"Статус"}):""]},g.id)),e.jsx("td",{className:d.addingWrapper_tbody_td,children:e.jsxs("div",{className:d.addingWrapper_tbody_buttons,children:[h.isActive&&e.jsx(H,{to:"#",className:d.addingWrapper_tbody_del,onClick:g=>c(g,h.id),children:"Отключить"}),!h.isActive&&e.jsx(H,{to:"#",className:d.addingWrapper_tbody_del,onClick:g=>p(g,h.id),children:"Включить"}),e.jsx(H,{to:`/admin/website-product/${h.id}`,className:d.addingWrapper_tbody_add,children:"Изменить"})]})})]},h==null?void 0:h.id))})]}),o.status&&e.jsx("span",{className:d.addingWrapper_table_error,children:o.message})]})}const B_=[{id:1,title:"На складе",href:"/admin/product/adding/stock"},{id:2,title:"На сайте",href:"/admin/product/adding/website"}];function L_(){const t=ae().pathname;return e.jsxs("div",{className:d.products,children:[e.jsx("div",{className:d.products_buttons,children:B_.map(o=>e.jsx(H,{to:o.href,className:`${d.products_btn} ${o.href==t?d.products_btn_active:""}`,children:o.title},o.id))}),t=="/admin/product/adding/stock"&&e.jsx(F_,{}),t=="/admin/product/adding/website"&&e.jsx(A_,{})]})}const M_=[{id:1,title:"Добавление",href:"/addingProducts"},{id:2,title:"Добавление на сайт",href:"/admin/product/adding"},{id:3,title:"Списание",href:"/admin/product/write-off"}];function W_(){const t=ae().pathname;return e.jsxs("div",{className:d.products,children:[e.jsx("div",{className:d.products_buttons,children:M_.map(o=>e.jsx(H,{to:o.href,className:`${d.products_btn} ${t.startsWith(`${o.href}`)||t.startsWith("/admin/product-item")?d.products_btn_active:""}`,children:o.title},o.id))}),t.startsWith("/admin/product/adding")&&e.jsx(L_,{})]})}const E_="_user_title_1uizv_1",U_="_user_list_1uizv_6",z_="_user_list_link_1uizv_12",R_="_user_list_link_active_1uizv_26",T_="_user_form_1uizv_30",V_="_user_form_btn_1uizv_35",q_="_user_form_wrap_1uizv_51",K_="_user_form_input_1uizv_57",H_="_user_form_icon_1uizv_65",X_="_user_table_1uizv_68",G_="_user_table_tbody_1uizv_71",Z_="_user_table_tr_1uizv_74",J_="_user_table_th_1uizv_77",Q_="_user_table_td_1uizv_85",Y_="_user_table_btns_1uizv_89",ed="_user_table_btn_1uizv_89",td="_user_table_btn_blocked_1uizv_107",sd="_modal_1uizv_111",od="_modal_active_1uizv_120",nd="_modal_wrap_1uizv_123",ad="_modal_wrap_header_1uizv_131",rd="_modal_wrap_stores_1uizv_143",id="_modal_wrap_stores_text_1uizv_165",cd="_modal_btns_1uizv_169",ld="_modal_btn_1uizv_169",_d="_modal_content_1uizv_193",dd="_modal_content_text_1uizv_197",pd="_versions_1uizv_206",ud="_versions_block_1uizv_211",md="_versions_block_top_1uizv_216",hd="_versions_block_top_title_1uizv_226",gd="_versions_block_top_arrow_1uizv_230",vd="_versions_block_top_arrow_active_1uizv_239",bd="_versions_block_dropdown_1uizv_242",xd="_versions_block_dropdown_item_1uizv_257",fd="_versions_block_dropdown_open_1uizv_268",kd="_shop_header_1uizv_275",yd="_shop_header_title_1uizv_282",M={user_title:E_,user_list:U_,user_list_link:z_,user_list_link_active:R_,user_form:T_,user_form_btn:V_,user_form_wrap:q_,user_form_input:K_,user_form_icon:H_,user_table:X_,user_table_tbody:G_,user_table_tr:Z_,user_table_th:J_,user_table_td:Q_,user_table_btns:Y_,user_table_btn:ed,user_table_btn_blocked:td,modal:sd,modal_active:od,modal_wrap:nd,modal_wrap_header:ad,modal_wrap_stores:rd,modal_wrap_stores_text:id,modal_btns:cd,modal_btn:ld,modal_content:_d,modal_content_text:dd,versions:pd,versions_block:ud,versions_block_top:md,versions_block_top_title:hd,versions_block_top_arrow:gd,versions_block_top_arrow_active:vd,versions_block_dropdown:bd,versions_block_dropdown_item:xd,versions_block_dropdown_open:fd,shop_header:kd,shop_header_title:yd},Qe=({headers:s})=>e.jsx("thead",{className:M.user_table_thead,children:e.jsx("tr",{className:M.user_table_tr,children:s.map(t=>e.jsx("th",{className:M.user_table_th,children:t.title},t.id))})}),Ye=()=>{const[s,t]=m.useState(""),{setUserSearch:o}=ce(),a=n=>{n.preventDefault(),o(s)};return m.useEffect(()=>{s==""&&o("")},[s]),e.jsxs("form",{action:"",className:M.user_form,children:[e.jsxs("div",{className:M.user_form_wrap,children:[e.jsx("input",{type:"text",className:M.user_form_input,placeholder:"Поиск пользователей",onChange:n=>t(n.target.value),value:s}),e.jsx(U,{className:M.user_form_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:M.user_form_btn,onClick:n=>a(n),children:"Найти"})]})},et=({arr:s,showStore:t})=>{const{usersList:o,userSearch:a,openModalAdmin:n,openAppointUser:l,shopListAdmin:_,setOpenAppointUser:r,setOpenModalAdmin:i,setUsersList:c,setEditUserAdmin:p,setShopListDropdownAdmin:u,setCloseBlock:h,setFilteredShopListAdmin:g}=ce(),$=ae().pathname,[I,F]=m.useState([]);m.useEffect(()=>{let x=s;$==="/clients"?x=s.filter(b=>b.isUser):$==="/employees"&&(x=s.filter(b=>!b.isUser)),x=x==null?void 0:x.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())),F(x)},[a,o,s,$]);const j=x=>{const b=o.map(D=>D.id===x?{...D,isBlocked:!D.isBlocked}:D);c(b)},N=x=>{i(!0),h(!0);const b=o.find(P=>P.id==x),D=[{id:se(),title:"Магазин 1",order:1},{id:se(),title:"Магазин 2",order:2},{id:se(),title:"Магазин 3",order:3}],S=D.filter(P=>!(b!=null&&b.shopList.some(W=>W.title===P.title)));console.log("editUser",b),console.log("shopListAdminArr",D),b&&(u(b.shopList),p(b),g(S))},f=x=>{r(!0),h(!0),u([]),g(_);const b=o.find(D=>D.id==x);b&&p(b)},y=n||l;return e.jsx(e.Fragment,{children:e.jsx("tbody",{className:M.user_table_tbody,children:I.map(x=>e.jsxs("tr",{children:[e.jsx("td",{className:M.user_table_td,children:x.name}),e.jsx("td",{className:M.user_table_td,children:t?x.shopList.map(b=>e.jsxs("p",{children:[b.title," ",`(${b.position})`]},b.id)):e.jsx("p",{children:x.isEmployes?"сотрудник":"пользователь"})}),e.jsx("td",{className:M.user_table_td,children:t?"Админ 1":x.registerDate}),e.jsx("td",{className:M.user_table_btns,children:x!=null&&x.isUser?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`${M.user_table_btn} ${x.isBlocked?M.user_table_btn_blocked:""}`,onClick:()=>j(x.id),children:x.isBlocked?"Разблокировать":"Заблокировать"}),e.jsx("button",{className:M.user_table_btn,onClick:()=>f(x.id),disabled:y,children:"Назначить"})]}):e.jsx("button",{className:M.user_table_btn,onClick:()=>N(x.id),style:{background:"#B5FFC7"},disabled:y,children:"Изменить"})})]},x.id))})})};function it({color:s="black",className:t,header:o,isEnabled:a,dropdownItem:n,margin:l,versionList:_,closeBlock:r}){const{shopListAdmin:i,shopListDropdownAdmin:c,filteredShopListAdmin:p,setShopListDropdownAdmin:u,setShopListAdmin:h}=ce(),[g,v]=m.useState("Выберете должность"),[$,I]=m.useState("Выберете магазин"),[F,j]=m.useState(!1);m.useEffect(()=>{n!=null&&n.position?v(n.position):v("Выберете должность")},[n==null?void 0:n.position]),m.useEffect(()=>{r||j(!1)},[r]);const N=(b,D)=>{if(n){v(b.title);const S=c.filter(W=>W.title==n.title),P=c.findIndex(W=>W.title==n.title);S[0].position=b.title,c.splice(P,1,S[0]),u(c)}else I(b.title);if(a&&!c.some(S=>S.title==b.title)){v("Выберете должность");const S={...b,originalIndex:D};u([...c,S]),h(p.filter((P,W)=>W!==D))}j(!1)},f=b=>{const D=c.filter(S=>S.id!==b.id);if(u(D),b.originalIndex!==void 0){const S=[...i];S.splice(b.originalIndex,0,b),h(S)}else{const S=[...p,b].sort((P,W)=>P.order!==void 0&&W.order!==void 0?P.order-W.order:0);h(S),console.log("arr",S)}},y=()=>{j(!F)};function x(b,D){return b.order&&D.order&&(b==null?void 0:b.order)>(D==null?void 0:D.order)?1:-1}return e.jsx("div",{className:t??M.versions,style:{marginBottom:l},children:e.jsxs("div",{className:M.versions_block,children:[o&&e.jsxs("div",{className:M.shop_header,children:[e.jsx("p",{className:M.shop_header_title,children:n==null?void 0:n.title}),e.jsx("button",{onClick:()=>n&&f(n),children:e.jsx(U,{name:"XMarkIcon",width:16})})]}),e.jsxs("div",{className:M.versions_block_top,children:[e.jsx("h2",{className:M.versions_block_top_title,style:{color:s},children:n?g:$}),e.jsx("button",{className:M.versions_block_top_btn,onClick:()=>y(),children:e.jsx("div",{className:`${M.versions_block_top_arrow} ${F?M.versions_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${M.versions_block_dropdown} ${F?M.versions_block_dropdown_open:""}`,children:_==null?void 0:_.sort(x).map((b,D)=>e.jsx("span",{className:M.versions_block_dropdown_item,onClick:()=>N(b,D),children:b.title},D))})]})})}const tt=()=>{const{currentShopModal:s,shopListDropdownAdmin:t,shopListPositionAdmin:o,isEnabled:a,openModalAdmin:n,editUserAdmin:l,shopListAdmin:_,usersList:r,openAppointUser:i,closeBlock:c,filteredShopListAdmin:p,setCurrentShopModal:u,setShopListPositionAdmin:h,setCurrentShopPosition:g,setOpenModalAdmin:v,setShopListAdmin:$,setUsersList:I,setOpenAppointUser:F,setCloseBlock:j,setFilteredShopListAdmin:N}=ce();m.useEffect(()=>{},[p]);const f=()=>{const S=r.findIndex(P=>P.id==(l==null?void 0:l.id));l&&t.every(P=>"position"in P)&&(l.shopList=t,r.splice(S,1,l),I(r),$(_),console.log("filteredShopListAdmin",p)),console.log("shopListAdmin",_),b(),t.length==0&&y()},y=()=>{if(l){l.isUser=!0,l.isEmployes=!1,l.shopList=[];const S={id:se(),title:"",position:"пользователь"};l.shopList=[{...S}]}b()},x=()=>{const S=r.findIndex(P=>P.id==(l==null?void 0:l.id));if(l&&(l.shopList=t,r.splice(S,1,l),l.isUser=!1,l.isEmployes=!0,I(r),F(!1),!(l!=null&&l.shopList.some(P=>"position"in P)))){l.isUser=!0,l.shopList=[];const P={id:se(),title:"",position:"пользователь"};l.shopList=[{...P}]}},b=()=>{$(_),N([]),v(!1),F(!1),j(!1),console.log("close modal")},D=m.useRef(null);return m.useEffect(()=>{const S=P=>{var W;D.current&&!((W=D==null?void 0:D.current)!=null&&W.contains(P.target))&&b()};return n||i?document.addEventListener("mousedown",S):document.removeEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[n,i]),e.jsx("div",{className:`${M.modal} ${n?M.modal_active:""} ${i?M.modal_active:""}`,children:e.jsxs("div",{ref:D,className:M.modal_wrap,children:[e.jsxs("div",{className:M.modal_wrap_header,children:[e.jsx("h3",{children:"Редактирование должность"}),e.jsx("button",{onClick:()=>b(),children:e.jsx(U,{name:"XMarkIcon",width:24})})]}),e.jsxs("div",{className:M.modal_content,children:[e.jsxs("p",{className:M.modal_content_text,children:["Логин: ",l==null?void 0:l.name]}),e.jsxs("p",{className:M.modal_content_text,children:["Статус:",l==null?void 0:l.shopList.map(S=>e.jsx("span",{children:S.position},S.id))]}),e.jsx(it,{color:"#717171",setVersionList:$,currentVersion:s,setCurrentVersion:u,isEnabled:a,versionList:p||_,closeBlock:c}),e.jsxs("div",{className:M.modal_wrap_stores,children:[e.jsx("p",{className:M.modal_wrap_stores_text,children:"Выбрано магазинов: "}),t==null?void 0:t.map((S,P)=>e.jsx(it,{dropdownItem:S,margin:"12px",color:"#717171",versionList:o,setVersionList:h,setCurrentVersion:g,header:!0,closeBlock:c},P))]}),e.jsx("div",{className:M.modal_btns,children:i?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:M.modal_btn,onClick:()=>b(),style:{background:"#fff"},children:"Отмена"}),e.jsx("button",{className:M.modal_btn,onClick:()=>x(),children:"Сохранить"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:M.modal_btn,onClick:()=>y(),children:"Уволить"}),e.jsx("button",{className:M.modal_btn,onClick:()=>f(),children:"Сохранить"})]})})]})]})})},jd=[{id:"1",title:"Логин"},{id:"2",title:"Группа"},{id:"3",title:"Дата регистрации"},{id:"4",title:""}],wd=()=>{const{usersList:s}=ce();return e.jsxs(e.Fragment,{children:[e.jsx(Ye,{}),e.jsxs("table",{className:M.user_table,children:[e.jsx(Qe,{headers:jd}),e.jsx(et,{arr:s})]}),e.jsx(tt,{})]})},Cd=[{id:1,title:"Логин"},{id:2,title:"Группа"},{id:3,title:"Дата регистрации"},{id:4,title:""}],Sd=()=>{const{usersList:s}=ce(),t=s.filter(o=>o.isUser==!0);return e.jsxs(e.Fragment,{children:[e.jsx(Ye,{}),e.jsxs("table",{className:M.user_table,children:[e.jsx(Qe,{headers:Cd}),e.jsx(et,{arr:t})]}),e.jsx(tt,{})]})},Nd=[{id:1,title:"Логин"},{id:2,title:"Магазины"},{id:3,title:"Кто назначил"},{id:4,title:"Дата назначение"}],Id=()=>{const{usersList:s}=ce(),t=s.filter(o=>o.isUser!==!0);return e.jsxs(e.Fragment,{children:[e.jsx(Ye,{}),e.jsxs("table",{className:M.user_table,children:[e.jsx(Qe,{headers:Nd}),e.jsx(et,{arr:t,showStore:!0})]}),e.jsx(tt,{})]})},$d=[{id:1,title:"Все",href:"/admin/users/all"},{id:2,title:"Клиенты",href:"/admin/users/clients"},{id:3,title:"Сотрудники",href:"/admin/users/employees"}],Pd=()=>{const t=ae().pathname;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:M.users,children:e.jsxs("div",{className:M.users_header,children:[e.jsx("h2",{className:M.user_title,children:"Пользователи"}),e.jsx("ul",{className:M.user_list,children:$d.map(o=>e.jsx("li",{children:e.jsx(H,{className:`${M.user_list_link} ${t==o.href?M.user_list_link_active:""}`,to:o.href,children:o.title})},o.id))})]})}),e.jsxs("div",{children:[t=="/admin/users/all"&&e.jsx(wd,{}),t=="/admin/users/clients"&&e.jsx(Sd,{}),t=="/admin/users/employees"&&e.jsx(Id,{})]})]})},ct=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Фото"}];function Dd(){const[s,t]=m.useState(""),[o]=m.useState(1),[a]=m.useState(10),[n,l]=m.useState([]);m.useEffect(()=>{_()},[s]);async function _(){const r=je.get("multi-store");try{const i=await ie.get(`nomenclatures?multiStoreId=${r}&page=${o}&perPage=${a}`),c=await i.data.data;console.log("res",i),l([...c])}catch(i){console.log("Ошибка произошла при получении всх продуктов со склада",i)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:d.addingWrapper,children:[e.jsxs("h2",{className:d.addingWrapper_title,children:["Всего товара: ",n.length]}),e.jsxs("form",{action:"",className:d.addingWrapper_form,children:[e.jsxs("div",{className:d.addingWrapper_search,children:[e.jsx("input",{type:"text",className:d.addingWrapper_search_input,placeholder:"Поиск товара",onChange:r=>t(r.target.value),value:s}),e.jsx(U,{className:d.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:d.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:d.addingWrapper_table,children:[e.jsx("thead",{className:d.addingWrapper_thead,children:e.jsx("tr",{className:d.addingWrapper_thead_tr,children:ct.map(r=>e.jsx("th",{className:d.addingWrapper_thead_th,children:r.title},r.id))})}),e.jsx("tbody",{className:d.addingWrapper_tbody,children:n&&(n==null?void 0:n.map(r=>e.jsx("tr",{className:d.addingWrapper_tbody_tr,children:ct.map(i=>{var c,p;return e.jsxs("td",{className:d.addingWrapper_tbody_td,children:[i.title=="Наименование"?e.jsx("span",{children:((c=r==null?void 0:r.name)==null?void 0:c.ru)&&((p=r==null?void 0:r.name)==null?void 0:p.ru)}):"",i.title=="Штрих-код"?e.jsx("span",{children:r==null?void 0:r.barcode}):""]},i.id)})},r==null?void 0:r.id)))})]})]})})}const lt=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Фото"}];function Od(){const[s,t]=m.useState(""),[o]=m.useState(1),[a]=m.useState(10),[n,l]=m.useState([]);m.useEffect(()=>{_()},[s]);async function _(){const r=je.get("multi-store");try{const i=await ie.get(`web-nomenclatures?multiStoreId=${r}&page=${o}&perPage=${a}`),c=await i.data.data;console.log("res",i),l([...c])}catch(i){console.log("Ошибка произошла при получении всх продуктов со склада",i)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:d.addingWrapper,children:[e.jsxs("h2",{className:d.addingWrapper_title,children:["Всего товара: ",n.length]}),e.jsxs("form",{action:"",className:d.addingWrapper_form,children:[e.jsxs("div",{className:d.addingWrapper_search,children:[e.jsx("input",{type:"text",className:d.addingWrapper_search_input,placeholder:"Поиск товара",onChange:r=>t(r.target.value),value:s}),e.jsx(U,{className:d.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:d.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:d.addingWrapper_table,children:[e.jsx("thead",{className:d.addingWrapper_thead,children:e.jsx("tr",{className:d.addingWrapper_thead_tr,children:lt.map(r=>e.jsx("th",{className:d.addingWrapper_thead_th,children:r.title},r.id))})}),e.jsx("tbody",{className:d.addingWrapper_tbody,children:n==null?void 0:n.map(r=>e.jsx("tr",{className:d.addingWrapper_tbody_tr,children:lt.map(i=>e.jsx("td",{className:d.addingWrapper_tbody_td,children:i.title=="Наименование"?e.jsx("span",{children:r==null?void 0:r.title}):""},i.id))},r==null?void 0:r.id))})]})]})})}function Fd(){const t=ae().pathname,{shopsStocks:o}=Ve();return e.jsxs("div",{className:d.layout,children:[e.jsx("ul",{className:d.layout_buttons,children:o.map(a=>e.jsx("li",{children:e.jsx(H,{to:`/admin/shops/shop/${a.url}`,className:`${d.layout_btn} ${t==`/admin/shops/shop/${a.url}`?d.layout_btn_active:""}`,children:a.title})},a.id))}),e.jsxs("div",{className:d.layout_content,children:[t==="/admin/shops/shop/stock"&&e.jsx(Dd,{}),t==="/admin/shops/shop/website"&&e.jsx(Od,{})]})]})}function Ad(){const{shopsAmount:s,currentShop:t,setCurrentShop:o}=Ve(),n=ae().pathname;return e.jsxs("div",{className:d.layout,children:[e.jsx("h2",{className:d.layout_title,children:"Магазины"}),e.jsx("ul",{className:d.layout_buttons,children:s.map(l=>e.jsx("li",{children:e.jsx(H,{to:"/admin/shops/shop",className:`${d.layout_btn} ${t==l.url?d.layout_btn_active:""}`,onClick:()=>o(l.url),children:l.title})},l.id))}),n.startsWith("/admin/shops/shop")&&e.jsx("div",{className:d.layout_content,children:e.jsx(Fd,{})})]})}function Bd({item:s}){const{setErrorModal:t}=be(),o=a=>{a.stopPropagation()};return e.jsx("div",{className:d.errorWrapper,onClick:()=>t({status:!1,message:""}),children:e.jsxs("div",{className:d.errorWrapper_block,onClick:o,children:[e.jsx("button",{className:d.errorWrapper_block_close,onClick:()=>t({status:!1,message:""}),children:e.jsx(U,{name:"XMarkIcon",width:25,height:25})}),e.jsx("span",{children:s.message})]})})}function Ld({localNewImage:s,setLocalNewImage:t}){const[o,a]=m.useState(null);function n(p,u){return p.order>u.order?1:-1}function l(p,u){a(u)}function _(p){p.target.style.background="white"}function r(p){p.preventDefault(),p.target.style.background="lightgray"}function i(p,u){p.preventDefault(),p.target.style.background="white";const h=s&&s.map(g=>g.id===u.id?{...g,order:(o==null?void 0:o.order)||g.order}:g.id===(o==null?void 0:o.id)?{...g,order:u.order}:g).sort((g,v)=>g.order-v.order);console.log(555,"newImages",h),h&&t(h),a(null)}const c=p=>{const u=s.filter(h=>h.id!==p);t([...u])};return m.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:s&&s.sort(n).map((p,u)=>e.jsxs("div",{className:`${d.productItem_photo} ${u==0?d.productItem_photo_active:""}`,draggable:!0,onDragStart:h=>l(h,p),onDragLeave:h=>_(h),onDragEnd:h=>_(h),onDragOver:h=>r(h),onDrop:h=>i(h,p),children:[e.jsx("div",{className:d.productItem_photo_img,children:e.jsx("img",{src:p.src?`https://api.mcrm.uz/${p.src}`:p.localSrc?p.localSrc:"/add.webp",width:100,height:140,alt:"img"})}),e.jsx("div",{className:d.productItem_photo_close,onClick:()=>c(p.id),children:e.jsx(U,{width:18,height:18,name:"XMarkIcon"})})]},p.id))})}function wt({stockName:s,myMxikCode:t,localNewImage:o,setLocalNewImage:a,setLocalFormData:n,localFormData:l}){const{errorModal:_}=be(),r=m.useRef(null),i=()=>{r.current!=null&&r.current.click()},c=async p=>{var h,g;const u=(g=(h=p==null?void 0:p.target)==null?void 0:h.files)==null?void 0:g[0];if(u&&["image/jpeg","image/png","image/webp"].includes(u.type)){console.log(2,"выбрал новую картинку и она прошла проверку на рассширение files",u);const v=new FormData;v.append("files[]",u),console.log(3,"создал и инициализировал formData и сохранил в setLocalFormData(formData) formData",v),u&&n([...l,u]);const $=o&&(o==null?void 0:o.length)>0?o.reduce((F,j)=>j.order>F?j.order:F,-1/0):1,I=new FileReader;I.onload=F=>{var j;if((j=F.target)!=null&&j.result){const N={id:se(),order:$?$+1:1,localSrc:URL.createObjectURL(u)},f=[...o,N];console.log(4,"создал новый объект {id,order,localSrc} и localSrc добавил выбранную картинку files newImages",f),a&&a([...f]),console.log(5,"сохранил этот объект в массив setLocalNewImage")}},I.readAsDataURL(u),console.log(6,"отрисовал выбранную картинку files",u),r.current&&(r.current.value="")}};return e.jsxs("div",{className:d.productItem_top,children:[_.status&&e.jsx(Bd,{item:_}),e.jsx("h1",{className:d.productItem_title,children:"Добавление объявления"}),e.jsx("h4",{className:d.productItem_basePhoto,children:o&&o.length>0?"Главное фото":""}),e.jsxs("div",{className:d.productItem_photos,children:[e.jsx(Ld,{stockName:s,myMxikCode:t,localNewImage:o,setLocalNewImage:a}),e.jsxs("div",{className:`${d.productItem_photo} ${d.productItem_add}`,onClick:i,children:[e.jsx(U,{width:24,height:24,name:"PlusIcon",color:"rgba(191, 187, 187, 1)"}),e.jsx("span",{className:d.productItem_add_text,children:"Добавить еще"}),e.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",style:{display:"none"},onChange:c,ref:r})]})]}),e.jsx("p",{className:d.productItem_photos_desc,children:"Переместите фото чтоб поменят их порядок вывода"})]})}function Ct({localCategory:s,productName:t,productDescription:o,setProductDescription:a,setProductName:n,myBarcode:l,vendorCode:_,setVendorCode:r,myPrice:i}){var I,F,j,N;const{pickedCategory:c,currentProduct:p,setArticleModal:u,setOpenModalCategory:h}=be();m.useEffect(()=>{(c||s)&&$()},[c,s]);const[g,v]=m.useState(""),$=async()=>{try{const y=(await ie.get(`categories/${c.id?c.id:s}`)).data;v(y.name.ru)}catch(f){console.log("Ошибка произошла при получении категонии по id",f)}};return e.jsxs("div",{className:d.productItem_left,children:[e.jsxs("div",{className:d.productItem_left_info,children:[e.jsxs("div",{className:d.productItem_left_item,children:[e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"Артикул"}),e.jsx("input",{type:"text",placeholder:"например:  #DF156651",className:d.productItem_left_item_top_input,value:_||"",onChange:f=>r(f.target.value)})]}),e.jsx("div",{className:d.productItem_left_item_bottom,children:e.jsx("button",{className:d.productItem_left_item_button,onClick:()=>u(!0),children:"Изменить"})})]}),e.jsxs("div",{className:d.productItem_left_item,children:[e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"Категория:"}),e.jsx("span",{children:g||((F=(I=p==null?void 0:p.category)==null?void 0:I.name)!=null&&F.ru?(N=(j=p==null?void 0:p.category)==null?void 0:j.name)==null?void 0:N.ru:"")})]}),e.jsx("div",{className:d.productItem_left_item_bottom,children:e.jsx("button",{className:d.productItem_left_item_button,onClick:()=>h(!0),children:c!=null&&c.name||p!=null&&p.category?"Изменить":"Выбрать"})})]}),e.jsx("div",{className:d.productItem_left_item,children:e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"Штрих-код"}),e.jsx("span",{children:l})]})}),e.jsx("div",{className:d.productItem_left_item,children:e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"Цена:"}),e.jsx("span",{children:i})]})}),e.jsx("div",{className:d.productItem_left_item,children:e.jsxs("div",{className:d.productItem_left_item_top,children:[e.jsx("span",{children:"PDF:"}),e.jsx("button",{className:d.productItem_left_item_button,children:"Загрузить"})]})})]}),e.jsxs("form",{className:d.productItem_left_form,children:[e.jsxs("label",{className:d.productItem_left_form_label,children:[e.jsx("span",{className:d.productItem_left_form_title,children:"Заголовок"}),e.jsx("input",{className:d.productItem_left_form_input,type:"text",value:t||"",onChange:f=>n(f.target.value)})]}),e.jsxs("label",{className:d.productItem_left_form_label,children:[e.jsx("span",{className:d.productItem_left_form_title,children:"Описание товара"}),e.jsx("textarea",{onChange:f=>a(f.target.value),value:o||"",className:d.productItem_left_form_textarea}),e.jsx("p",{className:d.productItem_left_form_size,children:e.jsx("span",{children:"200/200"})})]})]})]})}function Md({color:s="black",title:t="",extraOptionsList:o,className:a,openBlock:n,setOpenBlock:l,setExtraOptionsList:_}){const r=m.useRef([]);m.useEffect(()=>{r.current.length>0&&i()},[o]);const i=()=>{o&&o.forEach(p=>{r.current.forEach(u=>{u.name==p.title&&(u.checked=p.isActive)})})},c=(p,u)=>{const h=JSON.parse(JSON.stringify(o));h.forEach(g=>{g.title==u&&(g.isActive=!g.isActive)}),_&&_(h)};return e.jsxs("div",{className:a??R.versionExtraOptions,children:[t&&e.jsx("span",{className:R.versionExtraOptions_title,children:t}),e.jsxs("div",{className:R.versionExtraOptions_block,children:[e.jsxs("div",{className:R.versionExtraOptions_block_top,onClick:()=>l&&l(!n),children:[e.jsx("h2",{className:R.versionExtraOptions_block_top_title,style:{color:s},children:t||"Выберите параметры"}),e.jsx("button",{className:R.versionExtraOptions_block_top_btn,children:e.jsx("div",{className:`${R.versionExtraOptions_block_top_arrow} ${n?R.versionExtraOptions_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${R.versionExtraOptions_block_dropdown} ${n?R.versionExtraOptions_block_dropdown_open:""}`,children:o&&o.map((p,u)=>e.jsxs("label",{className:R.versionExtraOptions_block_dropdown_item,children:[p.title,e.jsx("input",{ref:h=>{h&&(r.current[u]=h)},type:"checkbox",name:p.title,"data-type":p.title,onChange:h=>c(h,p.title)})]},p.id))})]})]})}function Wd({color:s="black",title:t="",versionList:o,className:a}){const[n,l]=m.useState(!1),[_,r]=m.useState("");m.useEffect(()=>{o==null||o.forEach(p=>{p.isActive&&r(p.title)})},[]);const i=()=>{l(!n)},c=p=>{o==null||o.forEach(u=>u.isActive=!1),o==null||o.forEach(u=>{u.title==p.title&&(u.isActive=!0,r(u.title))}),i()};return e.jsxs("div",{className:a??R.version3,children:[e.jsx("span",{className:R.version3_title,children:t}),e.jsxs("div",{className:R.version3_block,children:[e.jsxs("div",{className:R.version3_block_top,onClick:()=>i(),children:[e.jsx("h2",{className:R.version3_block_top_title,style:{color:s},children:_||"Выбрать"}),e.jsx("button",{className:R.version3_block_top_btn,children:e.jsx("div",{className:`${R.version3_block_top_arrow} ${n?R.version3_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${R.version3_block_dropdown} ${n?R.version3_block_dropdown_open:""}`,style:{height:`${o&&o.length==1?"50px":""}`},children:o&&o.map(p=>e.jsx("span",{className:R.version3_block_dropdown_item,onClick:()=>c(p),children:o.length>1?p.title:e.jsx("input",{type:"text",placeholder:"Введите вруччную",style:{width:"120px"}})},p.id))})]})]})}function Ed({extraOptionsStatus:s,localCategory:t,setExtraOptionsStatus:o,extraOptions:a}){const[n,l]=m.useState(!1);return m.useEffect(()=>{},[t]),e.jsxs("div",{className:d.productItem_right_item,children:[e.jsxs("div",{className:d.productItem_right_top,onClick:()=>o(!s),children:[e.jsx("h5",{className:d.productItem_right_title,children:"Доп. параметры"}),e.jsx(Ne,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)",status:s})]}),e.jsxs("div",{className:`${d.productItem_right_bottom_items} ${s?d.productItem_right_bottom_items_active:""}`,children:[e.jsx("div",{className:d.productItem_right_bottom_item,children:e.jsx(Md,{color:"",extraOptionsList:a,openBlock:n,setOpenBlock:l})}),a.map(_=>{if(_.isActive)return e.jsxs("div",{className:d.productItem_right_bottom_item,children:[e.jsx(Wd,{color:"",title:_.title,versionList:_.type}),e.jsx("button",{className:d.productItem_right_bottom_del,children:"Удалить"})]},_.id)})]})]})}function _t({color:s="black",title:t="",versionList:o=[{id:"1",title:"версия 1",isActive:!0,navIcon:""},{id:"2",title:"версия 2",isActive:!1,navIcon:""},{id:"3",title:"версия 3",isActive:!1,navIcon:""}],className:a,openBlock:n,currentVersion:l,setOpenBlock:_,setCurrentVersion:r,setVersionList:i}){const c=p=>{r&&r(p.title);const u=o.map(v=>({id:v.id,title:v.title,isActive:!1})),h=u.find(v=>v.id==p.id),g=u.findIndex(v=>v.id==p.id);h&&(h.isActive=!0,u.splice(g,1,h),i&&i(u))};return e.jsxs("div",{className:a??R.version3,children:[e.jsx("span",{className:R.version3_title,children:t}),e.jsxs("div",{className:R.version3_block,children:[e.jsxs("div",{className:R.version3_block_top,children:[e.jsx("h2",{className:R.version3_block_top_title,style:{color:s},children:l}),e.jsx("button",{className:R.version3_block_top_btn,onClick:()=>_&&_(!n),children:e.jsx("div",{className:`${R.version3_block_top_arrow} ${n?R.version3_block_top_arrow_active:""}`,children:e.jsx(U,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${R.version3_block_dropdown} ${n?R.version3_block_dropdown_open:""}`,children:o.map(p=>e.jsx("span",{className:R.version3_block_dropdown_item,onClick:()=>c(p),children:p.title},p.id))})]})]})}function Ud({brieflyProductStatus:s,setBrieflyProductStatus:t}){return e.jsxs("div",{className:d.productItem_right_item,children:[e.jsxs("div",{className:d.productItem_right_top,onClick:()=>t(!s),children:[e.jsx("h5",{className:d.productItem_right_title,children:"Коротко о товаре"}),e.jsx(Ne,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)",status:s})]}),e.jsx("div",{className:`${d.productItem_right_bottom_items} ${s?d.productItem_right_bottom_items_active:""}`,children:e.jsxs("div",{className:`${d.productItem_right_bottom_item} ${d.productItem_right_bottom_row}`,children:[e.jsx(_t,{color:"",title:"Объем, л"}),e.jsx(_t,{color:"",title:"Кол-во в упаковке"})]})})]})}function St({currentProduct:s,extraOptionsStatus:t,setExtraOptionsStatus:o,brieflyProductStatus:a,setBrieflyProductStatus:n,localCategory:l,extraOptions:_,setExtraOptions:r}){return e.jsxs("div",{className:d.productItem_right,children:[e.jsx("div",{className:d.productItem_right_item,children:e.jsxs("div",{className:d.productItem_right_top,children:[e.jsx("h5",{className:d.productItem_right_title,children:"Коментарии"}),e.jsx(Ne,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)"})]})}),e.jsx(Ed,{extraOptionsStatus:t,setExtraOptionsStatus:o,localCategory:l,extraOptions:_,setExtraOptions:r,currentProduct:s}),e.jsx(Ud,{brieflyProductStatus:a,setBrieflyProductStatus:n})]})}function Nt({stockName:s,setAdminSettings:t}){return e.jsxs("div",{className:d.settings_content_buttons,children:[e.jsx(H,{to:s=="stock"?"/admin/product/adding/stock":"/admin/product/adding/website",className:`${d.settings_content_btn} ${d.settings_content_btn_cancel}`,children:"Отмена"}),e.jsx("button",{className:`${d.settings_content_btn} ${d.settings_content_btn_save}`,onClick:()=>t(),children:s=="website"?"Сохранить":"Добавить"})]})}function zd(){const{setArticleModal:s}=be();return e.jsxs("div",{className:d.articleModal_block_nav,children:[e.jsx("h2",{className:d.articleModal_block_title,children:"Артикул"}),e.jsx("button",{onClick:()=>s(!1),children:e.jsx(U,{name:"XMarkIcon"})})]})}function Rd({productName:s}){const[t]=m.useState(""),[o]=m.useState("");return e.jsxs("div",{className:d.articleModal_block_info,children:[e.jsxs("div",{className:d.articleModal_block_info_item,children:[e.jsx("span",{children:"Товар:"}),e.jsx("span",{children:s})]}),e.jsxs("div",{className:d.articleModal_block_info_item,children:[e.jsx("span",{children:"Обьем:"}),e.jsxs("span",{children:[t,"1л"]})]}),e.jsxs("div",{className:d.articleModal_block_info_item,children:[e.jsx("span",{children:"Жирность:"}),e.jsxs("span",{children:[o,"1%"]})]})]})}function It({item:s}){return e.jsxs("div",{className:d.articleModal_block_recommended_item,children:[e.jsx("h3",{className:d.articleModal_block_recommended_item_title,children:s.title}),e.jsxs("div",{className:d.articleModal_block_recommended_content,children:[e.jsx("div",{className:d.articleModal_block_recommended_img,children:e.jsx("img",{src:"/молоко.jpg",alt:""})}),e.jsxs("div",{className:d.articleModal_block_recommended_info,children:[e.jsxs("div",{className:d.articleModal_block_recommended_desc,children:[e.jsxs("p",{children:["Жирность ",e.jsx("span",{children:"1%"})]}),e.jsxs("p",{children:["обьем ",e.jsx("span",{children:"1л"})]})]}),e.jsxs("div",{className:d.articleModal_block_recommended_desc,children:[e.jsxs("p",{children:["Жирность ",e.jsx("span",{children:"1.5%"})]}),e.jsxs("p",{children:["обьем ",e.jsx("span",{children:"1.5л"})]})]}),e.jsxs("div",{className:d.articleModal_block_recommended_desc,children:[e.jsxs("p",{children:["Жирность ",e.jsx("span",{children:"3%"})]}),e.jsxs("p",{children:["обьем ",e.jsx("span",{children:"1л"})]})]})]}),e.jsx("h2",{className:d.articleModal_block_recommended_article,children:s.article})]})]})}const Td=[{id:se(),title:"Молоко Nestle",article:"#DF262515"}];function Vd(){return e.jsxs("div",{className:d.articleModal_block_recommended,children:[e.jsx("h2",{className:d.articleModal_block_recommended_title,children:"Рекомендуем"}),e.jsx("div",{className:d.articleModal_block_recommended_list,children:Td.map(s=>e.jsx(It,{item:s},s.id))})]})}function qd(){return e.jsx("div",{className:d.articleModal_block_search,children:e.jsxs("div",{className:d.articleModal_block_search_box,children:[e.jsxs("div",{className:d.articleModal_block_search_input,children:[e.jsx("input",{type:"text",placeholder:"Поиск товара"}),e.jsx(U,{name:"MagnifyingGlassIcon",width:17,height:17})]}),e.jsx("button",{className:d.articleModal_block_search_btn,children:"Найти"})]})})}const Kd=[{id:se(),title:"Молоко Nestle",article:"#DF262515"},{id:se(),title:"Молоко Nestle",article:"#DF262515"},{id:se(),title:"Молоко Nestle",article:"#DF262515"}];function Hd(){return e.jsx("div",{className:d.articleModal_block_found,children:Kd.map(s=>e.jsx(It,{item:s},s.id))})}function $t({productName:s}){return e.jsx("div",{className:d.articleModal,children:e.jsxs("div",{className:d.articleModal_block,children:[e.jsx(zd,{}),e.jsx(Rd,{productName:s}),e.jsx(Vd,{}),e.jsx(qd,{}),e.jsx(Hd,{}),e.jsx("div",{className:d.articleModal_block_buttonBox,children:e.jsx("button",{className:d.articleModal_block_button,children:"Выбрать"})})]})})}function Xd(){const s=$e(),t=ae(),{id:o}=dt(),{openModalCategory:a}=be(),{pickedCategory:n,currentProduct:l,setErrorModal:_,setCurrentProduct:r,setPickedCategory:i,articleModal:c}=be(),[p,u]=m.useState(""),[h,g]=m.useState(0),[v,$]=m.useState(0),[I,F]=m.useState(Number(o)),[j,N]=m.useState(!1),[f,y]=m.useState([]),[x,b]=m.useState(!1),[D,S]=m.useState(""),[P,W]=m.useState(""),[L,K]=m.useState([]),[k,E]=m.useState([]);async function T(){try{return await(await ie.get(`nomenclatures/${o}`)).data}catch(C){console.log("Ошибка произошла при получении продукта со склада по id",C)}}m.useEffect(()=>{i({})},[t.pathname]),m.useEffect(()=>{A()},[o,n]);async function A(){var w;const C=await T();C&&(u((w=C==null?void 0:C.name)==null?void 0:w.ru),r({...C}),F(C==null?void 0:C.categoryId),g(C==null?void 0:C.barcode),$(C==null?void 0:C.price))}const fe=async()=>{if(l){n.id&&(await me(),F(n.id));const C=await te(k),w=D||await le(),q={nomenclatureId:l.id,title:p,article:w||null,images:C.length>0?[...C]:null,description:P||null,document:"string"};console.log(333333,"newProduct",q),await ve(q),i({}),y([]),s("/admin/product/adding/stock",{replace:!0})}else _({status:!0,message:'"Выберите категорию"'})};async function ve(C){try{await ie.post("web-nomenclatures",C)}catch(w){console.log("Ошибка произошла при добавлении web nomenclatures",w)}}async function me(){try{await ie.patch(`nomenclatures/${o}`,{categoryId:n.id}),F(n.id)}catch(C){console.log("Ошибка произошла при изменении котегории на складе",C)}}const te=async C=>{if(C){const w=new FormData;C.forEach((q,G)=>{w.append(`files[${G}]`,q)});try{return await(await ie.post("media-objects/uploads",w)).data}catch(q){console.error("Ошибка при добавлении картинок на сервер",q)}}},le=async()=>{const C=je.get("multi-store");try{const w=await ie.get(`web-credentials/${C}`);return console.log("fetchArticle res",w),w.data.article}catch(w){console.log("Ошибка при получении артикля",w)}};return e.jsxs("div",{className:d.productItem,children:[a&&e.jsx(pt,{}),e.jsx(wt,{stockName:"stock",myMxikCode:o,localFormData:k,setLocalFormData:E,localNewImage:L,setLocalNewImage:K}),e.jsxs("div",{className:d.productItem_settings,children:[e.jsx(Ct,{myPrice:v,setMyPrice:$,myBarcode:h,setMyBarcode:g,localCategory:I,productName:p,productDescription:P,setProductDescription:W,setProductName:u,vendorCode:D,setVendorCode:S}),e.jsx(St,{extraOptionsStatus:j,setExtraOptionsStatus:N,brieflyProductStatus:x,setBrieflyProductStatus:b,localCategory:I,extraOptions:f,setExtraOptions:y,currentProduct:l})]}),e.jsx(Nt,{stockName:"stock",setAdminSettings:fe}),c&&e.jsx($t,{productName:p})]})}function Gd(){const s=$e(),t=ae(),{id:o}=dt(),{openModalCategory:a}=be(),{pickedCategory:n,webCurrentProduct:l,setWebCurrentProduct:_,setErrorModal:r,setPickedCategory:i,articleModal:c}=be(),[p,u]=m.useState(""),[h,g]=m.useState(0),[v,$]=m.useState(0),[I,F]=m.useState(0),[j,N]=m.useState(Number(o)),[f,y]=m.useState(!1),[x,b]=m.useState([]),[D,S]=m.useState(!1),[P,W]=m.useState(""),[L,K]=m.useState(""),[k,E]=m.useState([]),[T,A]=m.useState([]);async function fe(){try{return await(await ie.get(`web-nomenclatures/${o}`)).data}catch(w){console.log("Ошибка произошла при получении продукта с сайта по id",w)}}m.useEffect(()=>{i({})},[t.pathname]),m.useEffect(()=>{ve()},[o]);async function ve(){var q,G,Y,_e,Oe,we,re;const w=await fe();if(w){$((q=w==null?void 0:w.nomenclature)==null?void 0:q.price),g((G=w==null?void 0:w.nomenclature)==null?void 0:G.barcode),F((Y=w==null?void 0:w.nomenclature)==null?void 0:Y.id),W(w==null?void 0:w.article),u(w!=null&&w.title?w==null?void 0:w.title:(Oe=(_e=w==null?void 0:w.nomenclature)==null?void 0:_e.name)==null?void 0:Oe.ru),_({...w}),N((re=(we=w==null?void 0:w.nomenclature)==null?void 0:we.category)==null?void 0:re.id);let J=1;const he=w.images?w.images.map(ke=>({id:se(),order:J++,src:ke})):[];E(he),J=1,K(w.description?w.description:"")}}const me=async()=>{if(l||n.label){n.id&&await le();const w=await C(T);console.log(15,"получил ответ от функции fetchPhotos() images",w),console.log(16,"добавил localNewImage и images в один массив и сохранил в setLocalNewImage([...localNewImage, ...images])");const q=k.filter(Y=>Y.src).map(Y=>{if(Y.src)return Y.src});console.log(17,"создал новый массив newImg и сохранил туда все содержимое localNewImage из ключей src",q);const G={nomenclatureId:l.id,title:p,article:P,images:w.length>0||q.length>0?[...w]:null,description:L,document:"string"};console.log(18,"создал новый объект продукта newProduct",G),console.log(18,"localNewImage",k),te(G),i({}),b([]),s("/admin/product/adding/website",{replace:!0})}else r({status:!0,message:'"Выберите категорию"'})};async function te(w){try{await ie.patch(`web-nomenclatures/${o}`,w)}catch(q){console.log("Ошибка произошла при добавлении web nomenclatures",q)}}async function le(){try{await ie.patch(`nomenclatures/${I}`,{categoryId:n.id}),N(n.id)}catch(w){console.log("Ошибка произошла при изменении котегории на сайте",w)}}const C=async w=>{if(w){const q=new FormData;w.forEach((G,Y)=>{q.append(`files[${Y}]`,G)});try{return await(await ie.post("media-objects/uploads",q)).data}catch(G){console.error("Ошибка при добавлении картинок на сервер",G)}}};return e.jsxs("div",{className:d.productItem,children:[a&&e.jsx(pt,{}),e.jsx(wt,{stockName:"website",myMxikCode:o,localNewImage:k,setLocalNewImage:E,localFormData:T,setLocalFormData:A}),e.jsxs("div",{className:d.productItem_settings,children:[e.jsx(Ct,{myPrice:v,setMyPrice:$,myBarcode:h,setMyBarcode:g,localCategory:j,productName:p,productDescription:L,setProductDescription:K,setProductName:u,vendorCode:P,setVendorCode:W}),e.jsx(St,{extraOptionsStatus:f,setExtraOptionsStatus:y,brieflyProductStatus:D,setBrieflyProductStatus:S,localCategory:j,extraOptions:x,setExtraOptions:b,currentProduct:l})]}),e.jsx(Nt,{stockName:"website",setAdminSettings:me}),c&&e.jsx($t,{productName:p})]})}function ap(){const{user:s}=At(),{setCurrentShop:t}=Ve(),a=ae().pathname;m.useEffect(()=>{a.startsWith("/admin/shops")||t("0")},[a]);const n=[{id:"1",label:"Настройки",href:"/admin/settings",icon:e.jsx(U,{name:"CogIcon"}),isActive:!0},{id:"2",label:"Товар",href:"/admin/product",icon:e.jsx(U,{name:"ShoppingCartIcon"}),isActive:!1},{id:"3",label:"Пользователи",href:"/admin/users",icon:e.jsx(U,{name:"UsersIcon"}),isActive:!1},{id:"4",label:"Магазины",href:"/admin/shops",icon:e.jsx(U,{name:"BuildingStorefrontIcon"}),isActive:!1}],[l,_]=m.useState(n),r=i=>{const c=l.map(u=>({id:u.id,label:u.label,href:u.href,icon:u.icon,isActive:!1})),p=c.find(u=>u.id==i);p&&(p.isActive=!0),_(c)};return e.jsxs(e.Fragment,{children:[e.jsx(Bt,{}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:d.wrapper,children:[e.jsx("h1",{className:d.wrapper_title,children:s==null?void 0:s.username}),e.jsxs("div",{className:d.content,children:[e.jsx("div",{className:d.content_left,children:e.jsx("ul",{className:d.tools,children:l.map(i=>e.jsx("li",{children:e.jsxs(H,{to:i.href,className:`${d.tools_link} ${a.startsWith(i.href)?d.tools_link_active:""}`,onClick:()=>r(i.id),children:[i.icon,i.label]})},i.id))})}),a.startsWith("/admin")&&e.jsxs("div",{className:d.content_right,children:[a.startsWith("/admin/settings")&&e.jsx(O_,{}),a.startsWith("/admin/users")&&e.jsx(Pd,{}),a.startsWith("/admin/shops")&&e.jsx(Ad,{}),a.startsWith("/admin/product")&&e.jsx(W_,{}),a.startsWith("/admin/stock-product")&&e.jsx(Xd,{}),a.startsWith("/admin/website-product")&&e.jsx(Gd,{})]})]})]})})]})}export{ap as default};
