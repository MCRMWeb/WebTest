import{z,A as G,B as q,v as c,r as v,j as e,L as V,x as Q}from"./index-DHFFmrto.js";import{F as ee,a as te,b as ae,c as se,d as ne,e as _e,f as le,g as oe,h as re,i as ce,j as de,k as ie,l as ue,m as be,n as me,o as he,p as fe,q as pe,r as xe,s as Be,t as ve,u as ge,v as je,w as ye,x as Ie,y as ke,z as Ne,A as we,B as Pe,C as Se,D as $e,E as De,G as Le}from"./XMarkIcon-DbEWSbBo.js";import{u as Ae}from"./userStore-CGud9bG-.js";import{s as Ce}from"./shop1Store-CdlforCK.js";const Oe=z()(G(q(s=>({openMenu:!1,openDebt:!1,monetaryDebt:!1,searchProduct:"",amountChose:1,selectedProducts:[],amountsObj:[],totalAmountsObj:{},openPay:!1,remainder:0,totalAmountDue:0,error:{status:!1,text:""},menuListAll:[{id:c(),title:"Выдача денег из кассы"},{id:c(),title:"Развестной товар"},{id:c(),title:"Возврат по чеку"},{id:c(),title:"Сумма в кассе"},{id:c(),title:"Онлфйн касса"},{id:c(),title:"Открыть смену"},{id:c(),title:"Товар без штрих кода"},{id:c(),title:"Внессение денег в кассу"},{id:c(),title:"Продажа за мену"},{id:c(),title:"Открыть денеж. ящик"},{id:c(),title:"Закрыть смену"},{id:c(),title:"Промеж. итог (X-отчет)"}],menuListShow:[{id:c(),title:"Выдача денег из кассы"},{id:c(),title:"Развестной товар"},{id:c(),title:"Возврат по чеку"},{id:c(),title:"Сумма в кассе"},{id:c(),title:"Онлфйн касса"},{id:c(),title:"Открыть смену"},{id:c(),title:"Товар без штрих кода"},{id:c(),title:"Внессение денег в кассу"},{id:c(),title:"Продажа за мену"},{id:c(),title:"Открыть денеж. ящик"},{id:c(),title:"Закрыть смену"},{id:c(),title:"Промеж. итог (X-отчет)"}],kassaMethodsItem:[{id:c(),title:"Наличка",color:"#9d7333"},{id:c(),title:"Перечисление",color:"#7bac66"},{id:c(),title:"Электронные кошельки",color:"#6c85de"}],payNumberList:[{id:c(),value:"1"},{id:c(),value:"2"},{id:c(),value:"3"},{id:c(),value:"4"},{id:c(),value:"5"},{id:c(),value:"6"},{id:c(),value:"7"},{id:c(),value:"8"},{id:c(),value:"9"},{id:c(),value:"0"},{id:c(),value:"00"},{id:c(),value:"000"},{id:c(),value:","},{id:c(),value:"<"}],headerSum:[{id:c(),title:"Наименование",amount:0},{id:c(),title:"Скидки",amount:0},{id:c(),title:"Наценка",amount:0},{id:c(),title:"К оплате",amount:0}],menuBtns:[{id:c(),title:"Левое меню"},{id:c(),title:"Список товаров"},{id:c(),title:"Поиск товара в ручном режиме"},{id:c(),title:"Вид кассы"}],settingsParams:[{id:c(),title:"Фото",checked:!1},{id:c(),title:"Наименование",checked:!1},{id:c(),title:"Ед.измерения",checked:!1},{id:c(),title:"Количество",checked:!1},{id:c(),title:"Приходная цена",checked:!1},{id:c(),title:"Продажная цена",checked:!1},{id:c(),title:"Реализация",checked:!1},{id:c(),title:"Цена без НДС",checked:!1},{id:c(),title:"QR Код",checked:!1},{id:c(),title:"НДС включатель",checked:!1},{id:c(),title:"ИКПУ",checked:!1}],columnsTable:[{id:c(),title:"Фото"},{id:c(),title:"Наименование"},{id:c(),title:"Штрихкод"},{id:c(),title:"Количество"},{id:c(),title:"Цена"},{id:c(),title:"Сумма"}],kassaMethodsDynamicItem:[{name:"Наличка",value:""},{name:"Перечисление",value:""},{name:"Электронные кошельки",value:""}],setKassaMethodsDynamicItem:t=>s({kassaMethodsDynamicItem:t}),setOpenDebt:t=>s({openDebt:t}),setMonetaryDebt:t=>s({monetaryDebt:t}),setTotalAmountDue:t=>s({totalAmountDue:t}),setSettingsParams:t=>s({settingsParams:t}),setError:t=>s({error:t}),setRemainder:t=>s({remainder:t}),setOpenPay:t=>s({openPay:t}),updateTotalAmountsObj:t=>s({totalAmountsObj:t}),setTotalAmountsObj:t=>s({totalAmountsObj:t}),setAmountsObj:t=>s({amountsObj:t}),setSelectedProducts:t=>s(u=>({selectedProducts:[...u.selectedProducts,t]})),delSelectedProducts:t=>s({selectedProducts:t}),setAmountChose:t=>s({amountChose:t}),setSearchProduct:t=>s({searchProduct:t}),setOpenMenu:t=>s({openMenu:t})}),{name:"cash-register-storage",partialize:s=>({...s,selectedProducts:void 0,searchProduct:void 0,totalAmountsObj:void 0,amountChose:void 0,kassaMethodsDynamicItem:void 0,monetaryDebt:void 0,openDebt:void 0})}))),A=Oe;function Fe(s,t){const{headerSum:u}=A();let b=0;for(const l in s)b+=s[l];const f=u==null?void 0:u.map(l=>{let _=0;return l.title=="К оплате"?_=t&&t.length>0?b:0:l.title=="Наименование"&&(_=t==null?void 0:t.length),{id:l.id,title:l.title,amount:_}});return console.log(5555555,"newHeaderSum",f),f}const Re="_container_1n4lt_1",Me="_tableBase_1n4lt_5",Te="_tableBase_kassa_1n4lt_11",Ee="_tableBase_headerSum_1n4lt_24",We="_tableBase_headerSum_block_1n4lt_28",He="_tableBase_headerSum_item_1n4lt_33",Ue="_tableBase_calculate_1n4lt_38",Ve="_tableBase_calculate_box_1n4lt_45",Ke="_tableBase_calculate_show_1n4lt_49",Xe="_tableBase_calculate_show_yellow_1n4lt_55",ze="_tableBase_calculate_show_green_1n4lt_58",Ge="_tableBase_calculate_btn_1n4lt_61",qe="_tableBase_calculate_btn_yellow_1n4lt_65",Qe="_tableBase_calculate_btn_green_1n4lt_68",Ye="_tableBase_calculate_debt_1n4lt_71",Je="_tableBase_methods_1n4lt_79",Ze="_tableBase_methods_item_top_1n4lt_86",et="_tableBase_methods_item_input_1n4lt_92",tt="_tableBase_methods_yourPay_title_1n4lt_97",at="_tableBase_methods_yourPay_clear_1n4lt_100",st="_tableBase_numberList_1n4lt_108",nt="_tableBase_numberList_block_1n4lt_119",_t="_tableBase_numberList_close_1n4lt_122",lt="_tableBase_numberList_items_1n4lt_134",ot="_tableBase_numberList_item_1n4lt_134",rt="_tableBase_numberList_btn_1n4lt_150",ct="_tableBase_nav_1n4lt_158",dt="_tableBase_nav_block_1n4lt_164",it="_tableBase_nav_list_1n4lt_167",ut="_tableBase_nav_link_1n4lt_171",bt="_tableBase_nav_error_1n4lt_179",mt="_tableBase_nav_form_1n4lt_183",ht="_tableBase_nav_input_1n4lt_189",ft="_tableBase_nav_box_1n4lt_194",pt="_tableBase_nav_amount_1n4lt_199",xt="_tableBase_dark_1n4lt_205",Bt="_tableBase_table_1n4lt_214",vt="_tableBase_table_head_1n4lt_221",gt="_tableBase_table_head_tr_1n4lt_225",jt="_tableBase_table_head_th_1n4lt_229",yt="_tableBase_table_body_tr_1n4lt_236",It="_tableBase_table_body_tr_selected_1n4lt_245",kt="_tableBase_table_body_td_1n4lt_253",Nt="_tableBase_table_body_img_1n4lt_259",wt="_tableBase_table_amount_1n4lt_262",Pt="_tableBase_table_amount_btn_1n4lt_270",St="_tableBase_table_amount_minus_1n4lt_278",$t="_tableBase_table_amount_plus_1n4lt_281",Dt="_tableBase_table_amount_input_1n4lt_284",Lt="_tableBase_table_del_1n4lt_289",At="_tableBase_menu_close_1n4lt_299",Ct="_tableBase_menu_list_1n4lt_307",Ot="_tableBase_menu_link_1n4lt_311",Ft="_tableBase_menu_linkActive_1n4lt_316",Rt="_tableBase_menuList_1n4lt_319",Mt="_tableBase_menuList_list_1n4lt_335",Tt="_tableBase_menuList_link_1n4lt_340",Et="_tableBase_menuList_open_1n4lt_344",Wt="_nav_1n4lt_348",Ht="_nav_linkBtn_1n4lt_351",Ut="_nav_settingsIcon_1n4lt_356",Vt="_form_1n4lt_361",Kt="_form_input_1n4lt_371",Xt="_form_btn_1n4lt_377",zt="_form_list_1n4lt_391",Gt="_form_check_1n4lt_396",qt="_form_check_text_1n4lt_401",Qt="_formWrapper_1n4lt_405",Yt="_formWrapper_btn_1n4lt_410",Jt="_found_1n4lt_422",Zt="_table_1n4lt_5",ea="_table_head_1n4lt_451",ta="_table_head_row_1n4lt_454",aa="_table_head_col_1n4lt_459",sa="_table_body_row_1n4lt_462",na="_table_body_col_1n4lt_466",_a="_table_body_img_1n4lt_470",la="_table_body_icon_1n4lt_473",oa="_table_body_name_1n4lt_477",ra="_table_body_amount_1n4lt_503",ca="_ikpuWrapper_1n4lt_511",da="_ikpuWrapper_ikpuModalBlock_1n4lt_519",ia="_ikpuWrapper_content_1n4lt_529",ua="_ikpuWrapper_buttons_1n4lt_534",ba="_ikpuWrapper_save_1n4lt_540",ma="_ikpuWrapper_delete_1n4lt_552",ha="_ikpuWrapper_cancel_1n4lt_558",fa="_left_1n4lt_565",pa="_left_content_1n4lt_568",xa="_left_content_item_1n4lt_573",Ba="_right_1n4lt_583",va="_right_block_1n4lt_586",ga="_right_top_1n4lt_591",ja="_right_top_img_1n4lt_597",ya="_right_bottom_1n4lt_600",Ia="_right_bottom_item_1n4lt_605",ka="_right_bottom_img_1n4lt_608",Na="_foundProducts_1n4lt_612",wa="_foundProducts_modal_1n4lt_620",Pa="_foundProducts_top_1n4lt_636",Sa="_foundProducts_title_1n4lt_646",$a="_foundProducts_close_1n4lt_649",Da="_foundProducts_list_1n4lt_658",La="_foundProducts_item_1n4lt_662",Aa="_foundProducts_item_photo_1n4lt_669",Ca="_foundProducts_item_list_1n4lt_679",Oa="_foundProducts_item_title_1n4lt_691",Fa="_foundProducts_item_desc_1n4lt_694",Ra="_foundProducts_item_btn_1n4lt_698",Ma="_errorModal_1n4lt_703",Ta="_errorModal_block_1n4lt_711",Ea="_img_1n4lt_725",Wa="_debt_1n4lt_729",Ha="_debt_form_1n4lt_734",Ua="_debt_form_label_1n4lt_739",Va="_debt_input_1n4lt_746",Ka="_debt_content_1n4lt_752",Xa="_debt_item_1n4lt_769",za="_debt_item_nav_1n4lt_772",Ga="_debt_item_nav_debt_1n4lt_782",qa="_debt_item_nav_deposit_1n4lt_785",Qa="_userWrapper_1n4lt_788",Ya="_userInfo_1n4lt_788",Ja="_debt_item_nav_box_1n4lt_794",Za="_debt_item_nav_btn_1n4lt_800",es="_debt_item_nav_icon_1n4lt_804",ts="_debt_back_1n4lt_807",as="_active_1n4lt_819",ss="_notActive_1n4lt_824",ns="_userInfo_date_1n4lt_852",_s="_userInfo_time_1n4lt_856",ls="_userInfo_cashier_title_1n4lt_860",os="_userInfo_top_1n4lt_864",rs="_userInfo_cashier_1n4lt_860",cs="_userInfo_cashier_desc_1n4lt_878",ds="_userInfo_goods_1n4lt_881",is="_userInfo_goods_title_1n4lt_886",us="_userInfo_goods_box_1n4lt_890",bs="_userInfo_goods_item_1n4lt_895",ms="_userInfo_goods_name_1n4lt_900",hs="_userInfo_goods_amount_1n4lt_909",fs="_userInfo_amountToBePaid_1n4lt_912",ps="_userInfo_amountToBePaid_title_1n4lt_917",xs="_userInfo_amountToBePaid_value_1n4lt_921",Bs="_userInfo_paid_1n4lt_924",vs="_userInfo_paid_title_1n4lt_929",gs="_userInfo_paid_box_1n4lt_933",js="_userInfo_paid_item_1n4lt_939",ys="_userInfo_paid_item_title_1n4lt_945",Is="_userInfo_paid_item_amount_1n4lt_949",ks="_userInfo_remainder_1n4lt_952",Ns="_userInfo_remainder_title_1n4lt_957",ws="_userInfo_remainder_value_1n4lt_961",a={container:Re,tableBase:Me,tableBase_kassa:Te,tableBase_headerSum:Ee,tableBase_headerSum_block:We,tableBase_headerSum_item:He,tableBase_calculate:Ue,tableBase_calculate_box:Ve,tableBase_calculate_show:Ke,tableBase_calculate_show_yellow:Xe,tableBase_calculate_show_green:ze,tableBase_calculate_btn:Ge,tableBase_calculate_btn_yellow:qe,tableBase_calculate_btn_green:Qe,tableBase_calculate_debt:Ye,tableBase_methods:Je,tableBase_methods_item_top:Ze,tableBase_methods_item_input:et,tableBase_methods_yourPay_title:tt,tableBase_methods_yourPay_clear:at,tableBase_numberList:st,tableBase_numberList_block:nt,tableBase_numberList_close:_t,tableBase_numberList_items:lt,tableBase_numberList_item:ot,tableBase_numberList_btn:rt,tableBase_nav:ct,tableBase_nav_block:dt,tableBase_nav_list:it,tableBase_nav_link:ut,tableBase_nav_error:bt,tableBase_nav_form:mt,tableBase_nav_input:ht,tableBase_nav_box:ft,tableBase_nav_amount:pt,tableBase_dark:xt,tableBase_table:Bt,tableBase_table_head:vt,tableBase_table_head_tr:gt,tableBase_table_head_th:jt,tableBase_table_body_tr:yt,tableBase_table_body_tr_selected:It,tableBase_table_body_td:kt,tableBase_table_body_img:Nt,tableBase_table_amount:wt,tableBase_table_amount_btn:Pt,tableBase_table_amount_minus:St,tableBase_table_amount_plus:$t,tableBase_table_amount_input:Dt,tableBase_table_del:Lt,tableBase_menu_close:At,tableBase_menu_list:Ct,tableBase_menu_link:Ot,tableBase_menu_linkActive:Ft,tableBase_menuList:Rt,tableBase_menuList_list:Mt,tableBase_menuList_link:Tt,tableBase_menuList_open:Et,nav:Wt,nav_linkBtn:Ht,nav_settingsIcon:Ut,form:Vt,form_input:Kt,form_btn:Xt,form_list:zt,form_check:Gt,form_check_text:qt,formWrapper:Qt,formWrapper_btn:Yt,found:Jt,table:Zt,table_head:ea,table_head_row:ta,table_head_col:aa,table_body_row:sa,table_body_col:na,table_body_img:_a,table_body_icon:la,table_body_name:oa,table_body_amount:ra,ikpuWrapper:ca,ikpuWrapper_ikpuModalBlock:da,ikpuWrapper_content:ia,ikpuWrapper_buttons:ua,ikpuWrapper_save:ba,ikpuWrapper_delete:ma,ikpuWrapper_cancel:ha,left:fa,left_content:pa,left_content_item:xa,right:Ba,right_block:va,right_top:ga,right_top_img:ja,right_bottom:ya,right_bottom_item:Ia,right_bottom_img:ka,foundProducts:Na,foundProducts_modal:wa,foundProducts_top:Pa,foundProducts_title:Sa,foundProducts_close:$a,foundProducts_list:Da,foundProducts_item:La,foundProducts_item_photo:Aa,foundProducts_item_list:Ca,foundProducts_item_title:Oa,foundProducts_item_desc:Fa,foundProducts_item_btn:Ra,errorModal:Ma,errorModal_block:Ta,img:Ea,debt:Wa,debt_form:Ha,debt_form_label:Ua,debt_input:Va,debt_content:Ka,debt_item:Xa,debt_item_nav:za,debt_item_nav_debt:Ga,debt_item_nav_deposit:qa,userWrapper:Qa,userInfo:Ya,debt_item_nav_box:Ja,debt_item_nav_btn:Za,debt_item_nav_icon:es,debt_back:ts,active:as,notActive:ss,userInfo_date:ns,userInfo_time:_s,userInfo_cashier_title:ls,userInfo_top:os,userInfo_cashier:rs,userInfo_cashier_desc:cs,userInfo_goods:ds,userInfo_goods_title:is,userInfo_goods_box:us,userInfo_goods_item:bs,userInfo_goods_name:ms,userInfo_goods_amount:hs,userInfo_amountToBePaid:fs,userInfo_amountToBePaid_title:ps,userInfo_amountToBePaid_value:xs,userInfo_paid:Bs,userInfo_paid_title:vs,userInfo_paid_box:gs,userInfo_paid_item:js,userInfo_paid_item_title:ys,userInfo_paid_item_amount:Is,userInfo_remainder:ks,userInfo_remainder_title:Ns,userInfo_remainder_value:ws};function Ps(){const{totalAmountsObj:s,selectedProducts:t,totalAmountDue:u,setTotalAmountDue:b}=A(),f=Fe(s,t);let l=0;for(const _ in s)l+=s[_];return v.useEffect(()=>{b(l)},[l,u]),e.jsx("div",{className:a.tableBase_headerSum,children:e.jsx("div",{className:a.tableBase_headerSum_block,children:f==null?void 0:f.map(_=>e.jsxs("div",{className:a.tableBase_headerSum_item,children:[e.jsx("span",{children:_.title}),e.jsx("span",{children:_.amount})]},_.id))})})}function H({name:s="HandRaisedIcon",width:t=30,height:u=30,color:b="black",background:f="transparent",transition:l=500,className:_,onClick:d}){const i={width:`${t}px`,height:`${u||t}px`,color:b,transition:`${l}ms`,background:f};return e.jsxs(e.Fragment,{children:[s=="HandRaisedIcon"&&e.jsx(ee,{className:_,style:i,onClick:d}),s=="UserIcon"&&e.jsx(te,{className:_,style:i,onClick:d}),s=="HeartIcon"&&e.jsx(ae,{className:_,style:i,onClick:d}),s=="AdjustmentsHorizontalIcon"&&e.jsx(se,{className:_,style:i,onClick:d}),s=="BanknotesIcon"&&e.jsx(ne,{className:_,style:i,onClick:d}),s=="ShoppingBagIcon"&&e.jsx(_e,{className:_,style:i,onClick:d}),s=="CogIcon"&&e.jsx(le,{className:_,style:i,onClick:d}),s=="ShoppingCartIcon"&&e.jsx(oe,{className:_,style:i,onClick:d}),s=="UsersIcon"&&e.jsx(re,{className:_,style:i,onClick:d}),s=="ChevronDownIcon"&&e.jsx(ce,{className:_,style:i,onClick:d}),s=="Cog8ToothIcon"&&e.jsx(de,{className:_,style:i,onClick:d}),s=="EyeIcon"&&e.jsx(ie,{className:_,style:i,onClick:d}),s=="EyeSlashIcon"&&e.jsx(ue,{className:_,style:i,onClick:d}),s=="IdentificationIcon"&&e.jsx(be,{className:_,style:i,onClick:d}),s=="WrenchScrewdriverIcon"&&e.jsx(me,{className:_,style:i,onClick:d}),s=="XMarkIcon"&&e.jsx(he,{className:_,style:i,onClick:d}),s=="PhoneXMarkIcon"&&e.jsx(fe,{className:_,style:i,onClick:d}),s=="Bars3Icon"&&e.jsx(pe,{className:_,style:i,onClick:d}),s=="AdjustmentsVerticalIcon"&&e.jsx(xe,{className:_,style:i,onClick:d}),s=="TrashIcon"&&e.jsx(Be,{className:_,style:i,onClick:d}),s=="BackspaceIcon"&&e.jsx(ve,{className:_,style:i,onClick:d}),s=="QueueListIcon"&&e.jsx(ge,{className:_,style:i,onClick:d}),s=="ChevronRightIcon"&&e.jsx(je,{className:_,style:i,onClick:d}),s=="MagnifyingGlassIcon"&&e.jsx(ye,{className:_,style:i,onClick:d}),s=="ArrowLeftStartOnRectangleIcon"&&e.jsx(Ie,{className:_,style:i,onClick:d}),s=="BuildingStorefrontIcon"&&e.jsx(ke,{className:_,style:i,onClick:d}),s=="BuildingLibraryIcon"&&e.jsx(Ne,{className:_,style:i,onClick:d}),s=="ArrowLeftEndOnRectangleIcon"&&e.jsx(we,{className:_,style:i,onClick:d}),s=="UserPlusIcon"&&e.jsx(Pe,{className:_,style:i,onClick:d}),s=="PlusIcon"&&e.jsx(Se,{className:_,style:i,onClick:d}),s=="FolderOpenIcon"&&e.jsx($e,{className:_,style:i,onClick:d}),s=="FunnelIcon"&&e.jsx(De,{className:_,style:i,onClick:d}),s=="PhotoIcon"&&e.jsx(Le,{className:_,style:i,onClick:d})]})}function Ss({open:s,setOpen:t,clickedBtn:u}){const{payNumberList:b}=A();return e.jsxs("div",{className:`${a.tableBase_numberList} ${s===!0?a.tableBase_numberList_block:""}`,children:[e.jsx("span",{onClick:()=>t(!1),className:a.tableBase_numberList_close,children:e.jsx(H,{name:"XMarkIcon",width:20,color:"white"})}),e.jsx("div",{className:a.tableBase_numberList_items,children:b==null?void 0:b.map((f,l)=>e.jsx("div",{onClick:()=>u(f.value),className:a.tableBase_numberList_item,children:l<=b.length-2?f.value:e.jsx(H,{name:"BackspaceIcon",width:25})},f.id))}),e.jsx("button",{className:a.tableBase_numberList_btn,children:"ПРИМЕНИТЬ"})]})}function $s(){const{totalAmountDue:s,totalAmountsObj:t,selectedProducts:u,kassaMethodsItem:b,kassaMethodsDynamicItem:f,setOpenPay:l,setRemainder:_,setKassaMethodsDynamicItem:d}=A(),[i,S]=v.useState(!1),[P,y]=v.useState(0),[k,E]=v.useState(""),g=v.useRef({}),[N,w]=v.useState(""),[C,$]=v.useState(""),[O,F]=v.useState(0),[D,W]=v.useState(0);v.useEffect(()=>{u.length===0&&(_(0),Object.values(g.current).forEach(m=>{m&&(m.value="")}),F(0),w(""))},[u,t,_]),v.useEffect(()=>{},[C,P]),v.useEffect(()=>{l(i)},[i,l]);const R=()=>{let m=0;for(const p in t)m+=t[p];let r=-m,B=0;Object.values(g.current).forEach(p=>{const M=Number(p==null?void 0:p.value)||0;r+=M,B+=M,_(r),F(B)}),W(r)},x=m=>{m.preventDefault(),Object.values(g.current).forEach(r=>{r&&(r.value="")}),F(0),w("")},j=m=>{if(k){if(m==="<"){const r=N.slice(0,-1);w(r),h(r,k),g.current[k]&&(g.current[k].value=r)}else{const r=N+m;w(r),h(r,k),g.current[k]&&(g.current[k].value=r)}g.current[k]&&g.current[k].focus(),R()}},n=m=>{E(m),g.current[m]&&w(g.current[m].value||""),S(!0)},o=(m,r)=>{const B=m.target.value;w(B),h(B,r),$(B),R()},h=(m,r)=>{const B=f.findIndex(p=>p.name===r);if(B!==-1){const p={...f[B],value:m},M=[...f];M[B]=p,d(M)}},L=m=>{let r=0;const B=m.currentTarget.getAttribute("for");Object.values(g.current).forEach(p=>{r+=Number(p==null?void 0:p.value)||0}),Object.values(g.current).forEach(p=>{(p==null?void 0:p.getAttribute("id"))===B&&(r!==0&&r!==s&&r<s?(r=(p==null?void 0:p.value)==="0"?s-r:Number(p==null?void 0:p.value)+(s-r),p.value=String(r)):(r>=s||r===0)&&(Object.values(g.current).forEach(T=>{T&&(T.value="")}),r=s,p&&(p.value=String(r))))}),w(String(r)),R()};return e.jsxs("form",{action:"",className:a.tableBase_methods,children:[e.jsx(Ss,{clickedBtn:j,open:i,setOpen:S,btnValue:P,setBtnValue:y}),b==null?void 0:b.map(m=>e.jsxs("div",{className:a.tableBase_methods_item,children:[e.jsxs("div",{className:a.tableBase_methods_item_top,style:{background:`${m.color}`},children:[e.jsx("span",{children:m.title}),e.jsx("label",{onClick:r=>L(r),htmlFor:m.title,children:"Все"})]}),e.jsx("input",{onFocus:()=>n(m.title),onClick:()=>n(m.title),onChange:r=>o(r,m.title),ref:r=>g.current[m.title]=r,id:m.title,type:"number",className:a.tableBase_methods_item_input,placeholder:"Сумма"})]},m.id)),e.jsxs("div",{className:a.tableBase_methods_yourPay,children:[e.jsxs("h3",{className:a.tableBase_methods_yourPay_title,children:["Ваша сумма: ",O]}),e.jsx("button",{onClick:m=>x(m),className:a.tableBase_methods_yourPay_clear,children:"Очистить"})]})]})}const Y=z()(G(q(s=>({listOfDebtors:[],createNewDebt:!1,currentSearchName:"",currentSearchPhoneNumber:"",errorMessage:{status:!1,text:""},filteredListOfDebtors:[],selectedUserId:"",openCheckStatus:!1,backgroundDebt:"#fff2ee",backgroundDeposit:"#effbde",setBackgroundDebt:t=>s({backgroundDebt:t}),setBackgroundDeposit:t=>s({backgroundDeposit:t}),setOpenCheckStatus:t=>s({openCheckStatus:t}),setSelectedUserId:t=>s({selectedUserId:t}),setFilteredListOfDebtors:t=>s({filteredListOfDebtors:t}),setErrorMessage:t=>s({errorMessage:t}),setCurrentSearchPhoneNumber:t=>s({currentSearchPhoneNumber:t}),setCurrentSearchName:t=>s({currentSearchName:t}),setCreateNewDebt:t=>s({createNewDebt:t}),setListOfDebtors:t=>s({listOfDebtors:t})}),{name:"debtors-storage",partialize:s=>({...s,createNewDebt:void 0,currentSearchName:void 0,currentSearchPhoneNumber:void 0})})));function J(){const{kassaMethodsDynamicItem:s,selectedProducts:t,totalAmountDue:u,monetaryDebt:b,amountsObj:f,remainder:l,openDebt:_,setOpenDebt:d,setAmountsObj:i,setMonetaryDebt:S,setSearchProduct:P,setTotalAmountDue:y,setTotalAmountsObj:k,delSelectedProducts:E,setKassaMethodsDynamicItem:g}=A(),{listOfDebtors:N,createNewDebt:w,currentSearchName:C,currentSearchPhoneNumber:$,selectedUserId:O,backgroundDebt:F,backgroundDeposit:D,setErrorMessage:W,setCurrentSearchPhoneNumber:R,setCurrentSearchName:x,setCreateNewDebt:j,setListOfDebtors:n}=Y(),{user:o}=Ae(),h=()=>t.map(r=>({mxikCode:r.mxikCode,name:r.crmNameProduct??r.subPositionName})),L=m=>{if((b&&l<0||l>0)&&d(!0),m.currentTarget.innerHTML=="ЗАПИСАТЬ"&&w&&C&&$){if((C==null?void 0:C.length)>0&&($==null?void 0:$.length)>0)if(N.some(r=>(r==null?void 0:r.phoneNumber)==$))W({status:!0,text:"Клиент с таким номером уже есть"});else{W({status:!1,text:""});const r={id:c(),name:C,phoneNumber:$,transaction:l,debt:l<0,deposit:l>0,infoList:[{id:c(),date:new Date().toLocaleDateString(),hours:new Date().getHours(),minutes:new Date().getMinutes(),cashiersName:o==null?void 0:o.username,type:null,listOfGoods:h(),payment:s,amountToBePaid:u,remainder:l,amountProducts:f,transactionStatus:l<0?"долг":"депозит",background:l<0?F:D}]};n([...N,r]),P(""),k({}),i([]),R(""),g([{name:"Наличка",value:""},{name:"Перечисление",value:""},{name:"Электронные кошельки",value:""}]),x(""),j(!1),E([]),S(!1),y(0),d(!1)}}else if(m.currentTarget.innerHTML=="ЗАПИСАТЬ"&&!w&&O){const r=N.find(p=>p.id==O),B=N.findIndex(p=>p.id==O);if(r){(l>0||l<0)&&(r.transaction+=l);const p={id:r.id,name:r.name,phoneNumber:r.phoneNumber,transaction:r.transaction,debt:r.transaction<0,deposit:!(r.transaction<0),infoList:[...r.infoList,{id:c(),date:new Date().toLocaleDateString(),hours:new Date().getHours(),minutes:new Date().getMinutes(),cashiersName:o==null?void 0:o.username,type:null,listOfGoods:h(),payment:s,amountToBePaid:u,remainder:l,amountProducts:f,transactionStatus:l<0?"долг":"депозит",background:l<0?F:D}]};N.splice(B,1,p),n(N),P(""),k({}),i([]),R(""),g([{name:"Наличка",value:""},{name:"Перечисление",value:""},{name:"Электронные кошельки",value:""}]),x(""),j(!1),E([]),S(!1),y(0),d(!1)}}};return e.jsxs("div",{className:a.tableBase_calculate,children:[l<0&&!_&&e.jsx("h4",{className:a.tableBase_calculate_title,children:"Касса уходит в минус"}),l==0&&e.jsx("h4",{className:a.tableBase_calculate_title,children:"Остаток"}),l>0&&e.jsx("h4",{className:a.tableBase_calculate_title,children:"Сдача"}),e.jsxs("div",{className:a.tableBase_calculate_box,children:[e.jsx("div",{className:`${a.tableBase_calculate_show} 
          ${l>0?a.tableBase_calculate_show_yellow:""} 
          ${l==0?a.tableBase_calculate_show_green:""}`,children:l>0?"+ "+l:l}),e.jsx("button",{onClick:m=>L(m),className:`${a.tableBase_calculate_btn} 
          ${l>0?a.tableBase_calculate_btn_yellow:""} 
          ${l==0?a.tableBase_calculate_btn_green:""}`,children:_&&b?"ЗАПИСАТЬ":"РАСЧИТАТЬ"})]}),!_&&e.jsxs("label",{className:a.tableBase_calculate_debt,children:[e.jsx("input",{type:"checkbox",onClick:()=>S(!b)}),e.jsx("span",{children:l<0?"Записать платеж в долг":"Записать платеж в депозит"})]})]})}function Ds({item:s}){return e.jsx(e.Fragment,{children:e.jsx("div",{className:a.userWrapper,children:s.infoList.map(t=>e.jsxs("div",{className:a.userInfo,style:{background:t.background},children:[e.jsxs("div",{className:a.userInfo_top,children:[e.jsx("span",{className:a.userInfo_date,children:t.date}),e.jsx("span",{className:a.userInfo_time,children:`${t.hours}:${t.minutes}`})]}),e.jsxs("div",{className:a.userInfo_content,children:[e.jsxs("div",{className:a.userInfo_cashier,children:[e.jsx("span",{className:a.userInfo_cashier_title,children:"Кассир:"}),e.jsx("span",{className:a.userInfo_cashier_desc,children:t.cashiersName})]}),e.jsxs("div",{className:a.userInfo_goods,children:[e.jsx("span",{className:a.userInfo_goods_title,children:"Перечень товаров:"}),e.jsx("div",{className:a.userInfo_goods_box,children:t.listOfGoods&&(t==null?void 0:t.amountProducts.map((u,b)=>e.jsxs("div",{className:a.userInfo_goods_item,children:[e.jsx("span",{className:a.userInfo_goods_name,children:u.name}),e.jsxs("span",{className:a.userInfo_goods_amount,children:[u.amount," шт."]})]},b)))}),e.jsxs("div",{className:a.userInfo_amountToBePaid,children:[e.jsx("span",{className:a.userInfo_amountToBePaid_title,children:"Сумма к оплате"}),e.jsxs("span",{className:a.userInfo_amountToBePaid_value,children:[t.amountToBePaid," сум"]})]}),e.jsxs("div",{className:a.userInfo_paid,children:[e.jsx("h4",{className:a.userInfo_paid_title,children:"Оплата:"}),e.jsx("div",{className:a.userInfo_paid_box,children:t.payment.map((u,b)=>u.value&&e.jsxs("div",{className:a.userInfo_paid_item,children:[e.jsx("span",{className:a.userInfo_paid_item_title,children:u.name}),e.jsxs("span",{className:a.userInfo_paid_item_amount,children:[u.value,"сум"]})]},b))})]}),e.jsxs("div",{className:a.userInfo_remainder,children:[e.jsx("span",{className:a.userInfo_remainder_title,children:t.transactionStatus}),e.jsxs("span",{className:a.userInfo_remainder_value,children:[s.debt===!0?-t.remainder:t.remainder," сум"]})]})]})]})]},t.id))})})}function Ls(){const[s,t]=v.useState(null),{errorMessage:u,listOfDebtors:b,createNewDebt:f,currentSearchName:l,currentSearchPhoneNumber:_,filteredListOfDebtors:d,openCheckStatus:i,setOpenCheckStatus:S,setSelectedUserId:P,setFilteredListOfDebtors:y,setCurrentSearchPhoneNumber:k,setCurrentSearchName:E,setCreateNewDebt:g}=Y(),{setOpenDebt:N,setAmountsObj:w,setMonetaryDebt:C,setTotalAmountDue:$,setTotalAmountsObj:O,delSelectedProducts:F}=A();v.useEffect(()=>{if(!f&&l&&l.length>0){const x=l.length>0?b.filter(j=>j==null?void 0:j.name.toLowerCase().trim().includes(l==null?void 0:l.toLowerCase().trim())):b;y(x)}else if(!f&&_&&(_==null?void 0:_.length)>0){const x=(_==null?void 0:_.length)>0?b.filter(j=>j==null?void 0:j.phoneNumber.toLowerCase().trim().includes(_==null?void 0:_.toLowerCase().trim())):b;y(x)}else y([]),t(""),P("")},[l,_]);const D=()=>{N(!1),C(!1),E(""),k(""),O({}),w([]),F([]),$(0)},W=(x,j)=>{t(j),P(j),s!=j&&S(!1)};function R(x,j){s==j?S(!i):S(!1)}return e.jsxs("div",{className:a.debt,children:[e.jsxs("form",{action:"",className:a.debt_form,children:[e.jsxs("label",{className:a.debt_form_label,children:[e.jsx("input",{type:"checkbox",onClick:()=>g(!f)}),e.jsx("span",{children:"Создать нового"})]}),e.jsx("label",{children:e.jsx("input",{className:a.debt_input,type:"text",placeholder:"Имя",value:l,onChange:x=>E(x.currentTarget.value)})}),e.jsx("label",{children:e.jsx("input",{className:a.debt_input,type:"number",placeholder:"Номер телефона",value:_,onChange:x=>k(x.currentTarget.value)})})]}),e.jsx("div",{className:a.debt_content,children:d==null?void 0:d.map(x=>e.jsxs("div",{"data-id":x.id,className:`
              ${a.debt_item}
              ${x.id==s&&l&&(l==null?void 0:l.length)>0?a.active:""} 
              ${x.id==s&&_&&(_==null?void 0:_.length)>0?a.active:""}
              `,onClick:j=>W(j,x.id),children:[e.jsxs("div",{className:`
              ${a.debt_item_nav} 
              ${x.debt==!0?a.debt_item_nav_debt:a.debt_item_nav_deposit} 
              `,children:[e.jsx("h4",{className:a.debt_item_nav_name,children:x.name}),e.jsxs("div",{className:a.debt_item_nav_box,children:[x.debt&&e.jsxs("span",{className:a.debt_item_nav_transaction,children:["Общий долг: ",-x.transaction," сум"]}),x.deposit&&e.jsxs("span",{className:a.debt_item_nav_transaction,children:["Общий депозит: ",x.transaction," сум"]}),e.jsx("button",{className:a.debt_item_nav_btn,onClick:j=>R(j,x.id),children:e.jsx(H,{name:"IdentificationIcon"})})]})]},x.id),i===!0&&s===x.id&&e.jsx(Ds,{item:x})]},x.id))}),e.jsx("button",{className:a.debt_back,onClick:()=>D(),children:"назад"}),e.jsx("p",{children:u.text}),e.jsx(J,{})]})}const As=()=>{const{monetaryDebt:s,openDebt:t}=A();return e.jsxs("div",{className:a.tableBase_kassa,children:[!t&&e.jsxs(e.Fragment,{children:[e.jsx(Ps,{}),e.jsx($s,{}),e.jsx(J,{})]}),t&&s&&e.jsx(e.Fragment,{children:e.jsx(Ls,{})})]})},Cs=As;function Os(){const{error:s,openMenu:t,amountChose:u,searchProduct:b,setAmountChose:f,setOpenMenu:l,setSearchProduct:_,setError:d}=A(),[i,S]=v.useState(!1);v.useEffect(()=>{S(s.status);const y=setTimeout(()=>{S(!1),d({status:!1,text:""})},3e3);return()=>clearTimeout(y)},[s.status===!0]);const P=y=>{y.preventDefault(),_("")};return e.jsx("header",{className:a.tableBase_header,children:e.jsxs("nav",{className:a.tableBase_nav,children:[e.jsxs("div",{children:[e.jsx(V,{to:"/cash-register/menu",className:a.tableBase_nav_block,children:e.jsx(H,{name:"WrenchScrewdriverIcon",width:40})}),e.jsxs("ul",{className:a.tableBase_nav_list,children:[e.jsx("li",{children:e.jsxs(V,{to:"/admin/settings/modules",className:a.tableBase_nav_link,children:[e.jsx(H,{name:"AdjustmentsVerticalIcon",width:20}),e.jsx("span",{children:"Admin"})]})}),e.jsx("li",{children:e.jsxs(V,{onClick:()=>l(!t),to:"",className:a.tableBase_nav_link,children:[e.jsx(H,{name:"Bars3Icon",width:20}),e.jsx("span",{children:"Меню"})]})})]})]}),i&&e.jsx("span",{className:a.tableBase_nav_error,children:s.text}),e.jsxs("form",{action:"",className:a.tableBase_nav_form,children:[e.jsx("input",{onChange:y=>_(y.target.value),type:"text",value:b,placeholder:"Введите наименование или штрихкод товара",className:a.tableBase_nav_input}),e.jsx("button",{onClick:y=>P(y),children:e.jsx(H,{name:"XMarkIcon",width:20})}),e.jsxs("div",{className:a.tableBase_nav_box,children:[e.jsx("input",{onChange:y=>f(Number(y.target.value)),type:"number",value:u,min:"1",max:"100",className:a.tableBase_nav_amount}),e.jsx("span",{children:"шт"})]})]})]})})}function Fs(){const{menuListShow:s,openMenu:t}=A();return e.jsxs("div",{className:`${a.tableBase_menuList} ${t?a.tableBase_menuList_open:""}`,children:[e.jsxs("ul",{className:a.tableBase_menuList_list,children:[s==null?void 0:s.map(u=>e.jsx(V,{to:"",className:a.tableBase_menuList_link,children:u.title},u.id)),e.jsx("li",{})]}),e.jsx("span",{children:"Eшe +4"})]})}function Rs(){const{openPay:s,searchProduct:t,amountChose:u,selectedProducts:b,settingsParams:f,amountsObj:l,totalAmountsObj:_,columnsTable:d,setError:i,setSelectedProducts:S,setAmountsObj:P,setTotalAmountsObj:y,delSelectedProducts:k,updateTotalAmountsObj:E}=A(),{shop1Products:g}=Ce(),[N,w]=v.useState([]),[C,$]=v.useState({}),[O,F]=v.useState({}),[D,W]=v.useState([]);v.useEffect(()=>{const n=f.filter(o=>o.checked);W(()=>[...n])},[f]),v.useEffect(()=>{if(t.length>0){const n=t.length>0?g==null?void 0:g.filter(o=>{var h;return((h=o==null?void 0:o.crmNameProduct)==null?void 0:h.toLowerCase().trim().includes(t==null?void 0:t.toLowerCase().trim()))&&(o==null?void 0:o.crmAmount)&&(o==null?void 0:o.crmAmount)>0&&(o==null?void 0:o.crmAmount)>=u}):[];w(n)}else w([])},[t,u]);const R=n=>{const o=g.filter(h=>(h==null?void 0:h.mxikCode)==n)[0];b.some(h=>(h==null?void 0:h.mxikCode)==(o==null?void 0:o.mxikCode))?i({status:!0,text:`Вы ужу выбрали - "${o.crmNameProduct}"`}):(S(o),w(h=>h.filter(L=>(L==null?void 0:L.mxikCode)!=n)),$(h=>({...h,[n]:u})),F(h=>({...h,[n]:(o==null?void 0:o.crmSellingPrice)&&(o==null?void 0:o.crmSellingPrice)*u})),P([...l,{amount:u,name:o.crmNameProduct}]),y({..._,[o.mxikCode]:o.crmSellingPrice*u}))},x=(n,o)=>{const h=n.target,L=h.getAttribute("data-symbol"),m=h.closest("tr"),r=m.querySelector(".mxikCode");if(!r)throw new Error("Element with class '.mxikCode' not found");const B=r.innerHTML.trim(),p=(o==null?void 0:o.crmSellingPrice)&&(o==null?void 0:o.crmSellingPrice),M=m.querySelector(".amount input");if(!M)throw new Error("Input element not found");let T=Number(M.value),K=O[B];if(L==="+"&&p?(T+=1,K+=p):L==="-"&&p&&(T-=1,K-=p),T>=1&&T<=Number(M.getAttribute("max"))){if($(U=>({...U,[B]:T})),F(U=>({...U,[B]:K})),l.some(U=>U.name==o.crmNameProduct)){const U=l==null?void 0:l.filter(Z=>Z.name!=o.crmNameProduct);P([...U,{amount:T,name:o==null?void 0:o.crmNameProduct}])}else P([...l,{amount:T,name:o.crmNameProduct}]);y({..._,[B]:K})}},j=n=>{var m;const o=b.filter(r=>(r==null?void 0:r.mxikCode)!=n),h=b.find(r=>(r==null?void 0:r.mxikCode)==n),L=b.findIndex(r=>(r==null?void 0:r.mxikCode)==n);if(h&&h.crmAmount){k(o);const r={};for(const B in _)B!=n&&(r[B]=_[B]);if(t&&((m=N[L])==null?void 0:m.mxikCode)!==n&&u<=h.crmAmount&&w(B=>[...B,h]),l.some(B=>B.name==(h==null?void 0:h.crmNameProduct))){const B=l.filter(p=>p.name!=(h==null?void 0:h.crmNameProduct));P([...B])}else P([...l]);E(r)}};return e.jsxs("div",{className:a.tableBase,children:[e.jsx(Fs,{}),s&&e.jsx("span",{className:a.tableBase_dark}),N.length>0&&e.jsxs("table",{className:a.tableBase_table,children:[e.jsx("thead",{className:a.tableBase_table_head,children:e.jsx("tr",{className:a.tableBase_table_head_tr,children:D==null?void 0:D.map(n=>e.jsx("th",{className:a.tableBase_table_head_th,children:n.title},n.id))})}),e.jsx("tbody",{className:a.tableBase_table_body,children:N==null?void 0:N.map(n=>e.jsx("tr",{onClick:()=>R(n==null?void 0:n.mxikCode),className:a.tableBase_table_body_tr,children:D==null?void 0:D.map(o=>e.jsxs("td",{className:a.tableBase_table_body_td,children:[o.title=="Фото"&&e.jsx("img",{src:"/img.jpeg",width:50,height:50,alt:"",className:a.tableBase_table_body_img}),o.title=="Наименование"&&(n==null?void 0:n.crmNameProduct),o.title=="Приходная цена"&&(n==null?void 0:n.crmArrivalPrice)+" сум",o.title=="Продажная цена"&&(n==null?void 0:n.crmSellingPrice)+" сум",o.title=="QR Код"&&(n==null?void 0:n.mxikCode),o.title=="Ед.измерения"&&(n==null?void 0:n.attributeName),o.title=="Количество"&&(n==null?void 0:n.crmAmount)+" шт"]},o.id))},n==null?void 0:n.mxikCode))})]}),b.length>0&&e.jsxs("table",{className:a.tableBase_table,children:[e.jsx("thead",{className:a.tableBase_table_head,children:e.jsx("tr",{className:a.tableBase_table_head_tr,children:d==null?void 0:d.map(n=>e.jsx("th",{className:a.tableBase_table_head_th,children:n.title},n.id))})}),e.jsx("tbody",{className:a.tableBase_table_body,children:b==null?void 0:b.map(n=>e.jsx("tr",{className:a.tableBase_table_body_tr_selected,children:d==null?void 0:d.map(o=>e.jsxs("td",{className:`${a.tableBase_table_body_td} ${o.title=="Штрихкод"?"mxikCode":o.title=="Цена"?"price text-center":o.title=="Количество"?"amount":""}`,children:[o.title=="Фото"&&e.jsx("img",{src:"/img.jpeg",width:50,height:50,alt:"",className:a.tableBase_table_body_img}),o.title=="Наименование"&&(n==null?void 0:n.crmNameProduct),o.title=="Приходная цена"&&(n==null?void 0:n.crmArrivalPrice)+" сум",o.title=="Продажная цена"&&(n==null?void 0:n.crmSellingPrice)+" сум",o.title=="Цена"&&(n==null?void 0:n.crmSellingPrice)+" сум",o.title=="Штрихкод"&&(n==null?void 0:n.mxikCode),o.title=="Ед.измерения"&&(n==null?void 0:n.attributeName),o.title=="Количество"&&e.jsxs("div",{className:a.tableBase_table_amount,children:[e.jsx("button",{onClick:h=>x(h,n),"data-symbol":"-",className:`${a.tableBase_table_amount_btn} ${a.tableBase_table_amount_minus}`,children:"-"}),e.jsx("input",{min:1,max:n==null?void 0:n.crmAmount,type:"number",className:`${a.tableBase_table_amount_input} amount`,value:C[n.mxikCode]||u,readOnly:!0}),e.jsx("button",{onClick:h=>x(h,n),"data-symbol":"+",className:`${a.tableBase_table_amount_btn} ${a.tableBase_table_amount_plus}`,children:"+"})]}),(o==null?void 0:o.title)=="Сумма"&&(n==null?void 0:n.mxikCode)&&O[n==null?void 0:n.mxikCode]&&e.jsxs(e.Fragment,{children:[(n==null?void 0:n.mxikCode)&&O[n==null?void 0:n.mxikCode],e.jsx("span",{children:"сум"}),e.jsx("button",{onClick:()=>j(n==null?void 0:n.mxikCode),className:`del ${a.tableBase_table_del}`,children:e.jsx(H,{name:"TrashIcon",width:20,color:"white"})})]})]},o.id))},n==null?void 0:n.mxikCode))})]})]})}const Ms="_wrapper_container_v661n_1",Ts="_left_v661n_7",Es="_right_v661n_11",X={wrapper_container:Ms,left:Ts,right:Es},Ws="_layout_1pbgc_1",Hs="_layout_back_1pbgc_4",Us="_layout_title_1pbgc_14",Vs="_layout_list_1pbgc_19",Ks="_layout_link_1pbgc_25",Xs="_layout_link_active_1pbgc_34",zs="_form_list_1pbgc_38",Gs="_form_check_1pbgc_43",qs="_navSetting_1pbgc_49",Qs="_found_1pbgc_53",Ys="_table_1pbgc_74",Js="_table_head_1pbgc_78",Zs="_table_head_row_1pbgc_81",en="_table_head_col_1pbgc_85",I={layout:Ws,layout_back:Hs,layout_title:Us,layout_list:Vs,layout_link:Ks,layout_link_active:Xs,form_list:zs,form_check:Gs,navSetting:qs,found:Qs,table:Ys,table_head:Js,table_head_row:Zs,table_head_col:en};function tn(){const s=v.useRef([]),{settingsParams:t,setSettingsParams:u}=A();v.useEffect(()=>{s.current.forEach((f,l)=>{f&&(f.checked=t[l].checked)})},[t]);const b=f=>{const l=t.map(_=>({id:_.id,title:_.title,checked:_.title==f.currentTarget.value?f.currentTarget.checked:_.checked}));u(l)};return e.jsx("nav",{className:I.navSetting,children:e.jsx("form",{action:"",className:I.form,children:e.jsx("ul",{className:I.form_list,children:t==null?void 0:t.map((f,l)=>e.jsx("li",{children:e.jsxs("label",{className:I.form_check,children:[e.jsx("input",{type:"checkbox",value:f.title,ref:_=>{s.current[l]=_},onChange:_=>b(_)}),e.jsx("span",{className:I.form_check_text,children:f.title})]})},f.id))})})})}function an(){return e.jsx("div",{children:"Settings Calor"})}function sn(){return e.jsx("div",{children:"Setting Tools"})}const nn=[{id:1,title:"отображения колонок",href:"/cash-register/menu"},{id:2,title:"настройки Цвета",href:"/cash-register/menu/colors"},{id:3,title:"настройки инструментов",href:"/cash-register/menu/tools"}];function _n(){const t=Q().pathname,{settingsParams:u}=A(),[b,f]=v.useState([]);return v.useEffect(()=>{const l=u.filter(_=>_.checked);f(()=>[...l])},[u]),e.jsxs("div",{className:"container",children:[e.jsxs("nav",{className:I.layout,children:[e.jsx(V,{className:I.layout_back,to:"/cash-register",children:"Закрыть"}),e.jsx("h2",{className:I.layout_title,children:"Настройки"}),e.jsx("ul",{className:I.layout_list,children:nn.map(l=>e.jsx("li",{children:e.jsx(V,{to:l.href,className:`${I.layout_link} ${l.href==t?I.layout_link_active:""}`,children:l.title})},l.id))}),t=="/cash-register/menu"&&e.jsx(tn,{}),t=="/cash-register/menu/colors"&&e.jsx(an,{}),t=="/cash-register/menu/tools"&&e.jsx(sn,{})]}),e.jsx("section",{className:I.found,children:e.jsxs("table",{className:I.table,children:[e.jsx("thead",{className:I.table_head,children:e.jsx("tr",{className:I.table_head_row,style:{gridTemplateColumns:`repeat(${b.length}, 200px)`},children:b==null?void 0:b.map(l=>e.jsx("td",{className:I.table_head_col,children:l.title},l.id))})}),e.jsx("tbody",{className:I.table_body,children:e.jsx("tr",{className:I.table_body_row,children:e.jsx("td",{className:I.table_body_col})})})]})})]})}function dn(){const t=Q().pathname;return e.jsxs(e.Fragment,{children:[t=="/cash-register"&&e.jsx("main",{className:X.wrapper,children:e.jsxs("div",{className:X.wrapper_container,children:[e.jsxs("section",{className:X.left,children:[e.jsx(Os,{}),e.jsx(Rs,{})]}),e.jsx("section",{className:X.right,children:e.jsx(Cs,{})})]})}),t.startsWith("/cash-register/menu")&&e.jsx(_n,{})]})}export{dn as default};
