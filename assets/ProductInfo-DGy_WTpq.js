import{r as a,j as i,y as g,N as p}from"./index-BKWzXJuX.js";import{p as w,H as j}from"./Header-CQHh410Q.js";import{s as u}from"./shop1Store-Ctd5_wIt.js";import{C as h}from"./CustomIcon-CoemkrYJ.js";import{S as d,N as m,a as f}from"./scrollbar-CEgV5YFH.js";import"./userStore-BQ_slQsy.js";import"./XMarkIcon-Bbx2RA7i.js";const v="_wrapper_131wa_1",I="_wrapper_title_131wa_5",N="_wrapper_content_131wa_13",b="_wrapper_switcher_list_131wa_18",k="_wrapper_switcher_link_131wa_23",S="_active_131wa_41",C="_left_131wa_45",$="_right_131wa_49",y="_right_top_ratingsBlock_131wa_54",P="_right_top_ratings_131wa_54",B="_right_top_wish_131wa_65",E="_right_top_like_131wa_74",R="_right_top_like_active_131wa_77",F="_right_top_name_131wa_80",A="_rightInfo_131wa_87",L="_rightInfo_options_131wa_94",H="_rightInfo_options_box_131wa_101",M="_rightInfo_options_box_col_131wa_106",V="_rightInfo_options_counter_131wa_111",z="_rightInfo_options_images_131wa_120",D="_rightInfo_options_images_item_131wa_125",O="_rightInfo_options_images_item_active_131wa_130",Z="_rightInfo_options_img_131wa_135",q="_rightInfo_buttons_131wa_140",G="_rightInfo_button_131wa_140",J="_mySwiper_131wa_163",K="_mySwiper_slide_img_131wa_168",s={wrapper:v,wrapper_title:I,wrapper_content:N,wrapper_switcher_list:b,wrapper_switcher_link:k,active:S,left:C,right:$,right_top_ratingsBlock:y,right_top_ratings:P,right_top_wish:B,right_top_like:E,right_top_like_active:R,right_top_name:F,rightInfo:A,rightInfo_options:L,rightInfo_options_box:H,rightInfo_options_box_col:M,rightInfo_options_counter:V,rightInfo_options_images:z,rightInfo_options_images_item:D,rightInfo_options_images_item_active:O,rightInfo_options_img:Z,rightInfo_buttons:q,rightInfo_button:G,mySwiper:J,mySwiper_slide_img:K};function Q({title:t,titleId:o,...n},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":o},n),t?a.createElement("title",{id:o},t):null,a.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const T=a.forwardRef(Q);function U({name:t="HandRaisedIcon",width:o=30,height:n=30,color:r="black",background:e="transparent",transition:_=500,className:c,onClick:l}){const x={width:`${o}px`,height:`${n||o}px`,color:r,transition:`${_}ms`,background:e};return i.jsx(i.Fragment,{children:t=="StarIcon"&&i.jsx(T,{className:c,style:x,onClick:l})})}function W({currentItem:t}){const[o,n]=a.useState([]);a.useEffect(()=>{t.crmImages&&n(t==null?void 0:t.crmImages)},[t]);const r=e=>{const _=o.filter(c=>c.id!=e.id);_.unshift(e),n(_)};return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:s.rightInfo_options_box,children:[i.jsx("span",{children:"Цвет:"}),i.jsx("span",{})]}),i.jsxs("div",{className:s.rightInfo_options_images,children:[i.jsx("div",{className:s.rightInfo_options_images_item_active,children:i.jsx("img",{src:o[0]&&o[0].src,alt:"",className:s.rightInfo_options_img})}),i.jsx(d,{spaceBetween:10,modules:[m],slidesPerView:1,navigation:!0,children:o==null?void 0:o.map(e=>i.jsx(f,{className:s.rightInfo_options_images_item,onClick:()=>r(e),children:i.jsx("img",{src:e.src,alt:"",className:s.rightInfo_options_img})},e.id))})]})]})}function X(){return i.jsxs("div",{className:`${s.rightInfo_options_box} ${s.rightInfo_options_box_col}`,children:[i.jsx("span",{children:"Размер:"}),i.jsx("span",{})]})}function Y({setCount:t,currentCount:o}){return i.jsxs("div",{className:`${s.rightInfo_options_box} ${s.rightInfo_options_box_col}`,children:[i.jsx("span",{children:"Количество:"}),i.jsxs("span",{className:s.rightInfo_options_counter,children:[i.jsx("button",{className:s.rightInfo_options_counter_btn,onClick:()=>t("-"),children:i.jsx(h,{name:"MinusIcon",width:25,height:25,color:o==1?"#c6c0c0":"black"})}),o,i.jsx("button",{className:s.rightInfo_options_counter_btn,onClick:()=>t("+"),children:i.jsx(h,{name:"PlusIcon",width:25,height:25,color:"black"})})]})]})}function ii({currentItem:t,currentCost:o}){return i.jsxs("div",{className:s.rightInfo_options_box,children:[i.jsx("span",{children:"Цена:"}),i.jsxs("span",{children:[o==0?t.crmSellingPrice:o," Сум"]})]})}function si(){return i.jsxs("div",{className:s.rightInfo_buttons,children:[i.jsx("button",{className:s.rightInfo_button,children:"Добавить в корзину"}),i.jsx("button",{className:s.rightInfo_button,children:"Купить в 1 клик"})]})}function ti({currentItem:t}){const[o,n]=a.useState(1),[r,e]=a.useState(0);a.useEffect(()=>{const c=t.crmSellingPrice;e(c),console.log("currentItem",t)},[t]);const _=c=>{if(c=="+"){const l=t.crmSellingPrice;n(o+1),e(r+l)}if(c=="-"&&o!=1){const l=t.crmSellingPrice;n(o-1),e(r-l)}};return i.jsxs("div",{className:s.rightInfo,children:[i.jsxs("div",{className:s.rightInfo_options,children:[i.jsx(W,{currentItem:t}),i.jsx(X,{}),i.jsx(Y,{setCount:_,currentCount:o}),i.jsx(ii,{currentItem:t,currentCost:r})]}),i.jsx(si,{})]})}function oi({currentItem:t}){const{favoriteActive:o,setFavoriteActive:n}=w(),r=e=>{if(e.stopPropagation(),Array.isArray(o)&&o.some(_=>_.mxikCode==t.mxikCode)){const _=o.filter(c=>c.mxikCode!=t.mxikCode);n(_)}else n([...o,t])};return i.jsxs("div",{className:s.right,children:[i.jsxs("div",{className:s.right_top,children:[i.jsxs("div",{className:s.right_top_ratingsBlock,children:[i.jsxs("div",{className:s.right_top_ratings,children:[i.jsxs("div",{children:[i.jsx(U,{name:"StarIcon",width:15,height:15,color:"orange",className:s.right_top_ratings_icon}),i.jsx("span",{children:"4.4"})]}),i.jsx("span",{children:"(14 оценок)"}),i.jsx("span",{children:"Более 90 заказов"})]}),i.jsxs("div",{className:s.right_top_wish,onClick:e=>r(e),children:[i.jsx(h,{name:"HeartIcon",width:18,height:18,className:`${s.right_top_like} ${o[o.findIndex(e=>e.mxikCode==t.mxikCode)]?s.right_top_like_active:""}`}),i.jsx("span",{children:"В Избранные"})]})]}),i.jsx("div",{className:s.right_top_name,children:t.positionName})]}),i.jsx(ti,{currentItem:t})]})}function ni({currentItem:t}){var o;return i.jsx("div",{className:s.left,children:i.jsx(d,{className:s.mySwiper,modules:[m],spaceBetween:50,slidesPerView:1,navigation:!0,children:(t==null?void 0:t.crmImages)&&((o=t==null?void 0:t.crmImages)==null?void 0:o.map(n=>i.jsx(f,{className:s.mySwiper_slide,children:i.jsx("img",{src:n.src,alt:"",className:s.mySwiper_slide_img})},n.id)))})})}function ei({currentItem:t}){const{id:o}=g();return i.jsx("div",{className:s.wrapper_switcher,children:i.jsx("div",{className:"container",children:i.jsxs("ul",{className:s.wrapper_switcher_list,children:[i.jsx("li",{children:i.jsx(p,{to:`/productInfo/${o}/desc`,className:({isActive:n})=>n?`${s.wrapper_switcher_link} ${s.active}`:`${s.wrapper_switcher_link}`,children:"Описание товара"})}),t.crmCommentsStatus&&i.jsx("li",{children:i.jsx(p,{to:`/productInfo/${o}/reviews`,className:({isActive:n})=>n?`${s.wrapper_switcher_link} ${s.active}`:`${s.wrapper_switcher_link}`,children:"Отзывы"})})]})})})}function gi(){const{id:t}=g(),{websiteProducts:o}=u(),[n,r]=a.useState({});return a.useEffect(()=>{const e=o.filter(_=>_.mxikCode==t)[0];r(e),console.log("obj",e)},[t]),i.jsxs(i.Fragment,{children:[i.jsx(j,{}),i.jsxs("div",{className:`${s.wrapper} container`,children:[i.jsx("h2",{className:s.wrapper_title,children:n.crmNameProduct}),i.jsxs("div",{className:s.wrapper_content,children:[i.jsx(ni,{currentItem:n}),i.jsx(oi,{currentItem:n})]}),i.jsx(ei,{currentItem:n})]})]})}export{gi as default};
