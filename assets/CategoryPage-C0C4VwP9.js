import{C as x,r as a,o as j,q as P,w as f,j as t}from"./index-DsTKpWNF.js";import{H as y,s as c}from"./Header-C-pCYNLa.js";import{C}from"./CustomIcon-CS4MQdt7.js";import{P as S}from"./Products-hDtHFml1.js";import{s as w}from"./shop1Store-7KU7ktM7.js";import"./userStore-DjjLw9xt.js";import"./XMarkIcon-C_EdJW0_.js";function q(){const r=x().id,{websiteProducts:n}=w(),[o,$]=a.useState([]),[i,m]=a.useState(""),[l]=a.useState(1),[d]=a.useState(10);a.useEffect(()=>{g(),p(r)},[r,n]);const g=async()=>{const e=j.get("multi-store");try{const s=await P.get(`web-nomenclatures?multiStoreId=${e}&page=${l}&perPage=${d}`);console.log(44,"res",s);const u=await s.data.data}catch(s){console.log("Ошибка произошла при получении всех продустов с сайта",s)}},p=async e=>{try{const s=`https://api.mcrm.uz/api/categories/${e}`,h=(await f.get(s)).data;m(h.name.ru)}catch(s){console.error("Ошибка произошла при получении названия категории",s)}};return t.jsxs(t.Fragment,{children:[t.jsx(y,{}),t.jsx("div",{className:c.catalogPage,children:t.jsxs("div",{className:"container",children:[t.jsxs("h2",{className:c.catalogPage_title,children:[t.jsx("span",{children:i}),t.jsx(C,{name:"ChevronRightIcon"})]}),o.length>0?t.jsx(t.Fragment,{children:t.jsx(S,{products:o})}):t.jsx("h2",{children:"Товара нет на сайте"})]})})]})}export{q as default};
