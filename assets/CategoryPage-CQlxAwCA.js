import{C as u,r as c,w as x,j as s}from"./index-DmHCZfnL.js";import{H as f,s as i}from"./Header-C_9MI8jW.js";import{C as j}from"./CustomIcon-TCBQSGBO.js";import{P}from"./Products-DodNTvgR.js";import{s as C}from"./shop1Store-l4vu9re0.js";import"./userStore-Cmpj2Cs9.js";import"./XMarkIcon-CZrudM_9.js";function R(){const a=u().id,{websiteProducts:t}=C(),[n,m]=c.useState([]),[d,l]=c.useState("");c.useEffect(()=>{p(),g(a)},[a,t]);const p=()=>{const e=t&&(t==null?void 0:t.filter(r=>{var o;return((o=r.crmCategoryParentId)==null?void 0:o.id)==a}));m(e)},g=async e=>{try{const r=`https://api.mcrm.uz/api/categories/${e}`,h=(await x.get(r)).data;l(h.name.ru)}catch(r){console.error("Ошибка произошла при получении названия категории",r)}};return s.jsxs(s.Fragment,{children:[s.jsx(f,{}),s.jsx("div",{className:i.catalogPage,children:s.jsxs("div",{className:"container",children:[s.jsxs("h2",{className:i.catalogPage_title,children:[s.jsx("span",{children:d}),s.jsx(j,{name:"ChevronRightIcon"})]}),n.length>0?s.jsx(s.Fragment,{children:s.jsx(P,{products:n})}):s.jsx("h2",{children:"Товара нет на сайте"})]})})]})}export{R as default};
