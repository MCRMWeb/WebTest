import{C as j,r as a,q as P,o as f,x as y,j as t}from"./index-DcJDFFI3.js";import{H as C,s as n}from"./Header-DNnABwyh.js";import{C as S}from"./CustomIcon-9acaQbfX.js";import{P as $}from"./Products-BBZaOudl.js";import{s as N}from"./shop1Store--xMNjpCO.js";import"./userStore-Bd0BwVRS.js";import"./XMarkIcon-f25OYKhE.js";function q(){const e=j().id,{websiteProducts:i}=N(),[o,m]=a.useState([]),[d,g]=a.useState(""),[p]=a.useState(1),[l]=a.useState(10);a.useEffect(()=>{u(),h(e)},[e,i]);const u=async()=>{const r=P.get("multi-store");try{const c=await(await f.get(`web-nomenclatures?multiStoreId=${r}&categoryId=${e}&page=${p}&perPage=${l}`)).data.data;m(c)}catch(s){console.log("Ошибка произошла при получении всех продустов с сайта",s)}},h=async r=>{try{const s=`https://api.mcrm.uz/api/categories/${r}`,x=(await y.get(s)).data;g(x.name.ru)}catch(s){console.error("Ошибка произошла при получении названия категории",s)}};return t.jsxs(t.Fragment,{children:[t.jsx(C,{}),t.jsx("div",{className:n.catalogPage,children:t.jsxs("div",{className:"container",children:[t.jsxs("h2",{className:n.catalogPage_title,children:[t.jsx("span",{children:d}),t.jsx(S,{name:"ChevronRightIcon"})]}),o.length>0?t.jsx(t.Fragment,{children:t.jsx($,{products:o})}):t.jsx("h2",{children:"Товара нет на сайте"})]})})]})}export{q as default};
