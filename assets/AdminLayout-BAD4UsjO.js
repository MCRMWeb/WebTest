import{j as e,v as ae,r as u,w as Te,L as Z,x as ee,y as se,e as Y,z as kt,A as jt,B as wt,u as Oe,o as Pe,q as re,C as nt}from"./index-Cz0FLJ8g.js";import{u as Ct}from"./userStore-D7Cqp0mN.js";import{C as M}from"./CustomIcon-DIi9Rf7J.js";import{s as ve}from"./shop1Store-_my7Qd4b.js";import{a as Ae,c as rt,H as Nt}from"./Header-k21czI93.js";import{a as pe,s as V,M as at}from"./Modal-Dlr7XX49.js";import{b as oe}from"./bannerStore-DZFxVVvX.js";import"./XMarkIcon-CyCH372Y.js";const It="_wrapper_1y56l_1",St="_wrapper_title_1y56l_4",$t="_content_1y56l_10",Dt="_content_left_1y56l_16",Ot="_content_right_1y56l_19",Pt="_tools_1y56l_45",At="_tools_link_1y56l_50",Wt="_tools_link_active_1y56l_63",Et="_settings_1y56l_86",Ut="_settings_title_1y56l_89",Bt="_settings_content_1y56l_94",Lt="_settings_content_top_1y56l_97",zt="_settings_content_buttons_1y56l_100",Ft="_settings_content_btn_1y56l_110",Mt="_settings_content_btn_cancel_1y56l_122",Tt="_settings_content_btn_save_1y56l_125",Rt="_settings_tools_1y56l_128",qt="_settings_tools_link_1y56l_133",Vt="_settings_tools_link_active_1y56l_148",Ht="_wrapperModules_1y56l_153",Xt="_item_1y56l_160",Zt="_item_top_1y56l_165",Gt="_item_top_title_1y56l_176",Jt="_item_top_arrow_1y56l_180",Yt="_item_top_arrow_active_1y56l_188",Qt="_item_block_1y56l_191",Kt="_item_block_item_1y56l_202",es="_item_block_open_1y56l_205",ts="_item_onOff_1y56l_211",ss="_item_delivery_1y56l_211",os="_versions_block_1y56l_217",ns="_versions_block_top_1y56l_222",rs="_versions_block_top_title_1y56l_232",as="_versions_block_top_arrow_1y56l_237",is="_versions_block_top_arrow_active_1y56l_246",cs="_versions_block_dropdown_1y56l_249",ls="_versions_block_dropdown_item_1y56l_260",_s="_versions_block_dropdown_open_1y56l_271",ds="_versions_block_onOff_1y56l_277",ps="_versions_block_delivery_1y56l_277",us="_categoriesDropDown_title_1y56l_283",ms="_categoriesDropDown_item_1y56l_286",hs="_categoriesDropDown_item_top_1y56l_292",bs="_categoriesDropDown_item_top_title_1y56l_303",gs="_categoriesDropDown_item_top_arrow_1y56l_307",vs="_categoriesDropDown_item_top_arrow_active_1y56l_314",xs="_categoriesDropDown_item_block_1y56l_317",fs="_categoriesDropDown_item_block_line_1y56l_326",ys="_categoriesDropDown_item_block_active_1y56l_338",ks="_categoriesDropDown_item_block_open_1y56l_341",js="_categoriesDropDown_item_onOff_1y56l_346",ws="_categoriesDropDown_item_delivery_1y56l_346",Cs="_products_buttons_1y56l_352",Ns="_products_btn_1y56l_358",Is="_products_btn_active_1y56l_369",Ss="_productItem_title_1y56l_374",$s="_productItem_basePhoto_1y56l_379",Ds="_productItem_photos_1y56l_385",Os="_productItem_photos_desc_1y56l_391",Ps="_productItem_photo_1y56l_385",As="_productItem_photo_img_1y56l_406",Ws="_productItem_photo_close_1y56l_417",Es="_productItem_photo_active_1y56l_429",Us="_productItem_add_1y56l_433",Bs="_productItem_add_text_1y56l_441",Ls="_productItem_settings_1y56l_446",zs="_productItem_left_info_1y56l_450",Fs="_productItem_left_item_1y56l_458",Ms="_productItem_left_item_top_1y56l_462",Ts="_productItem_left_item_top_input_1y56l_483",Rs="_productItem_left_item_bottom_1y56l_489",qs="_productItem_left_form_1y56l_502",Vs="_productItem_left_form_label_1y56l_509",Hs="_productItem_left_form_title_1y56l_513",Xs="_productItem_left_form_input_1y56l_519",Zs="_productItem_left_form_textarea_1y56l_527",Gs="_productItem_left_form_size_1y56l_535",Js="_productItem_right_1y56l_543",Ys="_productItem_right_item_1y56l_550",Qs="_productItem_right_top_1y56l_555",Ks="_productItem_right_title_1y56l_562",eo="_productItem_right_bottom_items_1y56l_568",to="_productItem_right_bottom_items_active_1y56l_577",so="_productItem_right_bottom_item_1y56l_568",oo="_productItem_right_bottom_row_1y56l_603",no="_productItem_right_bottom_del_1y56l_608",ro="_banner_nav_list_1y56l_619",ao="_banner_nav_link_1y56l_625",io="_banner_nav_link_active_1y56l_640",co="_addingWrapper_title_1y56l_645",lo="_addingWrapper_form_1y56l_650",_o="_addingWrapper_form_btn_1y56l_655",po="_addingWrapper_search_1y56l_672",uo="_addingWrapper_search_input_1y56l_678",mo="_addingWrapper_search_icon_1y56l_686",ho="_addingWrapper_table_1y56l_689",bo="_addingWrapper_table_error_1y56l_692",go="_addingWrapper_thead_tr_1y56l_696",vo="_addingWrapper_thead_th_1y56l_700",xo="_addingWrapper_tbody_tr_1y56l_708",fo="_addingWrapper_tbody_td_1y56l_711",yo="_addingWrapper_tbody_buttons_1y56l_725",ko="_addingWrapper_tbody_add_1y56l_730",jo="_addingWrapper_tbody_del_1y56l_737",wo="_errorWrapper_1y56l_745",Co="_errorWrapper_block_1y56l_754",No="_errorWrapper_block_close_1y56l_764",Io="_layout_title_1y56l_775",So="_layout_buttons_1y56l_780",$o="_layout_btn_1y56l_786",Do="_layout_btn_active_1y56l_800",Oo="_editBlock_1y56l_805",_={wrapper:It,wrapper_title:St,content:$t,content_left:Dt,content_right:Ot,tools:Pt,tools_link:At,tools_link_active:Wt,settings:Et,settings_title:Ut,settings_content:Bt,settings_content_top:Lt,settings_content_buttons:zt,settings_content_btn:Ft,settings_content_btn_cancel:Mt,settings_content_btn_save:Tt,settings_tools:Rt,settings_tools_link:qt,settings_tools_link_active:Vt,wrapperModules:Ht,item:Xt,item_top:Zt,item_top_title:Gt,item_top_arrow:Jt,item_top_arrow_active:Yt,item_block:Qt,item_block_item:Kt,item_block_open:es,item_onOff:ts,item_delivery:ss,versions_block:os,versions_block_top:ns,versions_block_top_title:rs,versions_block_top_arrow:as,versions_block_top_arrow_active:is,versions_block_dropdown:cs,versions_block_dropdown_item:ls,versions_block_dropdown_open:_s,versions_block_onOff:ds,versions_block_delivery:ps,categoriesDropDown_title:us,categoriesDropDown_item:ms,categoriesDropDown_item_top:hs,categoriesDropDown_item_top_title:bs,categoriesDropDown_item_top_arrow:gs,categoriesDropDown_item_top_arrow_active:vs,categoriesDropDown_item_block:xs,categoriesDropDown_item_block_line:fs,categoriesDropDown_item_block_active:ys,categoriesDropDown_item_block_open:ks,categoriesDropDown_item_onOff:js,categoriesDropDown_item_delivery:ws,products_buttons:Cs,products_btn:Ns,products_btn_active:Is,productItem_title:Ss,productItem_basePhoto:$s,productItem_photos:Ds,productItem_photos_desc:Os,productItem_photo:Ps,productItem_photo_img:As,productItem_photo_close:Ws,productItem_photo_active:Es,productItem_add:Us,productItem_add_text:Bs,productItem_settings:Ls,productItem_left_info:zs,productItem_left_item:Fs,productItem_left_item_top:Ms,productItem_left_item_top_input:Ts,productItem_left_item_bottom:Rs,productItem_left_form:qs,productItem_left_form_label:Vs,productItem_left_form_title:Hs,productItem_left_form_input:Xs,productItem_left_form_textarea:Zs,productItem_left_form_size:Gs,productItem_right:Js,productItem_right_item:Ys,productItem_right_top:Qs,productItem_right_title:Ks,productItem_right_bottom_items:eo,productItem_right_bottom_items_active:to,productItem_right_bottom_item:so,productItem_right_bottom_row:oo,productItem_right_bottom_del:no,banner_nav_list:ro,banner_nav_link:ao,banner_nav_link_active:io,addingWrapper_title:co,addingWrapper_form:lo,addingWrapper_form_btn:_o,addingWrapper_search:po,addingWrapper_search_input:uo,addingWrapper_search_icon:mo,addingWrapper_table:ho,addingWrapper_table_error:bo,addingWrapper_thead_tr:go,addingWrapper_thead_th:vo,addingWrapper_tbody_tr:xo,addingWrapper_tbody_td:fo,addingWrapper_tbody_buttons:yo,addingWrapper_tbody_add:ko,addingWrapper_tbody_del:jo,errorWrapper:wo,errorWrapper_block:Co,errorWrapper_block_close:No,layout_title:Io,layout_buttons:So,layout_btn:$o,layout_btn_active:Do,editBlock:Oo};function be({width:n=78,color:t="white",backgroundOn:s="rgba(137, 250, 135, 1)",backgroundOff:r="rgba(193, 193, 193, 1)",speed:o=500,scale:a=1.1,status:d=!1}){const l={width:`${n}px`,height:`${n/2-n/20}px`,background:d?s:r,borderRadius:`${n/2}px`,display:"flex",alignItems:"center",transition:`${o}ms`,cursor:"pointer"},c={background:`${t}`,height:`${n/2-n/20}px`,width:`${n/2-n/20}px`,border:`${n/25}px solid ${d?s:r}`,borderRadius:"50%",transition:`${o}ms`,transform:`scale(${a}) translateX(${d?"110%":"0"})`};return e.jsx("div",{style:l,children:e.jsx("div",{style:c})})}const Po="_versions_1cgvq_1",Ao="_versions_block_1cgvq_6",Wo="_versions_block_top_1cgvq_11",Eo="_versions_block_top_title_1cgvq_21",Uo="_versions_block_top_arrow_1cgvq_25",Bo="_versions_block_top_arrow_active_1cgvq_34",Lo="_versions_block_dropdown_1cgvq_37",zo="_versions_block_dropdown_item_1cgvq_49",Fo="_versions_block_dropdown_open_1cgvq_60",Mo="_versions_block_onOff_1cgvq_66",To="_versions_block_delivery_1cgvq_66",Ro="_versions2_1cgvq_72",qo="_versions2_block_1cgvq_77",Vo="_versions2_block_top_1cgvq_82",Ho="_versions2_block_top_title_1cgvq_92",Xo="_versions2_block_top_arrow_1cgvq_96",Zo="_versions2_block_top_arrow_active_1cgvq_105",Go="_versions2_block_dropdown_1cgvq_108",Jo="_versions2_block_dropdown_item_1cgvq_119",Yo="_versions2_block_dropdown_open_1cgvq_130",Qo="_versions2_block_onOff_1cgvq_136",Ko="_versions2_block_delivery_1cgvq_136",en="_version3_1cgvq_142",tn="_version3_title_1cgvq_147",sn="_version3_block_1cgvq_153",on="_version3_block_top_1cgvq_158",nn="_version3_block_top_title_1cgvq_169",rn="_version3_block_top_arrow_1cgvq_173",an="_version3_block_top_arrow_active_1cgvq_183",cn="_version3_block_dropdown_1cgvq_186",ln="_version3_block_dropdown_item_1cgvq_197",_n="_version3_block_dropdown_open_1cgvq_213",dn="_version3_block_onOff_1cgvq_237",pn="_version3_block_delivery_1cgvq_237",un="_versionExtraOptions_1cgvq_243",mn="_versionExtraOptions_title_1cgvq_248",hn="_versionExtraOptions_block_1cgvq_254",bn="_versionExtraOptions_block_top_1cgvq_259",gn="_versionExtraOptions_block_top_title_1cgvq_270",vn="_versionExtraOptions_block_top_arrow_1cgvq_275",xn="_versionExtraOptions_block_top_arrow_active_1cgvq_285",fn="_versionExtraOptions_block_dropdown_1cgvq_288",yn="_versionExtraOptions_block_dropdown_item_1cgvq_299",kn="_versionExtraOptions_block_dropdown_open_1cgvq_316",jn="_versionExtraOptions_block_onOff_1cgvq_340",wn="_versionExtraOptions_block_delivery_1cgvq_340",L={versions:Po,versions_block:Ao,versions_block_top:Wo,versions_block_top_title:Eo,versions_block_top_arrow:Uo,versions_block_top_arrow_active:Bo,versions_block_dropdown:Lo,versions_block_dropdown_item:zo,versions_block_dropdown_open:Fo,versions_block_onOff:Mo,versions_block_delivery:To,versions2:Ro,versions2_block:qo,versions2_block_top:Vo,versions2_block_top_title:Ho,versions2_block_top_arrow:Xo,versions2_block_top_arrow_active:Zo,versions2_block_dropdown:Go,versions2_block_dropdown_item:Jo,versions2_block_dropdown_open:Yo,versions2_block_onOff:Qo,versions2_block_delivery:Ko,version3:en,version3_title:tn,version3_block:sn,version3_block_top:on,version3_block_top_title:nn,version3_block_top_arrow:rn,version3_block_top_arrow_active:an,version3_block_dropdown:cn,version3_block_dropdown_item:ln,version3_block_dropdown_open:_n,version3_block_onOff:dn,version3_block_delivery:pn,versionExtraOptions:un,versionExtraOptions_title:mn,versionExtraOptions_block:hn,versionExtraOptions_block_top:bn,versionExtraOptions_block_top_title:gn,versionExtraOptions_block_top_arrow:vn,versionExtraOptions_block_top_arrow_active:xn,versionExtraOptions_block_dropdown:fn,versionExtraOptions_block_dropdown_item:yn,versionExtraOptions_block_dropdown_open:kn,versionExtraOptions_block_onOff:jn,versionExtraOptions_block_delivery:wn};function Ze({color:n="black",title:t="",versionList:s=[{id:"1",title:"версия 1",isActive:!0,navIcon:""},{id:"2",title:"версия 2",isActive:!1,navIcon:""},{id:"3",title:"версия 3",isActive:!1,navIcon:""}],className:r,openBlock:o,currentVersion:a,setOpenBlock:d,setCurrentVersion:l,setVersionList:c}){const i=p=>{l(p.title);const m=s.map(x=>({id:x.id,title:x.title,isActive:!1})),h=m.find(x=>x.id==p.id),b=m.findIndex(x=>x.id==p.id);h&&(h.isActive=!0,m.splice(b,1,h),c(m))};return e.jsxs("div",{className:r??L.versions,children:[e.jsx("span",{children:t}),e.jsxs("div",{className:L.versions_block,children:[e.jsxs("div",{className:L.versions_block_top,children:[e.jsx("h2",{className:L.versions_block_top_title,style:{color:n},children:a}),e.jsx("button",{className:L.versions_block_top_btn,onClick:()=>d(!o),children:e.jsx("div",{className:`${L.versions_block_top_arrow} ${o?L.versions_block_top_arrow_active:""}`,children:e.jsx(M,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${L.versions_block_dropdown} ${o?L.versions_block_dropdown_open:""}`,children:s.map(p=>e.jsx("span",{className:L.versions_block_dropdown_item,onClick:()=>i(p),children:p.title},p.id))})]})]})}function Cn(){const{modulesCashRegisterStatus:n,deliveryStatus:t,cashRegisterVersionList:s,cashRegisterCurrentVersion:r,openBlockCashRegister:o,openBlockCashRegisterVersion:a,openBlockCart:d,cartVersionList:l,modulesCartStatus:c,cartCurrentVersion:i,openBlockCartVersion:p,setCartVersionList:m,setCartCurrentVersion:h,setModulesCartStatus:b,setOpenBlockCart:x,setOpenBlockCartVersion:O,setDeliveryStatus:z,setOpenBlockCashRegister:T,setCashRegisterVersionList:U,setModulesCashRegisterStatus:j,setCashRegisterCurrentVersion:k,setOpenBlockCashRegisterVersion:D}=ae(),y=()=>{x(!d)},g=()=>{T(!o)};return e.jsxs("div",{className:_.wrapperModules,children:[e.jsxs("div",{className:_.item,children:[e.jsxs("div",{className:_.item_top,onClick:()=>y(),children:[e.jsx("h2",{className:_.item_top_title,children:"Корзина"}),e.jsx("button",{className:_.item_top_btn,onClick:()=>y(),children:e.jsx("div",{className:`${_.item_top_arrow} ${d?_.item_top_arrow_active:""}`,children:e.jsx(M,{name:"ChevronDownIcon",width:15})})})]}),e.jsxs("div",{className:`${_.item_block} ${d?_.item_block_open:""}`,children:[e.jsxs("div",{className:_.item_onOff,children:[e.jsx("span",{children:"Выкл / Вкл"}),e.jsx("div",{className:_.item_shell,onClick:()=>b(!c),children:e.jsx(be,{status:c,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]}),e.jsx(Ze,{color:"rgb(137, 250, 135)",openBlock:p,setOpenBlock:O,title:"Выберите версию",versionList:l,currentVersion:i,setCurrentVersion:h,setVersionList:m}),e.jsxs("div",{className:_.item_delivery,children:[e.jsx("span",{children:"Доставка"}),e.jsx("div",{className:_.item_shell,onClick:()=>z(!t),children:e.jsx(be,{status:t,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]})]})]}),e.jsxs("div",{className:_.item,children:[e.jsxs("div",{className:_.item_top,onClick:()=>g(),children:[e.jsx("h2",{className:_.item_top_title,children:"Кacca"}),e.jsx("button",{className:_.item_top_btn,onClick:()=>g(),children:e.jsx("div",{className:`${_.item_top_arrow} ${o?_.item_top_arrow_active:""}`,children:e.jsx(M,{name:"ChevronDownIcon",width:15})})})]}),e.jsxs("div",{className:`${_.item_block} ${o?_.item_block_open:""}`,children:[e.jsxs("div",{className:_.item_onOff,children:[e.jsx("span",{children:"Выкл / Вкл"}),e.jsx("div",{className:_.item_shell,onClick:()=>j(!n),children:e.jsx(be,{status:n,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]}),e.jsx(Ze,{color:"rgb(137, 250, 135)",openBlock:a,setOpenBlock:D,title:"Выберите версию",versionList:s,currentVersion:r,setCurrentVersion:k,setVersionList:U})]})]})]})}function Nn(){const{templates:n,setTemplates:t}=ae(),[s,r]=u.useState([...n]);u.useEffect(()=>{r([...n])},[n]);const o=l=>{const c=s.map(i=>i.id===l?{...i,open:!i.open}:i);r(c)},a=(l,c)=>{const i=s.map(p=>p.id===l?{...p,isActive:!0,templateThemes:p.templateThemes.map(m=>m.id===c?{...m,isActive:!0}:{...m,isActive:!1})}:{...p,isActive:!1,templateThemes:p.templateThemes.map(m=>({...m,isActive:!1}))});r(i)};function d(){t(s)}return e.jsxs("div",{className:_.wrapperModules,children:[s.map(l=>e.jsxs("div",{className:_.item,children:[e.jsxs("div",{className:_.item_top,onClick:()=>o(l.id),children:[e.jsx("h2",{className:_.item_top_title,children:l.title}),e.jsx("button",{className:_.item_top_btn,onClick:()=>o(l.id),children:e.jsx("div",{className:`${_.item_top_arrow} ${l.open?_.item_top_arrow_active:""}`,children:e.jsx(M,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${_.item_block} ${l.open?_.item_block_open:""}`,children:l.templateThemes.map(c=>e.jsxs("div",{className:_.item_onOff,children:[e.jsx("span",{children:c.title}),e.jsx("div",{className:_.item_shell,onClick:()=>a(l.id,c.id),children:e.jsx(be,{status:c.isActive,backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgba(193, 193, 193, 1)"})})]},c.id))})]},l.id)),e.jsxs("div",{className:_.settings_content_buttons,children:[e.jsx("button",{className:`${_.settings_content_btn} ${_.settings_content_btn_cancel}`,children:"Отмена"}),e.jsx("button",{className:`${_.settings_content_btn} ${_.settings_content_btn_save}`,onClick:()=>d(),children:"Сохранить"})]})]})}function In({title:n,setOpenModal:t}){const{currentCategory:s}=ae(),[r,o]=u.useState(""),{selectedSuperCategory:a,selectedCategory:d}=Ae();u.useEffect(()=>{s=="Котегории"&&a&&l(a),s=="Подкотегории"&&d&&l(d)},[s,a,d]);const l=async i=>{try{const m=await(await Te.get(`https://api.mcrm.uz/api/categories/${i}`)).data;o(m.name.ru)}catch(p){console.error("Ошибка произошла при получении названия варианта категории",p)}},c=()=>{t&&t(!0)};return e.jsxs("div",{className:_.editBlock,onClick:c,children:[r||n,e.jsx(M,{name:"PencilIcon"})]})}const Sn="_modalCategory_xzv82_1",$n="_modalCategory_block_xzv82_10",Dn="_modalCategory_nav_xzv82_16",On="_modalCategory_nav_title_xzv82_23",Pn="_modalCategory_content_xzv82_29",An="_modalCategory_content_message_xzv82_36",Wn="_modalCategory_content_link_xzv82_44",En="_modalCategory_content_link_active_xzv82_72",Un="_modalCategory_content_item_xzv82_82",Bn="_modalCategory_content_block_xzv82_104",Ln="_modalCategory_content_block_title_xzv82_108",zn="_settings_xzv82_115",Fn="_settings_title_xzv82_118",Mn="_settings_content_xzv82_123",Tn="_settings_content_top_xzv82_126",Rn="_settings_content_buttons_xzv82_129",qn="_settings_content_btn_xzv82_139",Vn="_settings_content_btn_cancel_xzv82_151",Hn="_settings_content_btn_save_xzv82_154",Xn="_settings_tools_xzv82_157",Zn="_settings_tools_link_xzv82_162",Gn="_settings_tools_link_active_xzv82_177",G={modalCategory:Sn,modalCategory_block:$n,modalCategory_nav:Dn,modalCategory_nav_title:On,modalCategory_content:Pn,modalCategory_content_message:An,modalCategory_content_link:Wn,modalCategory_content_link_active:En,modalCategory_content_item:Un,modalCategory_content_block:Bn,modalCategory_content_block_title:Ln,settings:zn,settings_title:Fn,settings_content:Mn,settings_content_top:Tn,settings_content_buttons:Rn,settings_content_btn:qn,settings_content_btn_cancel:Vn,settings_content_btn_save:Hn,settings_tools:Xn,settings_tools_link:Zn,settings_tools_link_active:Gn};function Jn({setCancel:n}){return e.jsxs("div",{className:G.modalCategory_nav,children:[e.jsx("h2",{className:G.modalCategory_nav_title,children:"Котегория"}),e.jsx("button",{className:G.modalCategory_nav_close,onClick:n,children:e.jsx(M,{width:24,height:24,name:"XMarkIcon"})})]})}function Yn({superCategory:n,category:t,setMessageStatus:s,fetchCategories:r}){const{currentCategory:o}=ae(),{selectedSuperCategory:a,setSelectedSuperCategory:d}=Ae(),{setCurrentCategory:l}=pe(),[c,i]=u.useState(10),p=(h,b)=>{if(h.preventDefault(),o==="Подкотегории"){r("category",1,10,b.id);const x=t.filter(O=>O.parentId==b.id);l(x),d(b.id),s(!1)}d(b.id)},m=h=>{h.preventDefault();const b=c+10;i(b),r("super",1,b)};return e.jsxs("div",{className:G.modalCategory_content_block,children:[e.jsx("h2",{className:G.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:G.modalCategory_content_item,children:[n.map(h=>e.jsxs(Z,{to:"#",className:`${G.modalCategory_content_link} ${h.id==a?G.modalCategory_content_link_active:""} `,onClick:b=>p(b,h),children:[h.name.ru,e.jsx(M,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},h.id)),e.jsx(Z,{to:"#",className:G.modalCategory_content_link,onClick:h=>m(h),children:"Ещё..."})]})]})}function Qn({categoryId:n,category:t,setCategoryId:s,setSubCategory:r,fetchCategories:o}){const{selectedSuperCategory:a}=Ae(),[d,l]=u.useState(10),c=p=>{p.preventDefault();const m=d+10;l(m),o("category",1,m,a)},i=(p,m)=>{r(p,m),s(m.id)};return t.length>0&&e.jsxs("div",{className:G.modalCategory_content_block,children:[e.jsx("h2",{className:G.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:G.modalCategory_content_item,children:[t==null?void 0:t.map(p=>e.jsxs(Z,{to:"#",className:`${G.modalCategory_content_link} ${p.id==n?G.modalCategory_content_link_active:""} `,onClick:m=>i(m,p),children:[p.name.ru,e.jsx(M,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},p.id)),e.jsx(Z,{to:"#",className:G.modalCategory_content_link,onClick:p=>c(p),children:"Ещё..."})]})]})}function Kn({setSettings:n,setCancel:t}){return e.jsxs("div",{className:G.settings_content_buttons,children:[e.jsx("button",{className:`${G.settings_content_btn} ${G.settings_content_btn_cancel}`,onClick:t,children:"Отмена"}),e.jsx(Z,{to:"#",className:`${G.settings_content_btn} ${G.settings_content_btn_save}`,onClick:n,children:"Сохранить"})]})}function er({setOpenModal:n}){const{currentCategory:t}=ae(),{selectedSuperCategory:s,setSelectedSuperCategory:r,selectedCategory:o,setSelectedCategory:a}=Ae(),[d,l]=u.useState(0),[c,i]=u.useState(!1),[p,m]=u.useState("Выберите категорию"),[h,b]=u.useState([]),[x,O]=u.useState([]);u.useEffect(()=>{j("super",1,10),o&&l(o)},[]);const z=(D,y)=>{D.preventDefault(),j("subCategory",1,10,y.id),i(!1)},T=()=>{t=="Котегории"?r(s):t=="Подкотегории"&&a(d),U()},U=()=>{i(!1),m("Выберите категорию"),n(!1)},j=async(D,y,g,P)=>{try{const C=D=="super"?`https://api.mcrm.uz/api/categories?&page=${y}&perPage=${g}`:`https://api.mcrm.uz/api/categories?parentId=${P}&page=${y}&perPage=${g}`,A=(await Te.get(C)).data.data.map(F=>({...F,label:D==="super"?"Супер категория":D==="category"?"Категория":"Субкатегория"}));D==="super"&&b([...A]),D==="category"&&O([...A])}catch(C){console.error(`Ошибка произошла при получении ${D} категорий`,C)}},k=()=>{n(!1)};return e.jsx("div",{className:G.modalCategory,onClick:k,children:e.jsxs("div",{className:G.modalCategory_block,onClick:D=>D.stopPropagation(),children:[e.jsx(Jn,{setCancel:U}),e.jsx("p",{className:G.modalCategory_content_message,children:c?p:""}),e.jsxs("div",{className:G.modalCategory_content,children:[e.jsx(Yn,{superCategory:h,category:x,setMessageStatus:i,fetchCategories:j}),t==="Подкотегории"&&e.jsx(Qn,{categoryId:d,category:x,setCategoryId:l,setSubCategory:z,fetchCategories:j}),e.jsx(Kn,{setSettings:T,setCancel:U})]})]})})}function tr(){const[n,t]=u.useState(!1),[s,r]=u.useState(!1),{currentCategory:o,categoriesStatus:a,categories:d,setCategoriesStatus:l,setCurrentCategory:c}=ae();u.useEffect(()=>{t(o==="Котегории"||o==="Подкотегории")},[o]);const i=p=>{c(p.title),p.title==="Котегории"||p.title==="Подкотегории"?t(!0):t(!1)};return e.jsxs("div",{className:_.categoriesDropDown,children:[e.jsx("h2",{className:_.categoriesDropDown_title,children:"Настройки каталога"}),s&&e.jsx(er,{setOpenModal:r}),e.jsxs("div",{className:_.categoriesDropDown_item,children:[e.jsxs("div",{className:_.categoriesDropDown_item_top,onClick:()=>l(!a),children:[e.jsx("h2",{className:_.categoriesDropDown_item_top_title,children:o}),e.jsx("button",{className:_.categoriesDropDown_item_top_btn,onClick:()=>l(!a),children:e.jsx("div",{className:`${_.categoriesDropDown_item_top_arrow} ${a?_.categoriesDropDown_item_top_arrow_active:""}`,children:e.jsx(M,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${_.categoriesDropDown_item_block} ${a?_.categoriesDropDown_item_block_open:""}`,children:d.map(p=>e.jsx("div",{className:`${_.categoriesDropDown_item_block_line} ${p.title==o?_.categoriesDropDown_item_block_active:""}`,onClick:()=>i(p),children:p.title},p.id))})]}),n&&e.jsx(In,{title:"Выберите вариант",setOpenModal:r})]})}const sr="_banner_1eodh_1",or="_banner_title_1eodh_5",nr="_products_banner_1eodh_10",rr="_products_banner_wrap_1eodh_13",ar="_products_banner_wrap_btn_1eodh_19",ir="_products_banner_wrap_filter_1eodh_30",cr="_products_banner_wrap_filter_text_1eodh_40",lr="_products_banner_form_1eodh_48",_r="_products_banner_form_wrap_1eodh_53",dr="_products_banner_form_wrap_btn_1eodh_59",pr="_products_banner_form_wrap_input_1eodh_75",ur="_products_banner_form_wrap_icon_1eodh_83",mr="_table_1eodh_87",hr="_table_tbody_1eodh_92",br="_table_tbody_tr_1eodh_97",gr="_table_tbody_tr_active_1eodh_100",vr="_table_tbody_img_1eodh_103",xr="_table_tr_1eodh_108",fr="_table_th_1eodh_111",yr="_table_td_1eodh_122",kr="_table_td_edit_1eodh_130",jr="_table_btn_1eodh_136",wr="_versions_1eodh_144",Cr="_versions_block_1eodh_149",Nr="_versions_block_top_1eodh_154",Ir="_versions_block_top_title_1eodh_164",Sr="_versions_block_top_arrow_1eodh_168",$r="_versions_block_top_arrow_active_1eodh_177",Dr="_versions_block_dropdown_1eodh_180",Or="_versions_block_dropdown_item_1eodh_195",Pr="_versions_block_dropdown_open_1eodh_206",Ar="_add_banner_1eodh_213",Wr="_add_banner_header_1eodh_221",Er="_add_banner_header_title_1eodh_225",Ur="_add_banner_content_1eodh_229",Br="_add_banner_content_product_1eodh_232",Lr="_add_banner_content_link_1eodh_254",zr="_add_banner_content_info_1eodh_262",Fr="_add_banner_content_info_text_1eodh_266",Mr="_add_banner_content_download_1eodh_272",Tr="_add_banner_content_download_link_1eodh_281",Rr="_add_banner_content_btns_1eodh_293",qr="_add_banner_content_btn_1eodh_293",Vr="_category_wrap_1eodh_311",Hr="_modalCategory_1eodh_315",Xr="_modalCategory_block_1eodh_323",Zr="_modalCategory_nav_1eodh_328",Gr="_modalCategory_nav_title_1eodh_335",Jr="_modalCategory_content_1eodh_341",Yr="_modalCategory_content_message_1eodh_348",Qr="_modalCategory_content_link_1eodh_356",Kr="_modalCategory_content_link_active_1eodh_384",ea="_modalCategory_content_item_1eodh_394",ta="_modalCategory_content_block_1eodh_416",sa="_modalCategory_content_block_title_1eodh_420",oa="_add_link_1eodh_427",na="_add_link_title_1eodh_430",ra="_add_link_input_1eodh_434",aa="_modal_btn_1eodh_443",f={banner:sr,banner_title:or,products_banner:nr,products_banner_wrap:rr,products_banner_wrap_btn:ar,products_banner_wrap_filter:ir,products_banner_wrap_filter_text:cr,products_banner_form:lr,products_banner_form_wrap:_r,products_banner_form_wrap_btn:dr,products_banner_form_wrap_input:pr,products_banner_form_wrap_icon:ur,table:mr,table_tbody:hr,table_tbody_tr:br,table_tbody_tr_active:gr,table_tbody_img:vr,table_tr:xr,table_th:fr,table_td:yr,table_td_edit:kr,table_btn:jr,versions:wr,versions_block:Cr,versions_block_top:Nr,versions_block_top_title:Ir,versions_block_top_arrow:Sr,versions_block_top_arrow_active:$r,versions_block_dropdown:Dr,versions_block_dropdown_item:Or,versions_block_dropdown_open:Pr,add_banner:Ar,add_banner_header:Wr,add_banner_header_title:Er,add_banner_content:Ur,add_banner_content_product:Br,add_banner_content_link:Lr,add_banner_content_info:zr,add_banner_content_info_text:Fr,add_banner_content_download:Mr,add_banner_content_download_link:Tr,add_banner_content_btns:Rr,add_banner_content_btn:qr,category_wrap:Vr,modalCategory:Hr,modalCategory_block:Xr,modalCategory_nav:Zr,modalCategory_nav_title:Gr,modalCategory_content:Jr,modalCategory_content_message:Yr,modalCategory_content_link:Qr,modalCategory_content_link_active:Kr,modalCategory_content_item:ea,modalCategory_content_block:ta,modalCategory_content_block_title:sa,add_link:oa,add_link_title:na,add_link_input:ra,modal_btn:aa};function it({color:n="black",title:t="",versionList:s=[],className:r,openBlock:o,setOpenBlock:a,setVersionList:d}){const[l,c]=u.useState(s[0].title),{setChangeCategoryStyles:i}=oe(),p=m=>{const h=s.map(b=>({...b,isOpen:b.id===m.id}));m.title=="Категория"&&i(!0),c(m.title),d(h),a(!1)};return e.jsxs("div",{className:r??f.versions,children:[e.jsx("span",{children:t}),e.jsxs("div",{className:f.versions_block,children:[e.jsxs("div",{className:f.versions_block_top,children:[e.jsx("h2",{className:f.versions_block_top_title,style:{color:n},children:l}),e.jsx("button",{className:f.versions_block_top_btn,onClick:()=>a(!o),children:e.jsx("div",{className:`${f.versions_block_top_arrow} ${o?f.versions_block_top_arrow_active:""}`,children:e.jsx(M,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${f.versions_block_dropdown} ${o?f.versions_block_dropdown_open:""}`,children:s.map(m=>e.jsx("span",{className:f.versions_block_dropdown_item,onClick:()=>p(m),children:m.title},m.id))})]})]})}function Fe({width:n=78,color:t="white",backgroundOn:s="rgba(137, 250, 135, 1)",backgroundOff:r="rgba(193, 193, 193, 1)",speed:o=500,scale:a=1.1,status:d=!1,disabled:l=!1}){const c={width:`${n}px`,height:`${n/2-n/20}px`,background:d?s:r,borderRadius:`${n/2}px`,display:"flex",alignItems:"center",transition:`${o}ms`,cursor:"pointer",opacity:l?1:.3},i={background:`${t}`,height:`${n/2-n/20}px`,width:`${n/2-n/20}px`,border:`${n/25}px solid ${d?s:r}`,borderRadius:"50%",transition:`${o}ms`,transform:`scale(${a}) translateX(${d?"110%":"0"})`};return e.jsx("div",{style:c,children:e.jsx("div",{style:i})})}const Ce=({arr:n=[{id:"1",title:"Заголовок"},{id:"2",title:"Цена"},{id:"3",title:"Кол-во"},{id:"4",title:""}],arrToUse:t,selectionMode:s,isActive:r=!1,isEdit:o=!1,isCategory:a,isLinks:d,setPickedProduct:l,setPickedProductActive:c})=>{const{bannersArr:i,selectedProductEdit:p,imageUrlEditBanner:m,bannersArrProduct:h,bannersArrLink:b,setBannersArrLink:x,setSelectedProductEdit:O,setImageUrlEditBanner:z,setCurrentProductOpen:T,clearPickedProductsArr:U,setBannersArrProduct:j,setBannersArr:k,setBannersArrCategory:D}=oe(),[y,g]=u.useState(null);u.useState(new Set);const P=v=>i.some(B=>B.brandName===v&&B.isBannerActive),C=(v,B)=>{if(s==="mxikCode"&&(l==null||l(v)),o&&B){const w={productId:ee(),bannerUrl:m,brandName:B.brandName,isProductBanner:!0,isBannerActive:!0,toggleSwitcher:!0};w.brandName!=null&&!P(w.brandName)?(j(h.map(S=>S.productId===p?w:S)),k(i.map(S=>S.productId===p?w:S)),T(!1)):console.warn("Объект с таким brandName уже существует.")}console.log(123),g(v)},N=(v,B)=>{s==="productId"&&(c==null||c(v),C==null||C(v),g(v),U(),B.productId&&O(B.productId),B.bannerUrl&&z(B.bannerUrl))},A=(v,B,w)=>{if(v.stopPropagation(),w.isBannerActive)r&&(j(t.map(S=>S.productId===B?{...S,toggleSwitcher:!S.toggleSwitcher}:S)),k(i.map(S=>S.productId===B?{...S,toggleSwitcher:!S.toggleSwitcher}:S))),a&&(D(t.map(S=>S.productId===B?{...S,toggleSwitcher:!S.toggleSwitcher}:S)),k(i.map(S=>S.productId===B?{...S,toggleSwitcher:!S.toggleSwitcher}:S))),d&&(x(t.map(S=>S.productId===B?{...S,toggleSwitcher:!S.toggleSwitcher}:S)),k(i.map(S=>S.productId===B?{...S,toggleSwitcher:!S.toggleSwitcher}:S)));else return},F=v=>v.productId!==void 0,W=(v,B)=>{v.stopPropagation(),j(t.map(w=>w.productId===B.productId?{...w,isBannerActive:!1,brandName:"-"}:w)),k(i.map(w=>w.productId===B.productId?{...w,isBannerActive:!1,brandName:"-"}:w)),console.log("item",B),console.log("productId",B.productId)};return e.jsxs("table",{className:f.table,children:[e.jsx("thead",{className:f.table_thead,children:e.jsx("tr",{className:f.table_tr,children:n.map(v=>e.jsx("th",{className:f.table_th,children:v.title},v.id))})}),e.jsx("tbody",{className:f.table_tbody,children:t==null?void 0:t.map(v=>e.jsxs("tr",{className:`${f.table_tbody_tr} ${!o&&y==(s==="mxikCode"?v.mxikCode:v.productId)?f.table_tbody_tr_active:""}`,style:{cursor:r||a||d?"pointer":"default"},onClick:()=>N(v.productId,v),children:[e.jsxs("td",{className:f.table_td,children:[s==="mxikCode"&&v.brandName,r&&e.jsx("img",{className:f.table_tbody_img,src:v.bannerUrl??"",alt:"Banner"}),a&&e.jsx("img",{className:f.table_tbody_img,src:v.bannerUrl??"",alt:"Banner"}),d&&e.jsx("img",{className:f.table_tbody_img,src:v.bannerUrl??"",alt:"Banner"})]}),e.jsxs("td",{className:f.table_td,children:[a?v.categoryTitle:"",r?v.brandName:v.crmSellingPrice,d&&v.brandName]}),e.jsx("td",{className:f.table_td,children:r?"":v.crmAmount}),e.jsx("td",{className:f.table_td,children:a?e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:B=>{const w=v;w.productId&&A(B,w.productId,v)},children:e.jsx(Fe,{width:62,status:F(v)&&v.toggleSwitcher&&v.isBannerActive,disabled:F(v)&&v.isBannerActive})}):r?e.jsxs("div",{className:f.table_td_edit,children:[v.brandName!=="-"&&e.jsx("button",{className:f.table_btn,style:{width:"156px",background:"#FFB5B5"},onClick:B=>W(B,v),children:"Открепить продукт"}),e.jsx("div",{onClick:B=>{const w=v;w.productId&&A(B,w.productId,v)},children:e.jsx(Fe,{width:62,status:F(v)&&v.toggleSwitcher&&v.isBannerActive,disabled:F(v)&&v.isBannerActive})})]}):d?e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:B=>{const w=v;w.productId&&A(B,w.productId,v)},children:e.jsx(Fe,{width:62,status:F(v)&&v.toggleSwitcher&&v.isBannerActive,disabled:F(v)&&v.isBannerActive})}):e.jsx("button",{className:f.table_btn,onClick:()=>C(v.mxikCode,v),children:o?"Заменить":"Выбрать"})})]},F(v)?v.productId:v.mxikCode))})]})};function ia({setCancel:n}){return e.jsxs("div",{className:V.modalCategory_nav,children:[e.jsx("h2",{className:V.modalCategory_nav_title,children:"Котегория"}),e.jsx("button",{className:V.modalCategory_nav_close,onClick:n,children:e.jsx(M,{width:24,height:24,name:"XMarkIcon"})})]})}function ca({superCategory:n,category:t,superId:s,setLocalPicked:r,setSuperId:o,setMessageStatus:a,setSubCategories:d,fetchCategories:l,setSuperCategoryObj:c}){const{changeCategoryStyles:i,categoriesArr:p,setCategoriesArr:m,setActiveCategory:h,setActiveCategoryTitle:b}=oe(),{setCurrentCategory:x}=pe(),[O,z]=u.useState(10),T=(j,k)=>{j.preventDefault(),l("category",1,10,k.id),d([]);const D=t.filter(y=>y.parentId==k.id);if(x(D),r(k),o(k.id),a(!1),i&&k.label&&(h(k.label),b(k.name.ru)),i){const y=p.filter(g=>g.label!==k.label);y.push(k),m(y)}c==null||c(k),console.log("super",k)},U=()=>{const j=O+10;z(j),l("super",1,j),console.log("addPage",j)};return e.jsxs("div",{className:V.modalCategory_content_block,children:[e.jsx("h2",{className:V.modalCategory_content_block_title,children:"Суперкотегория"}),e.jsxs("div",{className:V.modalCategory_content_item,children:[n.map(j=>e.jsxs(Z,{to:"#",className:`${V.modalCategory_content_link} ${j.id==s?V.modalCategory_content_link_active:""} `,onClick:k=>T(k,j),children:[j.name.ru,e.jsx(M,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},j.id)),e.jsx(Z,{to:"#",className:V.modalCategory_content_link,onClick:()=>U(),children:"Ещё..."})]})]})}function la({superId:n,categoryId:t,category:s,setSubCategory:r,fetchCategories:o}){const[a,d]=u.useState(10),l=()=>{const i=a+10;d(i),o("category",1,i,n),console.log("addPage",i,n)},c=(i,p)=>{r(i,p)};return s.length>0&&e.jsxs("div",{className:V.modalCategory_content_block,children:[e.jsx("h2",{className:V.modalCategory_content_block_title,children:"Котегория"}),e.jsxs("div",{className:V.modalCategory_content_item,children:[s==null?void 0:s.map(i=>e.jsxs(Z,{to:"#",className:`${V.modalCategory_content_link} ${i.id==t?V.modalCategory_content_link_active:""} `,onClick:p=>c(p,i),children:[i.name.ru,e.jsx(M,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},i.id)),e.jsx(Z,{to:"#",className:V.modalCategory_content_link,onClick:()=>l(),children:"Ещё..."})]})]})}function _a({subId:n,categoryId:t,subCategories:s,setSubProductsList:r,fetchCategories:o}){const[a,d]=u.useState(10),l=()=>{const c=a+10;d(c),o("subCategory",1,c,t),console.log("addPage",c)};return s.length>0&&e.jsxs("div",{className:V.modalCategory_content_block,children:[e.jsx("h2",{className:V.modalCategory_content_block_title,children:"Подкотегория"}),e.jsxs("div",{className:V.modalCategory_content_item,children:[s==null?void 0:s.map(c=>e.jsxs(Z,{to:"#",className:`${V.modalCategory_content_link} ${c.id==n?V.modalCategory_content_link_active:""} `,onClick:i=>r(i,c),children:[c.name.ru,e.jsx(M,{name:"ChevronRightIcon",width:17,height:17,color:"rgba(113, 113, 113, 1)"})]},c.id)),e.jsx(Z,{to:"#",className:V.modalCategory_content_link,onClick:()=>l(),children:"Ещё..."})]})]})}function da({setSettings:n,setCancel:t}){return e.jsxs("div",{className:V.settings_content_buttons,children:[e.jsx("button",{className:`${V.settings_content_btn} ${V.settings_content_btn_cancel}`,onClick:t,children:"Отмена"}),e.jsx("button",{className:`${V.settings_content_btn} ${V.settings_content_btn_save}`,onClick:n,children:"Сохранить"})]})}function We({isCategory:n=!1}){const{setOpenModalCategory:t,setPickedCategory:s,setCurrentCategory:r,setCurrentSubCategory:o}=pe(),{changeCategoryStyles:a,categoriesArr:d,setCategoriesArr:l,setPickedProducts:c,setActiveCategory:i,setActiveCategoryTitle:p,setOpenModalCategoryBanner:m}=oe(),h=a?f:V,{websiteProducts:b}=ve(),[x,O]=u.useState(0),[z,T]=u.useState(0),[U,j]=u.useState(0),[k,D]=u.useState({}),[y,g]=u.useState(!1),[P,C]=u.useState("Выберите категорию"),[N,A]=u.useState([]),[F,W]=u.useState([]),[v,B]=u.useState([]),[w,S]=u.useState(null),[he,Ue]=u.useState(null),[Ne,Be]=u.useState(null);u.useEffect(()=>{ne("super",1,10)},[]);const Le=(J,q)=>{J.preventDefault(),ne("subCategory",1,10,q.id);const le=v.filter(_e=>_e.parentId==q.id);if(o(le),D(q),T(q.id),g(!1),a&&q.label&&(i(q.label),p(q.name.ru)),a){const _e=d.filter(ue=>ue.label!==q.label);_e.push(q),l(_e)}Ue(q),console.log("category",q.id)},R=(J,q)=>{if(J.preventDefault(),D(q),j(q.id),g(!1),a&&q.label&&(i(q.label),p(q.name.ru)),a){const le=d.filter(_e=>_e.name.ru!==q.name.ru);le.push(q),console.log("newCategories",le),l(le)}Be(q),console.log("item",q)},te=()=>{if(Object.keys(k).length===0){g(!0),C("Выберите Суперкотегорию");return}if(F.length>0&&z===0){g(!0),C("Выберите Категорию");return}if(v.length>0&&U===0){g(!0),C("Выберите Подкотегорию");return}if(k){const q=k.id,le=b.filter(_e=>{var ue;return((ue=_e.crmCategoryParentId)==null?void 0:ue.id)==q});c(le)}const J=[];w&&J.push(w),he&&J.push(he),Ne&&J.push(Ne),l(J),ie()},ie=()=>{s(k),t(!1),O(0),T(0),j(0),D({}),r([]),o([]),g(!1),C("Выберите категорию"),m(!1)},ne=async(J,q,le,_e)=>{try{const ue=J=="super"?`https://api.mcrm.uz/api/categories?&page=${q}&perPage=${le}`:`https://api.mcrm.uz/api/categories?parentId=${_e}&page=${q}&perPage=${le}`,ze=(await Te.get(ue)).data.data.map(yt=>({...yt,label:J==="super"?"Супер категория":J==="category"?"Категория":"Субкатегория"}));J==="super"&&A([...ze]),J==="category"&&W([...ze]),J==="subCategory"&&B([...ze])}catch(ue){console.error(`Ошибка произошла при получении ${J} категорий`,ue)}};return e.jsx("div",{className:h.modalCategory,children:e.jsxs("div",{className:h.modalCategory_block,children:[!a&&e.jsx(ia,{setCancel:ie}),e.jsx("p",{className:h.modalCategory_content_message,children:y?P:""}),e.jsxs("div",{className:h.modalCategory_content,children:[e.jsx(ca,{superId:x,superCategory:N,category:F,setLocalPicked:D,setSuperId:O,setMessageStatus:g,fetchCategories:ne,setSubCategories:B,setSuperCategoryObj:S}),e.jsx(la,{superId:x,categoryId:z,category:F,setSubCategory:Le,fetchCategories:ne}),e.jsx(_a,{subId:U,categoryId:z,subCategories:v,setSubProductsList:R,fetchCategories:ne}),!n&&e.jsx(da,{setSettings:te,setCancel:ie})]})]})})}const ye=({title:n,currentProductEdit:t,isEdit:s,isCategory:r,isLinks:o,linkTextEdit:a,deleteBanner:d})=>{const{currentProductTable:l,changeCategoryStyles:c,categoriesArr:i,bannersArr:p,linksPageBannerText:m,openLinksPage:h,openProductsPage:b,activeCategory:x,activeCategoryTitle:O,bannersArrProduct:z,bannersArrCategory:T,bannersArrLink:U,setBannersArrLink:j,setCurrentProductOpen:k,clearCategoriesArr:D,addBannerToArr:y,setLinksPageBannerText:g,setBannersArrProduct:P,setBannersArr:C,setBannersArrCategory:N}=oe(),A=l,[F,W]=u.useState(null),[v,B]=u.useState(null),[w,S]=u.useState(""),he=R=>{if(R.target.files&&R.target.files[0]){const te=R.target.files[0];B(te);const ie=new FileReader;ie.onloadend=()=>{const ne=ie.result;W(ne)},ie.readAsDataURL(te)}},Ue=()=>{document.getElementById("upload").click()},Ne=()=>{if(!v)return;const R=()=>{switch(x){case"Супер категория":return"superCategory";case"Категория":return"bannerCategory";case"Субкатегория":return"subCategory";default:return""}};if(v&&A&&b){const te={productId:ee(),bannerUrl:F||"",brandName:A.brandName,isProductBanner:!0,isBannerActive:!0,toggleSwitcher:!0};p.some(J=>J.brandName===te.brandName)||y(te),k(!1),W(null),B(null);const ne=document.getElementById("upload");ne&&(ne.value="")}if(c&&h==!1){const te=R(),ie={productId:ee(),bannerUrl:F||"",categoryLabel:te,categoryTitle:O,isCategoryBanner:!0,isBannerActive:!0,toggleSwitcher:!0};p.some(q=>q.categoryTitle===ie.categoryTitle)||y(ie),W(null),B(null);const J=document.getElementById("upload");J&&(J.value="")}if(h&&m){const te={productId:ee(),bannerUrl:F||"",brandName:m,isLinkBanner:!0,isBannerActive:!0,toggleSwitcher:!0};p.some(J=>J.brandName===te.brandName)||(y(te),console.log("bannersArr",p)),W(null),B(null),g("");const ne=document.getElementById("upload");ne&&(ne.value="")}},Be=()=>{F===null?s&&(r&&(S((()=>{switch(x){case"Супер категория":return"superCategory";case"Категория":return"bannerCategory";case"Субкатегория":return"subCategory";default:return""}})()),N(T.map(te=>te.productId===(l==null?void 0:l.productId)?{...te,categoryTitle:O,activeCategoryEdit:w}:te))),o&&j(U.map(R=>R.productId===(t==null?void 0:t.productId)?{...R,brandName:a}:R)),C(p.map(R=>R.productId===(l==null?void 0:l.productId)?{...R,categoryTitle:O,activeCategoryEdit:w}:R)),k(!1)):s&&(r&&N(T.map(R=>R.productId===(t==null?void 0:t.productId)?{...R,bannerUrl:F}:R)),o&&j(U.map(R=>R.productId===(t==null?void 0:t.productId)?{...R,bannerUrl:F,brandName:a}:R)),C(p.map(R=>R.productId===(t==null?void 0:t.productId)?{...R,bannerUrl:F,brandName:a,categoryTitle:O,activeCategoryEdit:w}:R)),k(!1))},Le=()=>{d==null||d(t==null?void 0:t.productId),k(!1)};return e.jsxs("div",{className:f.add_banner,children:[e.jsx("div",{className:f.add_banner_header,children:e.jsx("h3",{className:f.add_banner_header_title,children:"Баннер"})}),e.jsxs("div",{className:f.add_banner_content,children:[c?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:f.add_banner_content_product,children:[n,":",r&&e.jsxs("span",{children:[" ",t==null?void 0:t.categoryTitle]}),o&&e.jsxs("span",{children:[" ",t==null?void 0:t.brandName]})]}),i==null?void 0:i.map(R=>e.jsx("span",{className:f.add_banner_content_product,children:R.name.ru},R.name.ru))]}):e.jsx("p",{className:f.add_banner_content_product,children:h?`${n}: ${m}`:`${n}: ${A==null?void 0:A.brandName}`}),e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},id:"upload",onChange:he}),e.jsx("label",{htmlFor:"upload",className:f.add_banner_content_link,children:"Загрузить"}),e.jsx("div",{className:f.add_banner_content_info,children:e.jsx("p",{className:f.add_banner_content_info_text,children:"Оптимальный размер картинки 800x800px (прозрачный фон) максимальный размер 10MB"})}),s?e.jsx("div",{className:f.add_banner_content_download,children:e.jsx("img",{src:F||(t==null?void 0:t.bannerUrl),alt:"",style:{width:"555px",height:"229px",objectFit:"cover"}})}):e.jsx("div",{className:f.add_banner_content_download,children:F?e.jsx("img",{src:F,alt:"Uploaded",className:f.add_banner_content_download_image,style:{width:"555px",height:"229px",objectFit:"cover"}}):e.jsxs("a",{className:f.add_banner_content_download_link,onClick:()=>Ue(),children:[e.jsx(M,{name:"PhotoIcon",width:72,height:72,color:"#C1C1C1"}),e.jsx("span",{children:"Загрузите баннер"})]})}),s?e.jsxs("div",{className:f.add_banner_content_btns,children:[e.jsx("button",{className:f.add_banner_content_btn,onClick:Le,style:{background:"#FFB5B5"},children:"Удалить"}),e.jsx("button",{className:f.add_banner_content_btn,style:{background:"#01C2EE"},onClick:()=>Be(),children:"Изменить"})]}):e.jsxs("div",{className:f.add_banner_content_btns,children:[e.jsx("button",{className:f.add_banner_content_btn,onClick:()=>k(!1),children:"Отмена"}),e.jsx("button",{className:f.add_banner_content_btn,onClick:()=>Ne(),children:"Сохранить"})]})]})]})};function ct({inputText:n,setInputText:t,filteredUsers:s,isProductEdit:r}){const{categoriesArr:o,filteredSubCategory:a,filteredCategoty:d,filteredSuperCategory:l,setCurrentProductOpen:c,setChangeCategoryStyles:i,setOpenModalCategoryBanner:p,clearCategoriesArr:m,setFilteredSubCategory:h,setFilteredCategoty:b,setFilteredSuperCategory:x}=oe(),O=()=>{r&&c(!1),i(!1),p(!0),m()};return u.useEffect(()=>{console.log("categoriesArr",o)},[o]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:f.products_banner_wrap,children:[e.jsx("button",{className:f.products_banner_wrap_btn,onClick:O,children:e.jsx(M,{name:"FunnelIcon",width:20})}),(o==null?void 0:o.length)!==0&&e.jsx("div",{className:f.products_banner_wrap_filter,children:o==null?void 0:o.map(z=>e.jsx("span",{className:f.products_banner_wrap_filter_text,children:z.name.ru},z.id))}),e.jsxs("form",{action:"",className:f.products_banner_form,onSubmit:z=>s==null?void 0:s(z),children:[e.jsxs("div",{className:f.products_banner_form_wrap,children:[e.jsx("input",{type:"text",className:f.products_banner_form_wrap_input,placeholder:"Поиск товаров",value:n,onChange:z=>t==null?void 0:t(z.target.value)}),e.jsx(M,{className:f.products_banner_form_wrap_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:f.products_banner_form_wrap_btn,children:"Найти"})]})]})})}const pa=[{id:"1",title:"Заголовок"},{id:"2",title:"Цена"},{id:"3",title:"Кол-во"},{id:"4",title:""}],ua=()=>{const{websiteProducts:n}=ve(),[t,s]=u.useState(""),{openModalCategoryBanner:r,currentProductOpen:o,searchTextBannner:a,pickedProducts:d,setCurrentProductTable:l,clearCategoriesArr:c,setSearchTextBannner:i,clearPickedProductsArr:p,setOpenLinksPage:m,setOpenProductsPage:h,setCurrentProductOpen:b,setOpenModalCategoryBanner:x}=oe(),O=k=>{k.preventDefault(),i(t),c()},z=k=>{const D=n.find(y=>y.mxikCode===k);D&&(l(D),b(!0))},[T,U]=u.useState([]);u.useEffect(()=>{let k=n;k=k==null?void 0:k.filter(D=>{var y;return(y=D.className)==null?void 0:y.toLowerCase().includes(a.toLowerCase())}),U(k)},[a,n]);const j=a?T:d;return u.useEffect(()=>{t===""&&(i(""),p(),b(!1))},[t]),u.useEffect(()=>{b(!1),m(!1),h(!0),x(!1),c()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:f.products_banner,style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(ct,{inputText:t,setInputText:s,filteredUsers:O}),e.jsx(Ce,{arrToUse:j,arr:pa,setPickedProduct:z,selectionMode:"mxikCode"})]}),r&&e.jsx(We,{isProduct:!0}),o&&e.jsx(ye,{title:"Товар"})]})},ma=()=>{const{categoriesArr:n,setOpenLinksPage:t,setChangeCategoryStyles:s,setOpenProductsPage:r}=oe();return u.useEffect(()=>{t(!1),s(!0),r(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:f.category_wrap,children:e.jsx(We,{isCategory:!0})}),e.jsx(ye,{title:"Каталог",categories:n})]})},ha=()=>{const{linksPageBannerText:n,setLinksPageBannerText:t,setOpenLinksPage:s,setChangeCategoryStyles:r,setOpenProductsPage:o}=oe();return u.useEffect(()=>{s(!0),r(!1),t(""),o(!1)},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:f.add_link,children:[e.jsx("h3",{className:f.add_link_title,children:"Ссылка на станицу"}),e.jsx("input",{className:f.add_link_input,type:"text",value:n,onChange:a=>t(a.target.value)})]}),e.jsx(ye,{title:"Страница"})]})};function ba(){const{bannerDropdownOptions:n,openBannerDropdown:t,setBannerDropdownOptions:s,setOpenBannerDropdown:r,resetDropdownToDefault:o}=oe(),a=()=>{const d=n.find(l=>l.isOpen);if(!d)return null;switch(d.title){case"Продукт":return e.jsx(ua,{});case"Категория":return e.jsx(ma,{});case"Страница":return e.jsx(ha,{});default:return null}};return u.useEffect(()=>{o()},[]),e.jsxs("div",{className:f.banner,children:[e.jsx("h3",{className:f.banner_title,children:"Выберите вариант куда прикрепить баннер"}),e.jsx(it,{openBlock:t,setOpenBlock:r,versionList:n,setVersionList:s}),e.jsx("div",{className:f.banner_content,children:a()})]})}const ga=[{id:"1",title:"Баннер"},{id:"2",title:"Продукт"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],va=()=>{const{websiteProducts:n}=ve(),{pickedProducts:t,currentProductOpen:s,openModalCategoryBanner:r,bannersArr:o,searchTextBannner:a,currentProductTable:d,bannersArrProduct:l,clearPickedProductsArr:c,clearCategoriesArr:i,setCurrentProductOpen:p,setCurrentProductTable:m,setSearchTextBannner:h,setOpenLinksPage:b,setOpenProductsPage:x,setOpenModalCategoryBanner:O,setBannersArrProduct:z,setBannersArr:T}=oe(),[U,j]=u.useState(""),[k,D]=u.useState([]),y=N=>{N.preventDefault(),h(U),i()},g=N=>{const A=l.find(F=>F.productId===N);A&&(m(A),p(!0))};u.useEffect(()=>{let N=n;N=N==null?void 0:N.filter(A=>{var F;return(F=A.className)==null?void 0:F.toLowerCase().includes(a.toLowerCase())}),D(N)},[a,n]);const P=N=>{z(l.filter(A=>A.productId!=N)),T(o.filter(A=>A.productId!==N))},C=a?k:t;return u.useEffect(()=>{p(!1),b(!1),O(!1),i()},[p,b,x,O,i]),u.useEffect(()=>{U===""&&(h(""),c())},[U]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(Ce,{arrToUse:l,arr:ga,setPickedProductActive:g,selectionMode:"productId",isActive:!0}),s&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(ct,{filteredUsers:y,setInputText:j}),e.jsx(Ce,{arrToUse:C,isEdit:!0,selectionMode:"mxikCode"}),e.jsx(ye,{title:"Продукт",currentProductEdit:d,isEdit:!0,deleteBanner:P})]})]}),r&&e.jsx(We,{})]})},xa=[{id:"1",title:"Баннер"},{id:"2",title:"Каталог"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],fa=()=>{const{bannersArr:n,bannersArrCategory:t,currentProductTable:s,currentProductOpen:r,setCurrentProductOpen:o,setBannersArr:a,setCurrentProductTable:d,setBannersArrCategory:l}=oe(),c=p=>{const m=t.find(h=>h.productId===p);m&&(d(m),o(!0),console.log("currentProductTable",s))},i=p=>{l(t.filter(m=>m.productId!=p)),a(n.filter(m=>m.productId!==p))};return u.useEffect(()=>{o(!1)},[]),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(Ce,{arr:xa,arrToUse:t,selectionMode:"productId",isCategory:!0,setPickedProductActive:c}),r&&e.jsx(We,{isCategory:!0}),r&&e.jsx(ye,{title:"Каталог",currentProductEdit:s,isEdit:!0,isCategory:!0,deleteBanner:i})]})},ya=({setLinkText:n,currentProductEdit:t})=>{oe();const[s,r]=u.useState(t.brandName||""),o=a=>{r(a),n(a)};return u.useEffect(()=>{r(t.brandName||"")},[t.brandName]),e.jsxs("div",{children:[e.jsx("p",{className:f.add_link_title,children:"Ссылка на страницу"}),e.jsx("input",{className:f.add_link_input,type:"text",onChange:a=>o(a.target.value),value:s})]})},ka=[{id:"1",title:"Баннер"},{id:"2",title:"Страницы"},{id:"3",title:""},{id:"4",title:"Откл / Выкл"}],ja=()=>{const{bannersArr:n,bannersArrLink:t,currentProductOpen:s,currentProductTable:r,setBannersArr:o,setBannersArrLink:a,setCurrentProductTable:d,setCurrentProductOpen:l}=oe(),[c,i]=u.useState("");u.useEffect(()=>{console.log(c)},[c]);const p=h=>{const b=t.find(x=>x.productId===h);b&&(d(b),console.log("currentProductTable",r),l(!0))},m=h=>{a(t.filter(b=>b.productId!=h)),o(n.filter(b=>b.productId!==h))};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"30px"},children:[e.jsx(Ce,{arr:ka,arrToUse:t,selectionMode:"productId",setPickedProductActive:p,isLinks:!0}),s&&e.jsxs(e.Fragment,{children:[e.jsx(ya,{setLinkText:i,currentProductEdit:r}),e.jsx(ye,{title:"Страница",currentProductEdit:r,deleteBanner:m,isLinks:!0,isEdit:!0,linkTextEdit:c})]})]})};function wa(){const{bannerDropdownOptions:n,openBannerDropdown:t,bannersArr:s,bannersArrProduct:r,bannersArrCategory:o,bannersArrLink:a,setBannerDropdownOptions:d,setOpenBannerDropdown:l,resetDropdownToDefault:c,setBannersArrProduct:i,setBannersArrCategory:p,setBannersArrLink:m}=oe();u.useEffect(()=>{i(s.filter(b=>b.isProductBanner===!0)),p(s.filter(b=>b.isCategoryBanner===!0)),m(s.filter(b=>b.isLinkBanner===!0))},[]);const h=()=>{const b=n.find(x=>x.isOpen);if(!b)return null;switch(b.title){case"Продукт":return e.jsx(va,{});case"Категория":return e.jsx(fa,{});case"Страница":return e.jsx(ja,{});default:return null}};return u.useEffect(()=>{c()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h3",{className:f.banner_title,children:"Выберите вариант редактирования баннера"}),e.jsx(it,{openBlock:t,setOpenBlock:l,versionList:n,setVersionList:d})]}),e.jsx("div",{className:f.banner_content,children:h()})]})}const Ca=[{id:1,title:"Новый",href:"/admin/settings/banner"},{id:2,title:"Активные",href:"/admin/settings/banner/activeBanner"}];function Na(){const t=se().pathname,{setCurrentProductOpen:s}=oe();return u.useEffect(()=>{s(!1)},[]),e.jsx("div",{className:_.banner,children:e.jsxs("div",{className:_.banner_nav,children:[e.jsx("ul",{className:_.banner_nav_list,children:Ca.map(r=>e.jsx("li",{children:e.jsx(Z,{to:r.href,className:`${_.banner_nav_link} ${r.href==t?_.banner_nav_link_active:""}`,children:r.title})},r.id))}),t.startsWith("/admin/settings/banner")&&e.jsxs("div",{className:_.settings_content_base,children:[t=="/admin/settings/banner"&&e.jsx(ba,{}),t=="/admin/settings/banner/activeBanner"&&e.jsx(wa,{})]})]})})}const Ia="_contacts_mxkpi_1",Sa="_contacts_content_mxkpi_4",$a="_contacts_nav_mxkpi_7",Da="_contacts_nav_list_mxkpi_10",Oa="_contacts_nav_link_mxkpi_15",Pa="_contacts_nav_link_active_mxkpi_30",Aa="_contacts_btn_mxkpi_34",Wa="_socials_mxkpi_55",Ea="_socials_title_mxkpi_60",Ua="_socials_content_mxkpi_65",Ba="_socials_content_wrap_mxkpi_70",La="_socials_content_wrap_input_mxkpi_75",za="_aboutUs_mxkpi_84",Fa="_aboutUs_add_image_mxkpi_87",Ma="_aboutUs_content_mxkpi_90",Ta="_aboutUs_image_wrap_mxkpi_95",Ra="_aboutUs_download_mxkpi_104",qa="_aboutUs_text_mxkpi_112",Va="_aboutUs_inputs_mxkpi_120",Ha="_aboutUs_inputs_wrap_mxkpi_126",Xa="_aboutUs_inputs_wrap_title_mxkpi_130",Za="_aboutUs_inputs_wrap_input_mxkpi_136",Ga="_aboutUs_inputs_wrap_textarea_mxkpi_144",Ja="_aboutUs_btn_mxkpi_152",Ya="_aboutUs_week_info_mxkpi_172",Qa="_aboutUs_week_info_text_mxkpi_178",Ka="_aboutUs_week_content_mxkpi_183",ei="_aboutUs_week_wrap_mxkpi_189",ti="_aboutUs_week_wrap_colored_mxkpi_193",si="_aboutUs_week_wrap_colored_active_mxkpi_203",oi="_aboutUs_week_wrap_colored_last_mxkpi_206",ni="_aboutUs_week_wrap_day_mxkpi_209",ri="_aboutUs_week_wrap_schedule_mxkpi_215",ai="_aboutUs_week_wrap_input_mxkpi_221",ii="_custom_checkbox_mxkpi_241",ci="_custom_checkbox_input_mxkpi_247",li="_custom_checkbox_box_mxkpi_252",_i="_custom_checkbox_box_icon_mxkpi_261",E={contacts:Ia,contacts_content:Sa,contacts_nav:$a,contacts_nav_list:Da,contacts_nav_link:Oa,contacts_nav_link_active:Pa,contacts_btn:Aa,socials:Wa,socials_title:Ea,socials_content:Ua,socials_content_wrap:Ba,socials_content_wrap_input:La,aboutUs:za,aboutUs_add_image:Fa,aboutUs_content:Ma,aboutUs_image_wrap:Ta,aboutUs_download:Ra,aboutUs_text:qa,aboutUs_inputs:Va,aboutUs_inputs_wrap:Ha,aboutUs_inputs_wrap_title:Xa,aboutUs_inputs_wrap_input:Za,aboutUs_inputs_wrap_textarea:Ga,aboutUs_btn:Ja,aboutUs_week_info:Ya,aboutUs_week_info_text:Qa,aboutUs_week_content:Ka,aboutUs_week_wrap:ei,aboutUs_week_wrap_colored:ti,aboutUs_week_wrap_colored_active:si,aboutUs_week_wrap_colored_last:oi,aboutUs_week_wrap_day:ni,aboutUs_week_wrap_schedule:ri,aboutUs_week_wrap_input:ai,custom_checkbox:ii,custom_checkbox_input:ci,custom_checkbox_box:li,custom_checkbox_box_icon:_i},di=({temporaryImageUrl:n,setTemporaryImageUrl:t})=>{const[s,r]=u.useState(null),[o,a]=u.useState(null);u.useEffect(()=>{const c=localStorage.getItem("savedLogoImageUrl");c&&(r(c),t(c))},[t]);const d=c=>{if(c.target.files&&c.target.files[0]){const i=c.target.files[0];a(i);const p=new FileReader;p.onloadend=()=>{const m=p.result;r(m),t(m),localStorage.setItem("savedLogoImageUrl",m)},p.readAsDataURL(i)}},l=()=>{document.getElementById("upload").click()};return e.jsxs("div",{className:E.aboutUs_add_image,children:[e.jsx("div",{className:E.aboutUs_image_wrap,children:s||n?e.jsx("img",{src:n||s,alt:"Uploaded",style:{width:"60px",height:"60px",objectFit:"contain"}}):e.jsx("a",{style:{cursor:"pointer"},onClick:()=>l(),children:e.jsx(M,{name:"PhotoIcon",width:33,height:33,color:"#C1C1C1"})})}),e.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},id:"upload",onChange:d}),e.jsx("label",{htmlFor:"upload",className:E.aboutUs_download,children:"Загрузить"}),e.jsx("p",{className:E.aboutUs_text,children:"Оптимальный размер картинки 500x500px (прозрачный фон) максимальный размер 10MB"})]})};function ge(){return ge=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}return n},ge.apply(this,arguments)}const lt=(n,t)=>{const s={};for(const r in n)t.indexOf(r)===-1&&(s[r]=n[r]);return s},_t=Y.createContext(null),Ee=Y.createContext(null),pi=n=>t=>Y.createElement(Ee.Consumer,null,s=>Y.createElement(n,ge({parent:s},t))),ui=(n=[])=>{const[t,s]=u.useState(!1),r=u.useRef(n),o=(()=>{const d=u.useContext(_t);if(d===null)throw new Error("Couldn't find Yandex.Maps API in the context. Make sure that hook useYMaps is inside <YMaps /> provider");return d})(),a=o.getApi();return u.useEffect(()=>{o.load().then(()=>Promise.all(r.current.map(o.loadModule))).then(()=>s(!0))},[]),t&&a?a:null},mi=()=>{},hi=["onLoad","onError","modules","apiLoader"];function dt(n,t=!1,s=[]){return r=>{const{width:o,height:a,modules:d=[],onLoad:l=mi}=r,c=ui(s.concat(d)),i=!t||!!c,p=lt(r,hi);return u.useEffect(()=>c?l(c):void 0,[c]),i?Y.createElement(n,ge({ymaps:c},p)):Y.createElement("div",{style:{width:o,height:a}})}}const bi=typeof window<"u",Ge={lang:"ru_RU",load:"",ns:"",mode:"release"},gi=n=>{const{version:t="2.1",enterprise:s=!1,query:r={lang:"ru_RU",load:"",ns:""},preload:o=!1,children:a}=n,d=u.useRef((l=>{const{query:c=Ge}=l,i=Date.now().toString(32),p=c.ns||"",m="__yandex-maps-api-onload__$$"+i,h="__yandex-maps-api-onerror__$$"+i,b=bi?window:{},x={};let O;const z=()=>p?b[p]:O,T=()=>{delete b[m],delete b[h]};return{load:()=>{if(z())return Promise.resolve(O);if(x[p])return x[p];const U={onload:m,onerror:h,...Ge,...c},j=Object.keys(U).map(D=>`${D}=${U[D]}`).join("&"),k=[`https://${l.enterprise?"enterprise.":""}api-maps.yandex.ru`,l.version,"?"+j].join("/");return x[p]=new Promise((D,y)=>{b[m]=g=>{T(),g.ready(()=>{O=g,D(g)})},b[h]=g=>{T(),y(g)},(g=>new Promise((P,C)=>{const N=document.createElement("script");N.type="text/javascript",N.onload=P,N.onerror=C,N.src=g,N.async=!0,document.head.appendChild(N)}))(k).catch(b[h])}),x[p]},getApi:z,loadModule:U=>new Promise((j,k)=>{O.modules.require(U).done(D=>{D.forEach(y=>{((g,P,C,N=!1)=>{const A=typeof P=="string"?P.split("."):P.slice();let F,W=g;for(;A.length>1;)F=A.shift(),W[F]||(W[F]={}),W=W[F];const v=A[0];W[v]=N===!0&&W[v]||C})(O,U,y,!0)}),j(O)},k)})}})({version:t,enterprise:s,query:r,preload:o}));return u.useEffect(()=>{o&&d.current.load()},[d.current]),Y.createElement(_t.Provider,{value:d.current},a)},Je=/^on(?=[A-Z])/;function X(n){return Object.keys(n).reduce((t,s)=>{if(Je.test(s)){const r=s.replace(Je,"").toLowerCase();t._events[r]=n[s]}else t[s]=n[s];return t},{_events:{}})}function xe(n,t,s){typeof s=="function"&&n.events.add(t,s)}function fe(n,t,s){typeof s=="function"&&n.events.remove(t,s)}function ke(n,t,s){Object.keys(Object.assign({},t,s)).forEach(r=>{t[r]!==s[r]&&(fe(n,r,t[r]),xe(n,r,s[r]))})}const pt=n=>"default"+n.charAt(0).toUpperCase()+n.slice(1);function Q(n,t){return n[t]!==void 0||n[pt(t)]===void 0}function I(n,t,s){return(Q(n,t)?n[t]:n[pt(t)])||s}function K(n,t,s=null){if(n!==t){if(n&&("current"in n?n.current=null:typeof n=="function"&&n(null)),!t)return;"current"in t?t.current=s:typeof t=="function"&&t(s)}}function ut(n){const{width:t,height:s,style:r,className:o}=n;return r!==void 0||o!==void 0?Object.assign({},r&&{style:r},o&&{className:o}):{style:{width:t,height:s}}}class vi extends Y.Component{constructor(t){super(t),this.state={error:null,errorInfo:null}}componentDidCatch(t,s){const{onError:r=()=>{}}=this.props;r(t),this.setState({error:t,errorInfo:s})}render(){return this.state.error?null:this.props.children}}const mt=n=>({onError:t,...s})=>Y.createElement(vi,{onError:t},Y.createElement(n,s));class je extends Y.Component{constructor(){super(),this.instance=null,this.state={instance:null},this._parentElement=null,this._getRef=t=>{this._parentElement=t}}componentDidMount(){this.instance=je.mountObject(this._parentElement,this.props.ymaps.Map,this.props),this.setState({instance:this.instance})}componentDidUpdate(t){this.instance!==null&&je.updateObject(this.instance,t,this.props)}componentWillUnmount(){je.unmountObject(this.instance,this.props)}render(){const t=ut(this.props),s=X(this.props),r=lt(s,["_events","state","defaultState","options","defaultOptions","instanceRef","ymaps","children","width","height","style","className"]);return Y.createElement(Ee.Provider,{value:this.state.instance},Y.createElement("div",ge({ref:this._getRef},t,r),this.props.children))}static mountObject(t,s,r){const{instanceRef:o,_events:a}=X(r),d=new s(t,I(r,"state"),I(r,"options"));return Object.keys(a).forEach(l=>xe(d,l,a[l])),K(null,o,d),d}static updateObject(t,s,r){const{_events:o,instanceRef:a}=X(r),{_events:d,instanceRef:l}=X(s);if(Q(r,"state")){const c=I(s,"state",{}),i=I(r,"state",{});c.type!==i.type&&t.setType(i.type),c.behaviors!==i.behaviors&&(c.behaviors&&t.behaviors.disable(c.behaviors),i.behaviors&&t.behaviors.enable(i.behaviors)),i.zoom&&c.zoom!==i.zoom&&t.setZoom(i.zoom),i.center&&c.center!==i.center&&t.setCenter(i.center),i.bounds&&c.bounds!==i.bounds&&t.setBounds(i.bounds)}if(Q(r,"options")){const c=I(s,"options"),i=I(r,"options",{});c!==i&&t.options.set(i)}I(s,"width")===I(r,"width")&&I(s,"height")===I(r,"height")||t.container.fitToViewport(),ke(t,d,o),K(l,a,t)}static unmountObject(t,s){const{instanceRef:r,_events:o}=X(s);t!==null&&(Object.keys(o).forEach(a=>fe(t,a,o[a])),t.destroy(),K(r))}}const ht=mt(dt(je,!0,["Map"]));ht.defaultProps={width:320,height:240};class Ie extends Y.Component{constructor(){super(),this.state={instance:null},this._parentElement=null,this._getRef=t=>{this._parentElement=t}}componentDidMount(){this._mounted=!0,this.props.ymaps.panorama.isSupported()&&Ie.mountObject(this._parentElement,this.props.ymaps.panorama,this.props).then(t=>this._mounted&&this.setState({instance:t}))}componentDidUpdate(t){this.state.instance!==null&&Ie.updateObject(this.state.instance,t,this.props)}componentWillUnmount(){this._mounted=!1,Ie.unmountObject(this.state.instance,this.props)}render(){const t=ut(this.props);return Y.createElement("div",ge({ref:this._getRef},t))}static mountObject(t,s,r){const{instanceRef:o,_events:a}=X(r),d=I(r,"point"),l=I(r,"locateOptions"),c=I(r,"options");return new Promise((i,p)=>{s.locate(d,l).done(m=>{if(m.length>0){const h=new s.Player(t,m[0],c);K(null,o,h),Object.keys(a).forEach(b=>xe(h,b,a[b])),i(h)}},p)})}static updateObject(t,s,r){const{_events:o,instanceRef:a}=X(r),{_events:d,instanceRef:l}=X(s);if(Q(r,"options")){const c=I(s,"options"),i=I(r,"options");c!==i&&t.options.set(i)}if(Q(r,"point")){const c=I(r,"point"),i=I(s,"point"),p=I(r,"locateOptions");c!==i&&t.moveTo(c,p)}ke(t,d,o),K(l,a,t)}static unmountObject(t,s){const{instanceRef:r,_events:o}=X(s);t!==null&&(Object.keys(o).forEach(a=>fe(t,a,o[a])),K(r))}}class we extends Y.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const t=we.mountControl(this.props.ymaps.control[this.props.name],this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.instance!==null&&we.updateControl(this.instance,t,this.props)}componentWillUnmount(){we.unmountControl(this.instance,this.props)}render(){return Y.createElement(Ee.Provider,{value:this.state.instance},this.props.children)}static mountControl(t,s){const{instanceRef:r,parent:o,lazy:a,_events:d}=X(s),l=new t({data:I(s,"data"),options:I(s,"options"),state:I(s,"state"),mapTypes:I(s,"mapTypes"),lazy:a});if(Object.keys(d).forEach(c=>xe(l,c,d[c])),o&&o.controls&&typeof o.controls.add=="function")o.controls.add(l);else{if(!o||!o.add||typeof o.add!="function")throw new Error(`No parent found to mount ${s.name}`);o.add(l)}return K(null,r,l),l}static updateControl(t,s,r){const{_events:o,instanceRef:a}=X(r),{_events:d,instanceRef:l}=X(s);if(Q(r,"options")){const c=I(s,"options"),i=I(r,"options");c!==i&&t.options.set(i)}if(Q(r,"data")){const c=I(s,"data"),i=I(r,"data");c!==i&&t.data.set(i)}if(Q(r,"state")){const c=I(s,"state"),i=I(r,"state");c!==i&&t.state.set(i)}if(Q(r,"mapTypes")){const c=I(s,"mapTypes"),i=I(r,"mapTypes");c!==i&&(t.removeAllMapTypes(),i.forEach(p=>t.addMapType(p)))}ke(t,d,o),K(l,a,t)}static unmountControl(t,s){const{instanceRef:r,parent:o,_events:a}=X(s);t!==null&&(Object.keys(a).forEach(d=>fe(t,d,a[d])),o.controls&&typeof o.controls.remove=="function"?o.controls.remove(t):o.remove&&typeof o.remove=="function"&&o.remove(t),K(r))}}var xi=mt(pi(dt(n=>Y.createElement(we,ge({},n,{name:"ZoomControl"})),!0,["control.ZoomControl"])));class Se extends Y.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const t=Se.mountObject(this.props.ymaps.Clusterer,this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.state.instance!==null&&Se.updateObject(this.instance,t,this.props)}componentWillUnmount(){Se.unmountObject(this.instance,this.props)}render(){return Y.createElement(Ee.Provider,{value:this.state.instance},this.props.children)}static mountObject(t,s){const{instanceRef:r,parent:o,_events:a}=X(s),d=new t(I(s,"options"));if(Object.keys(a).forEach(l=>xe(d,l,a[l])),o.geoObjects&&typeof o.geoObjects.add=="function")o.geoObjects.add(d);else{if(!o.add||typeof o.add!="function")throw new Error("No parent found to mount Clusterer");o.add(d)}return K(null,r,d),d}static updateObject(t,s,r){const{_events:o,instanceRef:a}=X(r),{_events:d,instanceRef:l}=X(s);if(Q(r,"options")){const c=I(s,"options"),i=I(r,"options");c!==i&&t.options.set(i)}ke(t,d,o),K(l,a,t)}static unmountObject(t,s){const{instanceRef:r,parent:o,_events:a}=X(s);t!==null&&(Object.keys(a).forEach(d=>fe(t,d,a[d])),o.geoObjects&&typeof o.geoObjects.remove=="function"?o.geoObjects.remove(t):o.remove&&typeof o.remove=="function"&&o.remove(t),K(r))}}class $e extends Y.Component{constructor(){super(),this.state={instance:null}}componentDidMount(){const t=$e.mountObject(this.props.ymaps.ObjectManager,this.props);this.instance=t,this.setState({instance:t})}componentDidUpdate(t){this.instance!==null&&$e.updateObject(this.instance,t,this.props)}componentWillUnmount(){$e.unmountObject(this.instance,this.props)}render(){return null}static mountObject(t,s){const{instanceRef:r,parent:o,_events:a}=X(s),d=I(s,"options",{}),l=I(s,"features",{}),c=I(s,"filter",null),i=I(s,"objects",{}),p=I(s,"clusters",{}),m=new t(d);if(m.add(l||[]),m.setFilter(c),m.objects.options.set(i),m.clusters.options.set(p),Object.keys(a).forEach(h=>xe(m,h,a[h])),o.geoObjects&&typeof o.geoObjects.add=="function")o.geoObjects.add(m);else{if(!o.add||typeof o.add!="function")throw new Error("No parent found to mount ObjectManager");o.add(m)}return K(null,r,m),m}static updateObject(t,s,r){const{_events:o,instanceRef:a}=X(r),{_events:d,instanceRef:l}=X(s);if(Q(r,"options")){const c=I(s,"options"),i=I(r,"options");c!==i&&t.options.set(i)}if(Q(r,"objects")){const c=I(s,"objects"),i=I(r,"objects");c!==i&&t.objects.options.set(i)}if(Q(r,"clusters")){const c=I(s,"clusters"),i=I(r,"clusters");c!==i&&t.clusters.options.set(i)}if(Q(r,"filter")){const c=I(s,"filter"),i=I(r,"filter");c!==i&&t.setFilter(i)}if(Q(r,"features")){const c=I(s,"features"),i=I(r,"features");c!==i&&(t.remove(c),t.add(i))}ke(t,d,o),K(l,a,t)}static unmountObject(t,s){const{instanceRef:r,parent:o,_events:a}=X(s);t!==null&&(Object.keys(a).forEach(d=>fe(t,d,a[d])),o.geoObjects&&typeof o.geoObjects.remove=="function"?o.geoObjects.remove(t):o.remove&&typeof o.remove=="function"&&o.remove(t),K(r))}}class De extends Y.Component{constructor(){super(),this.state={instance:null},this.instance=null}componentDidMount(){const{name:t,ymaps:s,dangerZone:r}=this.props,o=De.mountObject(r&&typeof r.modifyConstructor=="function"?r.modifyConstructor(s[t]):s[t],this.props);this.instance=o,this.setState({instance:o})}componentDidUpdate(t){this.instance!==null&&De.updateObject(this.instance,t,this.props)}componentWillUnmount(){De.unmountObject(this.instance,this.props)}render(){return null}static mountObject(t,s){const{instanceRef:r,parent:o,_events:a}=X(s),d=new t(I(s,"geometry"),I(s,"properties"),I(s,"options"));if(Object.keys(a).forEach(l=>xe(d,l,a[l])),o&&o.geoObjects&&typeof o.geoObjects.add=="function")o.geoObjects.add(d);else{if(!o||!o.add||typeof o.add!="function")throw new Error(`No parent found to mount ${s.name}`);o.add(d)}return K(null,r,d),d}static updateObject(t,s,r){const{_events:o,instanceRef:a}=X(r),{_events:d,instanceRef:l}=X(s);if(Q(r,"geometry")){const c=I(s,"geometry",{}),i=I(r,"geometry",{});Array.isArray(i)&&i!==c?Array.isArray(i[0])&&typeof i[1]=="number"?(t.geometry.setCoordinates(i[0]),t.geometry.setRadius(i[1])):t.geometry.setCoordinates(i):typeof i=="object"&&(i.coordinates!==c.coordinates&&t.geometry.setCoordinates(i.coordinates),i.radius!==c.radius&&t.geometry.setRadius(i.radius))}if(Q(r,"properties")){const c=I(s,"properties"),i=I(r,"properties");c!==i&&t.properties.set(i)}if(Q(r,"options")){const c=I(s,"options"),i=I(r,"options");c!==i&&t.options.set(i)}ke(t,d,o),K(l,a,t)}static unmountObject(t,s){const{instanceRef:r,parent:o,_events:a}=X(s);t!==null&&(Object.keys(a).forEach(d=>fe(t,d,a[d])),o.geoObjects&&typeof o.geoObjects.remove=="function"?o.geoObjects.remove(t):o.remove&&typeof o.remove=="function"&&o.remove(t),K(r))}}const fi=()=>{const n=u.useRef(null);return e.jsx(gi,{children:e.jsx("div",{children:e.jsx(ht,{defaultState:{center:[41.32,69.27],zoom:12,controls:[]},width:500,instanceRef:t=>{n.current=t,t&&t.behaviors.disable("scrollZoom")},children:e.jsx(xi,{options:{position:{bottom:20,right:20}}})})})})},yi=({temporarySocialPlatforms:n,setTemporarySocialPlatforms:t})=>{const s=(r,o)=>{t(a=>a.map(d=>d.id===o?{...d,text:r}:d))};return e.jsxs("div",{className:E.aboutUs_inputs,children:[n.map(r=>e.jsx("div",{className:E.aboutUs_inputs_wrap,children:r.type=="isTextarea"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:E.aboutUs_inputs_wrap_title,children:r.title}),e.jsx("textarea",{className:E.aboutUs_inputs_wrap_textarea,onChange:o=>s(o.target.value,r.id),value:r.text})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:E.aboutUs_inputs_wrap_title,children:r.title}),e.jsx("input",{className:E.aboutUs_inputs_wrap_input,type:r.type==="isPhone"?"number":r.type==="isEmail"?"email":"text",onChange:o=>s(o.target.value,r.id),value:r.text})]})},r.id)),e.jsx(fi,{})]})},ki=({id:n,checked:t,onChange:s})=>{const r=o=>{s(n,o.target.checked)};return e.jsxs("label",{className:E.custom_checkbox,children:[e.jsx("input",{className:E.custom_checkbox_input,type:"checkbox",checked:t,onChange:r}),e.jsx("span",{className:E.custom_checkbox_box,children:e.jsx(M,{name:"CheckIcon",width:18,height:18,className:E.custom_checkbox_box_icon})})]})},ji=({temporaryContactsSchedule:n,setTemporaryContactsSchedule:t})=>{const s=l=>{const c=l.replace(/\D/g,"");return c.length<=2?c:`${c.slice(0,2)}:${c.slice(2,4)}`},r=(l,c,i,p)=>{if(!p.isActive)return;const m=s(i);t(h=>h.map(b=>b.id===l?{...b,workHours:{...b.workHours,[c]:m}}:b))},o=(l,c)=>{t(i=>i.map(p=>p.id===l?{...p,isActive:c,workHours:c?p.workHours:{start:"",end:""}}:p))},a=u.useRef({}),d=u.useRef({});return u.useEffect(()=>{n.forEach(l=>{var c;l.isActive&&a.current[l.id]&&!d.current[l.id]&&((c=a.current[l.id])==null||c.focus(),d.current[l.id]=!0)})},[n]),e.jsxs("div",{className:E.aboutUs_week,children:[e.jsxs("div",{className:E.aboutUs_week_info,children:[e.jsx("span",{className:E.aboutUs_week_info_text,children:"Рабочие дни:"}),e.jsx("span",{className:E.aboutUs_week_info_text,children:"Рабочие время:"})]}),e.jsx("div",{className:E.aboutUs_week_content,children:n.map((l,c)=>{const i=c===n.length-1,p=i&&l.isActive?E.aboutUs_week_wrap_colored_active:"";return e.jsxs("div",{className:E.aboutUs_week_wrap,children:[e.jsxs("div",{className:`
                  ${E.aboutUs_week_wrap_colored} 
                  ${l.isActive?E.aboutUs_week_wrap_colored_active:""} 
                  ${i?E.aboutUs_week_wrap_colored_last:""} 
                  ${p}
                `,children:[e.jsx("span",{className:E.aboutUs_week_wrap_day,children:l.day}),e.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[e.jsx("span",{className:E.aboutUs_week_wrap_schedule,children:"c:"}),e.jsx("input",{ref:m=>a.current[l.id]=m,className:E.aboutUs_week_wrap_input,type:"text",placeholder:"00:00",onChange:m=>r(l.id,"start",m.target.value,l),value:l.workHours.start}),e.jsx("span",{className:E.aboutUs_week_wrap_schedule,children:"до:"}),e.jsx("input",{className:E.aboutUs_week_wrap_input,type:"text",placeholder:"00:00",onChange:m=>r(l.id,"end",m.target.value,l),value:l.workHours.end})]})]}),e.jsx(ki,{id:l.id,checked:l.isActive,onChange:o})]},l.id)})})]})},wi=()=>{const{contactsFormInputsArr:n,setContactsFormInputsArr:t,contactsSchedule:s,setContactsSchedule:r,setImageUrlLogo:o}=rt(),[a,d]=u.useState(n),[l,c]=u.useState(""),[i,p]=u.useState(s),m=()=>{t(a),o(l);const h=i.map(b=>b.workHours&&b.workHours.start===""&&b.workHours.end===""?{...b,isActive:!1}:b);r(h)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:E.aboutUs,children:[e.jsx(di,{temporaryImageUrl:l,setTemporaryImageUrl:c}),e.jsxs("div",{className:E.aboutUs_content,children:[e.jsx(yi,{temporarySocialPlatforms:a,setTemporarySocialPlatforms:d}),e.jsx(ji,{temporaryContactsSchedule:i,setTemporaryContactsSchedule:p})]})]}),e.jsx("button",{className:E.aboutUs_btn,onClick:m,children:"Сохранить"})]})};function Ci({width:n=78,color:t="white",backgroundOn:s="rgba(137, 250, 135, 1)",backgroundOff:r="rgba(193, 193, 193, 1)",speed:o=500,scale:a=1.1,status:d=!1,disabled:l=!1}){const c={width:`${n}px`,height:`${n/2-n/20}px`,background:d?s:r,borderRadius:`${n/2}px`,display:"flex",alignItems:"center",transition:`${o}ms`,cursor:"pointer"},i={background:`${t}`,height:`${n/2-n/20}px`,width:`${n/2-n/20}px`,border:`${n/25}px solid ${d?s:r}`,borderRadius:"50%",transition:`${o}ms`,transform:`scale(${a}) translateX(${d?"110%":"0"})`};return e.jsx("div",{style:c,children:e.jsx("div",{style:i})})}const Ni=({temporarySocialPlatforms:n,setTemporarySocialPlatforms:t})=>{const s=(o,a)=>{t(d=>d.map(l=>l.id===o?{...l,link:a,isSwitchActive:a===""?!1:l.isSwitchActive}:l))},r=(o,a)=>{o.link!==""&&t(d=>d.map(l=>l.id===a?{...l,isSwitchActive:!l.isSwitchActive,link:o.isSwitchActive?"":o.link}:l))};return e.jsx(e.Fragment,{children:n.map(o=>e.jsxs("div",{className:E.socials_content_wrap,children:[e.jsx("img",{src:o.icon,alt:o.alt}),e.jsx("input",{type:"text",className:E.socials_content_wrap_input,value:o.link||"",onChange:a=>s(o.id,a.target.value)}),e.jsx("div",{onClick:()=>r(o,o.id),children:e.jsx(Ci,{status:o.isSwitchActive})})]},o.id))})},Ii=()=>{const{socialPlatforms:n,setSocialPlatforms:t}=rt(),[s,r]=u.useState(n),o=()=>{t(s)};return e.jsxs("div",{className:E.socials,children:[e.jsx("h3",{className:E.socials_title,children:"Соц-сети"}),e.jsx("div",{className:E.socials_content,children:e.jsx(Ni,{temporarySocialPlatforms:s,setTemporarySocialPlatforms:r})}),e.jsx("button",{className:E.contacts_btn,onClick:o,children:"Сохранить"})]})},Si=[{id:ee(),title:"Соц-сети",href:"/admin/settings/contacts"},{id:ee(),title:"О нас",href:"/admin/settings/contacts/aboutUs"}];function $i(){const n=se(),t=n.pathname;return e.jsx("div",{className:E.contacts,children:e.jsxs("div",{className:E.contacts_content,children:[e.jsx("div",{className:E.contacts_nav,children:e.jsx("ul",{className:E.contacts_nav_list,children:Si.map(s=>e.jsx(Z,{to:s.href,className:`${E.contacts_nav_link} ${s.href==t?E.contacts_nav_link_active:""}`,children:s.title},s.id))})}),t=="/admin/settings/contacts/aboutUs"&&e.jsx(wi,{}),n.pathname=="/admin/settings/contacts"&&e.jsx(Ii,{})]})})}const Di="_radioLabel_dhgqa_1",Oi="_radioLabel_selected_dhgqa_7",Pi="_radioLabel_radio_dhgqa_7",Ai="_radioLabel_input_dhgqa_15",Wi="_radioLabel_text_dhgqa_28",Ei="_storeBtn_dhgqa_34",Ui="_storeBtn_active_dhgqa_48",Bi="_deliveryInput_text_dhgqa_53",Li="_deliveryInput_wrap_dhgqa_58",zi="_deliveryInput_wrap_input_dhgqa_66",Fi="_version3_dhgqa_74",Mi="_version3_title_dhgqa_79",Ti="_version3_block_dhgqa_85",Ri="_version3_block_top_dhgqa_90",qi="_version3_block_top_title_dhgqa_102",Vi="_version3_block_top_arrow_dhgqa_106",Hi="_version3_block_top_arrow_active_dhgqa_119",Xi="_version3_block_dropdown_dhgqa_122",Zi="_version3_block_dropdown_item_dhgqa_133",Gi="_version3_block_dropdown_open_dhgqa_149",Ji="_version3_block_onOff_dhgqa_173",Yi="_version3_block_delivery_dhgqa_173",Qi="_version3_pickedWrap_dhgqa_178",Ki="_version3_pickedWrap_item_dhgqa_189",H={radioLabel:Di,radioLabel_selected:Oi,radioLabel_radio:Pi,radioLabel_input:Ai,radioLabel_text:Wi,storeBtn:Ei,storeBtn_active:Ui,deliveryInput_text:Bi,deliveryInput_wrap:Li,deliveryInput_wrap_input:zi,version3:Fi,version3_title:Mi,version3_block:Ti,version3_block_top:Ri,version3_block_top_title:qi,version3_block_top_arrow:Vi,version3_block_top_arrow_active:Hi,version3_block_dropdown:Xi,version3_block_dropdown_item:Zi,version3_block_dropdown_open:Gi,version3_block_onOff:Ji,version3_block_delivery:Yi,version3_pickedWrap:Qi,version3_pickedWrap_item:Ki},de=({id:n,value:t,checked:s,onChange:r,label:o})=>e.jsxs("label",{className:`${H.radioLabel} ${s?H.radioLabel_selected:""}`,children:[e.jsx("input",{type:"radio",id:n,value:t,checked:s,onChange:r,className:H.radioLabel_input}),e.jsx("span",{className:H.radioLabel_radio}),e.jsx("span",{className:H.radioLabel_text,children:o})]}),me=kt()(jt(wt(n=>({deliveryStoresArr:[{id:ee(),name:"Магазин1"},{id:ee(),name:"Магазин2"},{id:ee(),name:"Магазин3"}],setDeliveryStoresArr:t=>n({deliveryStoresArr:t}),selectedOption:"",setSelectedOption:t=>n({selectedOption:t}),selectedOrganizationOption:"",setSelectedOrganizationOption:t=>n({selectedOrganizationOption:t}),selectedStoreOption:"",setSelectedStoreOption:t=>n({selectedStoreOption:t}),lastLocation:"",setLastLocation:t=>n({lastLocation:t}),citiesDelivery:[{id:ee(),city:"Ташкент"},{id:ee(),city:"Бухара"},{id:ee(),city:"Самарканд"}],setCitiesDelivery:t=>n({citiesDelivery:t}),pickedItemsDelivery:[],setPickedItemsDelivery:t=>n({pickedItemsDelivery:t}),inputSumVal:"",setInputSumVal:t=>n({inputSumVal:t}),inputFixedPrice:"",setInputFixedPrice:t=>n({inputFixedPrice:t}),openCountriesDropdown:!1,setOpenCountriesDropdown:t=>n({openCountriesDropdown:t})}),{name:"delivery-store",partialize:n=>({...n,citiesDelivery:void 0,pickedItemsDelivery:void 0,deliveryStoresArr:void 0})}))),Re=(n,t)=>{const{setLastLocation:s}=me(),r=Oe();return se(),{handleChange:u.useCallback(a=>{const d=a.target.value;n(d);const l=t[d];l&&r(l),s(l)},[r,t,n])}},ec="_delivery_ud2pv_1",tc="_delivery_title_ud2pv_5",sc="_delivery_main_ud2pv_10",oc="_delivery_btn_ud2pv_16",nc="_deliveryOrg_ud2pv_28",rc="_deliveryOrg_radios_ud2pv_31",ac="_storeDelivery_ud2pv_38",ic="_storeDelivery_stores_ud2pv_41",cc="_storeDelivery_radios_ud2pv_47",ce={delivery:ec,delivery_title:tc,delivery_main:sc,delivery_btn:oc,deliveryOrg:nc,deliveryOrg_radios:rc,storeDelivery:ac,storeDelivery_stores:ic,storeDelivery_radios:cc},Me=({text:n,placeholder:t})=>{const{setInputSumVal:s}=me();return e.jsxs("div",{className:H.deliveryInput,children:[e.jsx("p",{className:H.deliveryInput_text,children:n}),e.jsxs("div",{className:H.deliveryInput_wrap,children:[e.jsx("input",{className:H.deliveryInput_wrap_input,type:"number",placeholder:t,onChange:r=>s(r.target.value)}),e.jsx("span",{className:H.deliveryInput_wrap_input_text,children:"UZS"})]})]})};function bt({pickedCities:n,setPickedCities:t}){const{citiesDelivery:s,openCountriesDropdown:r,setCitiesDelivery:o,setOpenCountriesDropdown:a}=me(),d=c=>{n.some(i=>i.id===c.id)||t([...n,c]),o(s.filter(i=>i.id!==c.id)),a(!1)},l=(c,i)=>{i.stopPropagation(),o([...s,c]),t(n.filter(p=>p.id!==c.id))};return e.jsxs("div",{className:H.version3,children:[e.jsx("span",{className:H.version3_title,children:"Города"}),e.jsxs("div",{className:H.version3_block,children:[e.jsxs("div",{className:`${n.length>0?H.version3_pickedWrap:H.version3_block_top}`,onClick:()=>a(!r),children:[n.length>0?n.map(c=>e.jsxs("div",{className:H.version3_pickedWrap_item,children:[e.jsx("h2",{className:H.version3_block_top_title,children:c.city}),e.jsx("button",{onClick:i=>l(c,i),children:e.jsx(M,{name:"XMarkIcon",width:15})})]},c.id)):e.jsx("h2",{className:H.version3_block_top_title,children:"Выберите город"}),e.jsx("button",{className:H.version3_block_top_btn,onClick:()=>a(!r),children:e.jsx("div",{className:`${H.version3_block_top_arrow} ${r&&s.length>0?H.version3_block_top_arrow_active:""}`,children:e.jsx(M,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${H.version3_block_dropdown} ${r&&s.length>0?H.version3_block_dropdown_open:""}`,children:s==null?void 0:s.map(c=>e.jsx("span",{className:H.version3_block_dropdown_item,onClick:()=>d(c),children:c.city},c.id))})]})]})}const lc=()=>{const{setOpenCountriesDropdown:n}=me(),[t,s]=u.useState([]);return u.useEffect(()=>{n(!1)},[]),e.jsxs("div",{children:[e.jsx(Me,{text:"Минимальная сумма заказа",placeholder:"0"}),e.jsx(bt,{pickedCities:t,setPickedCities:s})]})},_c=()=>{const{setOpenCountriesDropdown:n}=me(),[t,s]=u.useState([]);return u.useEffect(()=>{n(!1)},[]),e.jsxs("div",{children:[e.jsx(Me,{text:"Минимальная сумма заказа",placeholder:"0"}),e.jsx(Me,{text:"Цена за доставку",placeholder:"0"}),e.jsx(bt,{pickedCities:t,setPickedCities:s})]})},dc=()=>e.jsx("div",{children:"FlexibleDelivery"}),pc=()=>e.jsx("div",{children:"OwnVersionDelivery"}),uc=()=>{const{selectedOrganizationOption:n,lastLocation:t,setSelectedOrganizationOption:s}=me(),r=se(),o={freeDelivery:"/admin/settings/delivery/forOrganization/freeDelivery",fixedPriceDelivery:"/admin/settings/delivery/forOrganization/fixedPriceDelivery",flexibleDelivery:"/admin/settings/delivery/forOrganization/flexibleDelivery",ownVersionDelivery:"/admin/settings/delivery/forOrganization/ownVersionDelivery"},{handleChange:a}=Re(s,o);return e.jsxs("div",{className:ce.deliveryOrg,children:[e.jsx("h4",{className:ce.delivery_title,children:"Выберите вид доставки"}),e.jsxs("div",{className:ce.deliveryOrg_radios,children:[e.jsx(de,{id:"freeDelivery",value:"freeDelivery",checked:n==="freeDelivery",onChange:a,label:"Бесплатная доставка"}),e.jsx(de,{id:"fixedPriceDelivery",value:"fixedPriceDelivery",checked:n==="fixedPriceDelivery",onChange:a,label:"Фиксированная цена"}),e.jsx(de,{id:"flexibleDelivery",value:"flexibleDelivery",checked:n==="flexibleDelivery",onChange:a,label:"Гибкая доставка"}),e.jsx(de,{id:"ownVersionDelivery",value:"ownVersionDelivery",checked:n==="ownVersionDelivery",onChange:a,label:"Свой вариант"})]}),e.jsxs("div",{children:[r.pathname==="/admin/settings/delivery/forOrganization/freeDelivery"&&e.jsx(lc,{}),r.pathname==="/admin/settings/delivery/forOrganization/fixedPriceDelivery"&&e.jsx(_c,{}),r.pathname==="/admin/settings/delivery/forOrganization/flexibleDelivery"&&e.jsx(dc,{}),r.pathname==="/admin/settings/delivery/forOrganization/ownVersionDelivery"&&e.jsx(pc,{})]})]})},mc=({text:n,isActive:t,onClick:s})=>e.jsx("button",{className:`${H.storeBtn} ${t?H.storeBtn_active:""}`,onClick:s,children:n}),hc=()=>e.jsx("div",{children:"StoreFreeDelivery"}),bc=()=>e.jsx("div",{children:"StoreFixedPriceDelivery"}),gc=()=>e.jsx("div",{children:"StoreFlexibleDelivery"}),vc=()=>e.jsx("div",{children:"StoreOwnVersionDelivery"}),xc=()=>{const{deliveryStoresArr:n,selectedStoreOption:t,lastLocation:s,setSelectedStoreOption:r}=me(),[o,a]=u.useState(null),d=se(),l={freeDelivery:"/admin/settings/delivery/forStore/storeFreeDelivery",fixedPriceDelivery:"/admin/settings/delivery/forStore/storeFixedPriceDelivery",flexibleDelivery:"/admin/settings/delivery/forStore/storeFlexibleDelivery",ownVersionDelivery:"/admin/settings/delivery/forStore/storeOwnVersionDelivery"},{handleChange:c}=Re(r,l),i=p=>{a(p),d.pathname="/admin/settings/delivery/forStore/storeFreeDelivery",r("freeDelivery")};return e.jsxs("div",{className:ce.storeDelivery,children:[e.jsx("h4",{className:ce.delivery_title,children:"Выберите магазин "}),e.jsx("div",{className:ce.storeDelivery_stores,children:n.map(p=>e.jsx(mc,{text:p.name,isActive:p.id===o,onClick:()=>i(p.id)},p.id))}),e.jsxs("div",{children:[e.jsx("h4",{className:ce.delivery_title,children:"Выберите вид доставки"}),e.jsxs("div",{className:ce.storeDelivery_radios,children:[e.jsx(de,{id:"freeDelivery",value:"freeDelivery",checked:t==="freeDelivery",onChange:c,label:"Бесплатная доставка"}),e.jsx(de,{id:"fixedPriceDelivery",value:"fixedPriceDelivery",checked:t==="fixedPriceDelivery",onChange:c,label:"Фиксированная цена"}),e.jsx(de,{id:"flexibleDelivery",value:"flexibleDelivery",checked:t==="flexibleDelivery",onChange:c,label:"Гибкая доставка"}),e.jsx(de,{id:"ownVersionDelivery",value:"ownVersionDelivery",checked:t==="ownVersionDelivery",onChange:c,label:"Свой вариант"})]})]}),e.jsxs("div",{children:[d.pathname==="/admin/settings/delivery/forStore/storeFreeDelivery"&&e.jsx(hc,{}),d.pathname==="/admin/settings/delivery/forStore/storeFixedPriceDelivery"&&e.jsx(bc,{}),d.pathname==="/admin/settings/delivery/forStore/storeFlexibleDelivery"&&e.jsx(gc,{}),d.pathname==="/admin/settings/delivery/forStore/storeOwnVersionDelivery"&&e.jsx(vc,{})]})]})},fc=()=>{const{selectedOption:n,setSelectedOption:t,deliveryStoresArr:s,setDeliveryStoresArr:r,lastLocation:o,inputSumVal:a,pickedItemsDelivery:d,citiesDelivery:l}=me(),c=se(),i=Oe(),p={forOrganization:"/admin/settings/delivery/forOrganization",forStore:"/admin/settings/delivery/forStore"},{handleChange:m}=Re(t,p);u.useEffect(()=>{console.log("deliveryStoresArr",s)},[s]),u.useEffect(()=>{i(o)},[o]);const h=()=>{if(c.pathname==="/admin/settings/delivery/forOrganization/freeDelivery"){const b=s.map(x=>({...x,inputSumVal:a,pickedItemsDelivery:d}));r(b)}};return e.jsxs("div",{className:ce.delivery,children:[e.jsx("h3",{className:ce.delivery_title,children:"Выберите версию настройки доставки"}),e.jsxs("div",{className:ce.delivery_main,children:[e.jsx(de,{id:"forOrganization",value:"forOrganization",checked:n==="forOrganization",onChange:m,label:"Для организации"}),e.jsx(de,{id:"forStore",value:"forStore",checked:n==="forStore",onChange:m,label:"Для каждого магазина"})]}),c.pathname.startsWith("/admin/settings/delivery/forOrganization")&&e.jsx(uc,{}),c.pathname.startsWith("/admin/settings/delivery/forStore")&&e.jsx(xc,{}),e.jsx("button",{className:ce.delivery_btn,onClick:()=>h(),children:"Сохранить"})]})},yc=[{id:"1",label:"Модули",href:"/admin/settings/modules"},{id:"2",label:"Шаблоны",href:"/admin/settings/templates"},{id:"3",label:"Категории",href:"/admin/settings/categories"},{id:"4",label:"Баннер",href:"/admin/settings/banner"},{id:"5",label:"Основные",href:"/admin/settings/contacts"},{id:"6",label:"Доставка",href:"/admin/settings/delivery"}];function kc(){const t=se().pathname;return e.jsx("div",{className:_.settings,children:e.jsxs("div",{className:_.settings_content,children:[e.jsx("div",{className:_.settings_content_top,children:e.jsx("ul",{className:_.settings_tools,children:yc.map(s=>e.jsx("li",{children:e.jsx(Z,{to:s.href,className:`${_.settings_tools_link} ${t.startsWith(s.href)?_.settings_tools_link_active:""}`,children:s.label})},s.id))})}),t=="/admin/settings/modules"&&e.jsx(Cn,{}),t=="/admin/settings/templates"&&e.jsx(Nn,{}),t=="/admin/settings/categories"&&e.jsx(tr,{}),t.startsWith("/admin/settings/banner")&&e.jsx(Na,{}),t.startsWith("/admin/settings/contacts")&&e.jsx($i,{}),t.startsWith("/admin/settings/delivery")&&e.jsx(fc,{})]})})}const Ye=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Статус"},{id:4,title:"Акции"},{id:5,title:""}];function jc(){const[n,t]=u.useState(""),[s]=u.useState(1),[r]=u.useState(10),[o,a]=u.useState({status:!1,message:""}),[d,l]=u.useState([]);u.useEffect(()=>{n||(l([]),a({status:!1,message:""}))},[n]);async function c(i){i.preventDefault();const p=Pe.get("multi-store");try{const h=await(await re.get(`nomenclatures?multiStoreId=${p}&name=${n}&page=${s}&perPage=${r}`)).data.data;console.log("data",h),h.length>0?(l([...h]),a({status:!1,message:""})):(l([]),a({status:!0,message:"Совпадений не найдено"}))}catch(m){console.log("Ошибка произошла при поиске продуктов на складе",m)}}return e.jsxs("div",{className:_.addingWrapper,children:[e.jsxs("form",{action:"",className:_.addingWrapper_form,onSubmit:i=>c(i),children:[e.jsxs("div",{className:_.addingWrapper_search,children:[e.jsx("input",{type:"text",className:_.addingWrapper_search_input,placeholder:"Поиск товара",onChange:i=>t(i.target.value),value:n}),e.jsx(M,{className:_.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:_.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:_.addingWrapper_table,children:[e.jsx("thead",{className:_.addingWrapper_thead,children:e.jsx("tr",{className:_.addingWrapper_thead_tr,children:Ye.map(i=>e.jsx("th",{className:_.addingWrapper_thead_th,children:i.title},i.id))})}),e.jsx("tbody",{className:_.addingWrapper_tbody,children:d==null?void 0:d.map(i=>e.jsxs("tr",{className:_.addingWrapper_tbody_tr,children:[Ye.map(p=>{var m;return e.jsxs("td",{className:_.addingWrapper_tbody_td,children:[p.title=="Наименование"?e.jsx("span",{children:(m=i==null?void 0:i.name)==null?void 0:m.ru}):"",p.title=="Штрих-код"?e.jsx("span",{children:i.mxik}):"",p.title=="Статус"?e.jsx("span",{children:"Статус"}):""]},p.id)}),e.jsx("td",{className:_.addingWrapper_tbody_td,children:e.jsx(Z,{to:`/admin/stock-product/${i.id}`,className:_.addingWrapper_tbody_add,children:"Добавить"})})]},i==null?void 0:i.mxik))})]}),o.status&&e.jsx("span",{className:_.addingWrapper_table_error,children:o.message})]})}const Qe=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Статус"},{id:4,title:"Акции"}];function wc(){const[n,t]=u.useState(""),[s,r]=u.useState({status:!1,message:""}),[o,a]=u.useState([]),[d]=u.useState(1),[l]=u.useState(10);u.useEffect(()=>{n||(a([]),r({status:!1,message:""}))},[n]);async function c(){const h=Pe.get("multi-store");try{console.log(222,"searchText",n);const x=(await re.get(`web-nomenclatures?multiStoreId=${h}&title=${n}&page=${d}&perPage=${l}`)).data.data;console.log(999,"data",x),x.length>0?(a([...x]),r({status:!1,message:""})):(a([]),r({status:!0,message:"Совпадений не найдено"}))}catch(b){console.log("Ошибка произошла при поиске продуктов на вебсайте по заголовку",b)}}async function i(h,b){h.preventDefault();try{const x=await re.patch(`web-nomenclatures/${b}`,{isActive:!1});t(""),a([]),console.log("Продукт успешно отключен с веб сайта",x)}catch(x){console.log("Ошибка произошла при удалении продукта с вебсайта",x)}}async function p(h,b){h.preventDefault();try{const x=await re.patch(`web-nomenclatures/${b}`,{isActive:!0});t(""),a([]),console.log("Продукт успешно включен на веб сайта",x)}catch(x){console.log("Ошибка произошла при удалении продукта с вебсайта",x)}}const m=async h=>{h.preventDefault(),c()};return e.jsxs("div",{className:_.addingWrapper,children:[e.jsxs("form",{action:"",className:_.addingWrapper_form,onSubmit:h=>m(h),children:[e.jsxs("div",{className:_.addingWrapper_search,children:[e.jsx("input",{type:"text",className:_.addingWrapper_search_input,placeholder:"Поиск товара",onChange:h=>t(h.target.value),value:n}),e.jsx(M,{className:_.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:_.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:_.addingWrapper_table,children:[e.jsx("thead",{className:_.addingWrapper_thead,children:e.jsxs("tr",{className:_.addingWrapper_thead_tr,children:[Qe.map(h=>e.jsx("th",{className:_.addingWrapper_thead_th,children:h.title},h.id)),e.jsx("th",{className:_.addingWrapper_thead_th})]})}),e.jsx("tbody",{className:_.addingWrapper_tbody,children:o==null?void 0:o.map(h=>e.jsxs("tr",{className:_.addingWrapper_tbody_tr,children:[Qe.map(b=>e.jsxs("td",{className:_.addingWrapper_tbody_td,children:[b.title=="Наименование"?e.jsx("span",{children:h.title}):"",b.title=="Статус"?e.jsx("span",{children:"Статус"}):""]},b.id)),e.jsx("td",{className:_.addingWrapper_tbody_td,children:e.jsxs("div",{className:_.addingWrapper_tbody_buttons,children:[h.isActive&&e.jsx(Z,{to:"#",className:_.addingWrapper_tbody_del,onClick:b=>i(b,h.id),children:"Отключить"}),!h.isActive&&e.jsx(Z,{to:"#",className:_.addingWrapper_tbody_del,onClick:b=>p(b,h.id),children:"Включить"}),e.jsx(Z,{to:`/admin/website-product/${h.id}`,className:_.addingWrapper_tbody_add,children:"Изменить"})]})})]},h==null?void 0:h.id))})]}),s.status&&e.jsx("span",{className:_.addingWrapper_table_error,children:s.message})]})}const Cc=[{id:1,title:"На складе",href:"/admin/product/adding/stock"},{id:2,title:"На сайте",href:"/admin/product/adding/website"}];function Nc(){const t=se().pathname;return e.jsxs("div",{className:_.products,children:[e.jsx("div",{className:_.products_buttons,children:Cc.map(s=>e.jsx(Z,{to:s.href,className:`${_.products_btn} ${s.href==t?_.products_btn_active:""}`,children:s.title},s.id))}),t=="/admin/product/adding/stock"&&e.jsx(jc,{}),t=="/admin/product/adding/website"&&e.jsx(wc,{})]})}const Ic=[{id:1,title:"Добавление",href:"/addingProducts"},{id:2,title:"Добавление на сайт",href:"/admin/product/adding"},{id:3,title:"Списание",href:"/admin/product/write-off"}];function Sc(){const t=se().pathname;return e.jsxs("div",{className:_.products,children:[e.jsx("div",{className:_.products_buttons,children:Ic.map(s=>e.jsx(Z,{to:s.href,className:`${_.products_btn} ${t.startsWith(`${s.href}`)||t.startsWith("/admin/product-item")?_.products_btn_active:""}`,children:s.title},s.id))}),t.startsWith("/admin/product/adding")&&e.jsx(Nc,{})]})}const $c="_user_title_1uizv_1",Dc="_user_list_1uizv_6",Oc="_user_list_link_1uizv_12",Pc="_user_list_link_active_1uizv_26",Ac="_user_form_1uizv_30",Wc="_user_form_btn_1uizv_35",Ec="_user_form_wrap_1uizv_51",Uc="_user_form_input_1uizv_57",Bc="_user_form_icon_1uizv_65",Lc="_user_table_1uizv_68",zc="_user_table_tbody_1uizv_71",Fc="_user_table_tr_1uizv_74",Mc="_user_table_th_1uizv_77",Tc="_user_table_td_1uizv_85",Rc="_user_table_btns_1uizv_89",qc="_user_table_btn_1uizv_89",Vc="_user_table_btn_blocked_1uizv_107",Hc="_modal_1uizv_111",Xc="_modal_active_1uizv_120",Zc="_modal_wrap_1uizv_123",Gc="_modal_wrap_header_1uizv_131",Jc="_modal_wrap_stores_1uizv_143",Yc="_modal_wrap_stores_text_1uizv_165",Qc="_modal_btns_1uizv_169",Kc="_modal_btn_1uizv_169",el="_modal_content_1uizv_193",tl="_modal_content_text_1uizv_197",sl="_versions_1uizv_206",ol="_versions_block_1uizv_211",nl="_versions_block_top_1uizv_216",rl="_versions_block_top_title_1uizv_226",al="_versions_block_top_arrow_1uizv_230",il="_versions_block_top_arrow_active_1uizv_239",cl="_versions_block_dropdown_1uizv_242",ll="_versions_block_dropdown_item_1uizv_257",_l="_versions_block_dropdown_open_1uizv_268",dl="_shop_header_1uizv_275",pl="_shop_header_title_1uizv_282",$={user_title:$c,user_list:Dc,user_list_link:Oc,user_list_link_active:Pc,user_form:Ac,user_form_btn:Wc,user_form_wrap:Ec,user_form_input:Uc,user_form_icon:Bc,user_table:Lc,user_table_tbody:zc,user_table_tr:Fc,user_table_th:Mc,user_table_td:Tc,user_table_btns:Rc,user_table_btn:qc,user_table_btn_blocked:Vc,modal:Hc,modal_active:Xc,modal_wrap:Zc,modal_wrap_header:Gc,modal_wrap_stores:Jc,modal_wrap_stores_text:Yc,modal_btns:Qc,modal_btn:Kc,modal_content:el,modal_content_text:tl,versions:sl,versions_block:ol,versions_block_top:nl,versions_block_top_title:rl,versions_block_top_arrow:al,versions_block_top_arrow_active:il,versions_block_dropdown:cl,versions_block_dropdown_item:ll,versions_block_dropdown_open:_l,shop_header:dl,shop_header_title:pl},qe=({headers:n})=>e.jsx("thead",{className:$.user_table_thead,children:e.jsx("tr",{className:$.user_table_tr,children:n.map(t=>e.jsx("th",{className:$.user_table_th,children:t.title},t.id))})}),Ve=()=>{const[n,t]=u.useState(""),{setUserSearch:s}=ae(),r=o=>{o.preventDefault(),s(n)};return u.useEffect(()=>{n==""&&s("")},[n]),e.jsxs("form",{action:"",className:$.user_form,children:[e.jsxs("div",{className:$.user_form_wrap,children:[e.jsx("input",{type:"text",className:$.user_form_input,placeholder:"Поиск пользователей",onChange:o=>t(o.target.value),value:n}),e.jsx(M,{className:$.user_form_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:$.user_form_btn,onClick:o=>r(o),children:"Найти"})]})},He=({arr:n,showStore:t})=>{const{usersList:s,userSearch:r,openModalAdmin:o,openAppointUser:a,shopListAdmin:d,setOpenAppointUser:l,setOpenModalAdmin:c,setUsersList:i,setEditUserAdmin:p,setShopListDropdownAdmin:m,setCloseBlock:h,setFilteredShopListAdmin:b}=ae(),O=se().pathname,[z,T]=u.useState([]);u.useEffect(()=>{let y=n;O==="/clients"?y=n.filter(g=>g.isUser):O==="/employees"&&(y=n.filter(g=>!g.isUser)),y=y==null?void 0:y.filter(g=>g.name.toLowerCase().includes(r.toLowerCase())),T(y)},[r,s,n,O]);const U=y=>{const g=s.map(P=>P.id===y?{...P,isBlocked:!P.isBlocked}:P);i(g)},j=y=>{c(!0),h(!0);const g=s.find(N=>N.id==y),P=[{id:ee(),title:"Магазин 1",order:1},{id:ee(),title:"Магазин 2",order:2},{id:ee(),title:"Магазин 3",order:3}],C=P.filter(N=>!(g!=null&&g.shopList.some(A=>A.title===N.title)));console.log("editUser",g),console.log("shopListAdminArr",P),g&&(m(g.shopList),p(g),b(C))},k=y=>{l(!0),h(!0),m([]),b(d);const g=s.find(P=>P.id==y);g&&p(g)},D=o||a;return e.jsx(e.Fragment,{children:e.jsx("tbody",{className:$.user_table_tbody,children:z.map(y=>e.jsxs("tr",{children:[e.jsx("td",{className:$.user_table_td,children:y.name}),e.jsx("td",{className:$.user_table_td,children:t?y.shopList.map(g=>e.jsxs("p",{children:[g.title," ",`(${g.position})`]},g.id)):e.jsx("p",{children:y.isEmployes?"сотрудник":"пользователь"})}),e.jsx("td",{className:$.user_table_td,children:t?"Админ 1":y.registerDate}),e.jsx("td",{className:$.user_table_btns,children:y!=null&&y.isUser?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:`${$.user_table_btn} ${y.isBlocked?$.user_table_btn_blocked:""}`,onClick:()=>U(y.id),children:y.isBlocked?"Разблокировать":"Заблокировать"}),e.jsx("button",{className:$.user_table_btn,onClick:()=>k(y.id),disabled:D,children:"Назначить"})]}):e.jsx("button",{className:$.user_table_btn,onClick:()=>j(y.id),style:{background:"#B5FFC7"},disabled:D,children:"Изменить"})})]},y.id))})})};function Ke({color:n="black",className:t,header:s,isEnabled:r,dropdownItem:o,margin:a,versionList:d,closeBlock:l}){const{shopListAdmin:c,shopListDropdownAdmin:i,filteredShopListAdmin:p,setShopListDropdownAdmin:m,setShopListAdmin:h}=ae(),[b,x]=u.useState("Выберете должность"),[O,z]=u.useState("Выберете магазин"),[T,U]=u.useState(!1);u.useEffect(()=>{o!=null&&o.position?x(o.position):x("Выберете должность")},[o==null?void 0:o.position]),u.useEffect(()=>{l||U(!1)},[l]);const j=(g,P)=>{if(o){x(g.title);const C=i.filter(A=>A.title==o.title),N=i.findIndex(A=>A.title==o.title);C[0].position=g.title,i.splice(N,1,C[0]),m(i)}else z(g.title);if(r&&!i.some(C=>C.title==g.title)){x("Выберете должность");const C={...g,originalIndex:P};m([...i,C]),h(p.filter((N,A)=>A!==P))}U(!1)},k=g=>{const P=i.filter(C=>C.id!==g.id);if(m(P),g.originalIndex!==void 0){const C=[...c];C.splice(g.originalIndex,0,g),h(C)}else{const C=[...p,g].sort((N,A)=>N.order!==void 0&&A.order!==void 0?N.order-A.order:0);h(C),console.log("arr",C)}},D=()=>{U(!T)};function y(g,P){return g.order&&P.order&&(g==null?void 0:g.order)>(P==null?void 0:P.order)?1:-1}return e.jsx("div",{className:t??$.versions,style:{marginBottom:a},children:e.jsxs("div",{className:$.versions_block,children:[s&&e.jsxs("div",{className:$.shop_header,children:[e.jsx("p",{className:$.shop_header_title,children:o==null?void 0:o.title}),e.jsx("button",{onClick:()=>o&&k(o),children:e.jsx(M,{name:"XMarkIcon",width:16})})]}),e.jsxs("div",{className:$.versions_block_top,children:[e.jsx("h2",{className:$.versions_block_top_title,style:{color:n},children:o?b:O}),e.jsx("button",{className:$.versions_block_top_btn,onClick:()=>D(),children:e.jsx("div",{className:`${$.versions_block_top_arrow} ${T?$.versions_block_top_arrow_active:""}`,children:e.jsx(M,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${$.versions_block_dropdown} ${T?$.versions_block_dropdown_open:""}`,children:d==null?void 0:d.sort(y).map((g,P)=>e.jsx("span",{className:$.versions_block_dropdown_item,onClick:()=>j(g,P),children:g.title},P))})]})})}const Xe=()=>{const{currentShopModal:n,shopListDropdownAdmin:t,shopListPositionAdmin:s,isEnabled:r,openModalAdmin:o,editUserAdmin:a,shopListAdmin:d,usersList:l,openAppointUser:c,closeBlock:i,filteredShopListAdmin:p,setCurrentShopModal:m,setShopListPositionAdmin:h,setCurrentShopPosition:b,setOpenModalAdmin:x,setShopListAdmin:O,setUsersList:z,setOpenAppointUser:T,setCloseBlock:U,setFilteredShopListAdmin:j}=ae();u.useEffect(()=>{},[p]);const k=()=>{const C=l.findIndex(N=>N.id==(a==null?void 0:a.id));a&&t.every(N=>"position"in N)&&(a.shopList=t,l.splice(C,1,a),z(l),O(d),console.log("filteredShopListAdmin",p)),console.log("shopListAdmin",d),g(),t.length==0&&D()},D=()=>{if(a){a.isUser=!0,a.isEmployes=!1,a.shopList=[];const C={id:ee(),title:"",position:"пользователь"};a.shopList=[{...C}]}g()},y=()=>{const C=l.findIndex(N=>N.id==(a==null?void 0:a.id));if(a&&(a.shopList=t,l.splice(C,1,a),a.isUser=!1,a.isEmployes=!0,z(l),T(!1),!(a!=null&&a.shopList.some(N=>"position"in N)))){a.isUser=!0,a.shopList=[];const N={id:ee(),title:"",position:"пользователь"};a.shopList=[{...N}]}},g=()=>{O(d),j([]),x(!1),T(!1),U(!1),console.log("close modal")},P=u.useRef(null);return u.useEffect(()=>{const C=N=>{var A;P.current&&!((A=P==null?void 0:P.current)!=null&&A.contains(N.target))&&g()};return o||c?document.addEventListener("mousedown",C):document.removeEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[o,c]),e.jsx("div",{className:`${$.modal} ${o?$.modal_active:""} ${c?$.modal_active:""}`,children:e.jsxs("div",{ref:P,className:$.modal_wrap,children:[e.jsxs("div",{className:$.modal_wrap_header,children:[e.jsx("h3",{children:"Редактирование должность"}),e.jsx("button",{onClick:()=>g(),children:e.jsx(M,{name:"XMarkIcon",width:24})})]}),e.jsxs("div",{className:$.modal_content,children:[e.jsxs("p",{className:$.modal_content_text,children:["Логин: ",a==null?void 0:a.name]}),e.jsxs("p",{className:$.modal_content_text,children:["Статус:",a==null?void 0:a.shopList.map(C=>e.jsx("span",{children:C.position},C.id))]}),e.jsx(Ke,{color:"#717171",setVersionList:O,currentVersion:n,setCurrentVersion:m,isEnabled:r,versionList:p||d,closeBlock:i}),e.jsxs("div",{className:$.modal_wrap_stores,children:[e.jsx("p",{className:$.modal_wrap_stores_text,children:"Выбрано магазинов: "}),t==null?void 0:t.map((C,N)=>e.jsx(Ke,{dropdownItem:C,margin:"12px",color:"#717171",versionList:s,setVersionList:h,setCurrentVersion:b,header:!0,closeBlock:i},N))]}),e.jsx("div",{className:$.modal_btns,children:c?e.jsxs(e.Fragment,{children:[e.jsx("button",{className:$.modal_btn,onClick:()=>g(),style:{background:"#fff"},children:"Отмена"}),e.jsx("button",{className:$.modal_btn,onClick:()=>y(),children:"Сохранить"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:$.modal_btn,onClick:()=>D(),children:"Уволить"}),e.jsx("button",{className:$.modal_btn,onClick:()=>k(),children:"Сохранить"})]})})]})]})})},ul=[{id:"1",title:"Логин"},{id:"2",title:"Группа"},{id:"3",title:"Дата регистрации"},{id:"4",title:""}],ml=()=>{const{usersList:n}=ae();return e.jsxs(e.Fragment,{children:[e.jsx(Ve,{}),e.jsxs("table",{className:$.user_table,children:[e.jsx(qe,{headers:ul}),e.jsx(He,{arr:n})]}),e.jsx(Xe,{})]})},hl=[{id:1,title:"Логин"},{id:2,title:"Группа"},{id:3,title:"Дата регистрации"},{id:4,title:""}],bl=()=>{const{usersList:n}=ae(),t=n.filter(s=>s.isUser==!0);return e.jsxs(e.Fragment,{children:[e.jsx(Ve,{}),e.jsxs("table",{className:$.user_table,children:[e.jsx(qe,{headers:hl}),e.jsx(He,{arr:t})]}),e.jsx(Xe,{})]})},gl=[{id:1,title:"Логин"},{id:2,title:"Магазины"},{id:3,title:"Кто назначил"},{id:4,title:"Дата назначение"}],vl=()=>{const{usersList:n}=ae(),t=n.filter(s=>s.isUser!==!0);return e.jsxs(e.Fragment,{children:[e.jsx(Ve,{}),e.jsxs("table",{className:$.user_table,children:[e.jsx(qe,{headers:gl}),e.jsx(He,{arr:t,showStore:!0})]}),e.jsx(Xe,{})]})},xl=[{id:1,title:"Все",href:"/admin/users/all"},{id:2,title:"Клиенты",href:"/admin/users/clients"},{id:3,title:"Сотрудники",href:"/admin/users/employees"}],fl=()=>{const t=se().pathname;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:$.users,children:e.jsxs("div",{className:$.users_header,children:[e.jsx("h2",{className:$.user_title,children:"Пользователи"}),e.jsx("ul",{className:$.user_list,children:xl.map(s=>e.jsx("li",{children:e.jsx(Z,{className:`${$.user_list_link} ${t==s.href?$.user_list_link_active:""}`,to:s.href,children:s.title})},s.id))})]})}),e.jsxs("div",{children:[t=="/admin/users/all"&&e.jsx(ml,{}),t=="/admin/users/clients"&&e.jsx(bl,{}),t=="/admin/users/employees"&&e.jsx(vl,{})]})]})},et=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Фото"}];function yl(){const[n,t]=u.useState(""),[s]=u.useState(1),[r]=u.useState(10),[o,a]=u.useState([]);u.useEffect(()=>{d()},[n]);async function d(){const l=Pe.get("multi-store");try{const c=await re.get(`nomenclatures?multiStoreId=${l}&page=${s}&perPage=${r}`),i=await c.data.data;console.log("res",c),a([...i])}catch(c){console.log("Ошибка произошла при получении всх продуктов со склада",c)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:_.addingWrapper,children:[e.jsxs("h2",{className:_.addingWrapper_title,children:["Всего товара: ",o.length]}),e.jsxs("form",{action:"",className:_.addingWrapper_form,children:[e.jsxs("div",{className:_.addingWrapper_search,children:[e.jsx("input",{type:"text",className:_.addingWrapper_search_input,placeholder:"Поиск товара",onChange:l=>t(l.target.value),value:n}),e.jsx(M,{className:_.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:_.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:_.addingWrapper_table,children:[e.jsx("thead",{className:_.addingWrapper_thead,children:e.jsx("tr",{className:_.addingWrapper_thead_tr,children:et.map(l=>e.jsx("th",{className:_.addingWrapper_thead_th,children:l.title},l.id))})}),e.jsx("tbody",{className:_.addingWrapper_tbody,children:o&&(o==null?void 0:o.map(l=>e.jsx("tr",{className:_.addingWrapper_tbody_tr,children:et.map(c=>{var i,p;return e.jsxs("td",{className:_.addingWrapper_tbody_td,children:[c.title=="Наименование"?e.jsx("span",{children:((i=l==null?void 0:l.name)==null?void 0:i.ru)&&((p=l==null?void 0:l.name)==null?void 0:p.ru)}):"",c.title=="Штрих-код"?e.jsx("span",{children:l==null?void 0:l.barcode}):""]},c.id)})},l==null?void 0:l.id)))})]})]})})}const tt=[{id:1,title:"Наименование"},{id:2,title:"Штрих-код"},{id:3,title:"Фото"}];function kl(){const[n,t]=u.useState(""),[s]=u.useState(1),[r]=u.useState(10),[o,a]=u.useState([]);u.useEffect(()=>{d()},[n]);async function d(){const l=Pe.get("multi-store");try{const c=await re.get(`web-nomenclatures?multiStoreId=${l}&page=${s}&perPage=${r}`),i=await c.data.data;console.log("res",c),a([...i])}catch(c){console.log("Ошибка произошла при получении всх продуктов со склада",c)}}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:_.addingWrapper,children:[e.jsxs("h2",{className:_.addingWrapper_title,children:["Всего товара: ",o.length]}),e.jsxs("form",{action:"",className:_.addingWrapper_form,children:[e.jsxs("div",{className:_.addingWrapper_search,children:[e.jsx("input",{type:"text",className:_.addingWrapper_search_input,placeholder:"Поиск товара",onChange:l=>t(l.target.value),value:n}),e.jsx(M,{className:_.addingWrapper_search_icon,width:25,height:25,name:"MagnifyingGlassIcon",color:"rgb(208, 208, 208)"})]}),e.jsx("button",{className:_.addingWrapper_form_btn,children:"Найти"})]}),e.jsxs("table",{className:_.addingWrapper_table,children:[e.jsx("thead",{className:_.addingWrapper_thead,children:e.jsx("tr",{className:_.addingWrapper_thead_tr,children:tt.map(l=>e.jsx("th",{className:_.addingWrapper_thead_th,children:l.title},l.id))})}),e.jsx("tbody",{className:_.addingWrapper_tbody,children:o==null?void 0:o.map(l=>e.jsx("tr",{className:_.addingWrapper_tbody_tr,children:tt.map(c=>e.jsx("td",{className:_.addingWrapper_tbody_td,children:c.title=="Наименование"?e.jsx("span",{children:l==null?void 0:l.title}):""},c.id))},l==null?void 0:l.id))})]})]})})}function jl(){const t=se().pathname,{shopsStocks:s}=ve();return e.jsxs("div",{className:_.layout,children:[e.jsx("ul",{className:_.layout_buttons,children:s.map(r=>e.jsx("li",{children:e.jsx(Z,{to:`/admin/shops/shop/${r.url}`,className:`${_.layout_btn} ${t==`/admin/shops/shop/${r.url}`?_.layout_btn_active:""}`,children:r.title})},r.id))}),e.jsxs("div",{className:_.layout_content,children:[t==="/admin/shops/shop/stock"&&e.jsx(yl,{}),t==="/admin/shops/shop/website"&&e.jsx(kl,{})]})]})}function wl(){const{shopsAmount:n,currentShop:t,setCurrentShop:s}=ve(),o=se().pathname;return e.jsxs("div",{className:_.layout,children:[e.jsx("h2",{className:_.layout_title,children:"Магазины"}),e.jsx("ul",{className:_.layout_buttons,children:n.map(a=>e.jsx("li",{children:e.jsx(Z,{to:"/admin/shops/shop",className:`${_.layout_btn} ${t==a.url?_.layout_btn_active:""}`,onClick:()=>s(a.url),children:a.title})},a.id))}),o.startsWith("/admin/shops/shop")&&e.jsx("div",{className:_.layout_content,children:e.jsx(jl,{})})]})}function Cl({item:n}){const{setErrorModal:t}=pe(),s=r=>{r.stopPropagation()};return e.jsx("div",{className:_.errorWrapper,onClick:()=>t({status:!1,message:""}),children:e.jsxs("div",{className:_.errorWrapper_block,onClick:s,children:[e.jsx("button",{className:_.errorWrapper_block_close,onClick:()=>t({status:!1,message:""}),children:e.jsx(M,{name:"XMarkIcon",width:25,height:25})}),e.jsx("span",{children:n.message})]})})}function gt({stockName:n,myMxikCode:t}){const{errorModal:s}=pe(),{websiteProducts:r,shop1Products:o}=ve(),a=u.useRef(null),d=()=>{a.current!=null&&a.current.click()},l=c=>{var p,m;const i=(m=(p=c==null?void 0:c.target)==null?void 0:p.files)==null?void 0:m[0];if((i&&(i==null?void 0:i.type)==="image/jpeg"||(i==null?void 0:i.type)==="image/png"||(i==null?void 0:i.type)==="image/webp")&&(n=="stock"?o.filter(b=>b.mxikCode==t)[0]:r.filter(b=>b.mxikCode==t)[0])){const b=new FileReader;b.onload=x=>{var O;(O=x.target)!=null&&O.result},b.readAsDataURL(i),a.current&&(a.current.value="")}};return e.jsxs("div",{className:_.productItem_top,children:[s.status&&e.jsx(Cl,{item:s}),e.jsx("h1",{className:_.productItem_title,children:"Добавление объявления"}),e.jsx("div",{className:_.productItem_photos,children:e.jsxs("div",{className:`${_.productItem_photo} ${_.productItem_add}`,onClick:d,children:[e.jsx(M,{width:24,height:24,name:"PlusIcon",color:"rgba(191, 187, 187, 1)"}),e.jsx("span",{className:_.productItem_add_text,children:"Добавить еще"}),e.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/webp",style:{display:"none"},onChange:l,ref:a})]})}),e.jsx("p",{className:_.productItem_photos_desc,children:"Переместите фото чтоб поменят их порядок вывода"})]})}const st=["Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"],Nl=(n=1,t=9)=>Math.floor(Math.random()*(t+1-n)+n).toString();function Il(n=8){let t="#";for(let s=1;s<=n;s++){const r=Nl();s==1?st.forEach((o,a)=>{a.toString()==r&&(t+=o)}):s==2?st.forEach((o,a)=>{a.toString()==r&&(t+=o)}):t+=r}return t}function vt({localCategory:n,productName:t,productDescription:s,setProductDescription:r,setProductName:o,myBarcode:a,vendorCode:d,setVendorCode:l}){var O,z,T,U;const{pickedCategory:c,currentProduct:i,setOpenModalCategory:p}=pe();u.useEffect(()=>{console.log("localCategory",n),console.log("pickedCategory",c),console.log("myBarcode",a),x()},[c,n]);const[m,h]=u.useState(""),b=()=>{const j=Il();l(j)},x=async()=>{try{console.log(33,"localCategory",n);const j=await re.get(`categories/${n}`),k=j.data;console.log("getCategoryName res.data",k),h(j.data)}catch(j){console.log("Ошибка произошла при получении категонии по id",j)}};return e.jsxs("div",{className:_.productItem_left,children:[e.jsxs("div",{className:_.productItem_left_info,children:[e.jsxs("div",{className:_.productItem_left_item,children:[e.jsxs("div",{className:_.productItem_left_item_top,children:[e.jsx("span",{children:"Артикул"}),e.jsx("input",{type:"text",placeholder:"например:  #DF156651",className:_.productItem_left_item_top_input,value:d,onChange:j=>l(j.target.value)})]}),e.jsxs("div",{className:_.productItem_left_item_bottom,children:[e.jsx("button",{className:_.productItem_left_item_button,children:"Изменить"}),e.jsx("button",{className:_.productItem_left_item_button,onClick:b,children:"Генерировать"})]})]}),e.jsxs("div",{className:_.productItem_left_item,children:[e.jsxs("div",{className:_.productItem_left_item_top,children:[e.jsx("span",{children:"Категория:"}),e.jsx("span",{children:m||((z=(O=i==null?void 0:i.category)==null?void 0:O.name)!=null&&z.ru?(U=(T=i==null?void 0:i.category)==null?void 0:T.name)==null?void 0:U.ru:"")})]}),e.jsx("div",{className:_.productItem_left_item_bottom,children:e.jsx("button",{className:_.productItem_left_item_button,onClick:()=>p(!0),children:c!=null&&c.name||i!=null&&i.category?"Изменить":"Выбрать"})})]}),e.jsx("div",{className:_.productItem_left_item,children:e.jsxs("div",{className:_.productItem_left_item_top,children:[e.jsx("span",{children:"Штрих-код"}),e.jsx("span",{children:a})]})}),e.jsx("div",{className:_.productItem_left_item,children:e.jsxs("div",{className:_.productItem_left_item_top,children:[e.jsx("span",{children:"Цена:"}),e.jsx("span",{children:i==null?void 0:i.price})]})}),e.jsx("div",{className:_.productItem_left_item,children:e.jsxs("div",{className:_.productItem_left_item_top,children:[e.jsx("span",{children:"PDF:"}),e.jsx("button",{className:_.productItem_left_item_button,children:"Загрузить"})]})})]}),e.jsxs("form",{className:_.productItem_left_form,children:[e.jsxs("label",{className:_.productItem_left_form_label,children:[e.jsx("span",{className:_.productItem_left_form_title,children:"Заголовок"}),e.jsx("input",{className:_.productItem_left_form_input,type:"text",value:t,onChange:j=>o(j.target.value)})]}),e.jsxs("label",{className:_.productItem_left_form_label,children:[e.jsx("span",{className:_.productItem_left_form_title,children:"Описание товара"}),e.jsx("textarea",{onChange:j=>r(j.target.value),value:s,className:_.productItem_left_form_textarea}),e.jsx("p",{className:_.productItem_left_form_size,children:e.jsx("span",{children:"200/200"})})]})]})]})}function Sl({color:n="black",title:t="",extraOptionsList:s,className:r,openBlock:o,setOpenBlock:a,setExtraOptionsList:d}){const l=u.useRef([]);u.useEffect(()=>{l.current.length>0&&c()},[s]);const c=()=>{s&&s.forEach(p=>{l.current.forEach(m=>{m.name==p.title&&(m.checked=p.isActive)})})},i=(p,m)=>{const h=JSON.parse(JSON.stringify(s));h.forEach(b=>{b.title==m&&(b.isActive=!b.isActive)}),d&&d(h)};return e.jsxs("div",{className:r??L.versionExtraOptions,children:[t&&e.jsx("span",{className:L.versionExtraOptions_title,children:t}),e.jsxs("div",{className:L.versionExtraOptions_block,children:[e.jsxs("div",{className:L.versionExtraOptions_block_top,onClick:()=>a&&a(!o),children:[e.jsx("h2",{className:L.versionExtraOptions_block_top_title,style:{color:n},children:t||"Выберите параметры"}),e.jsx("button",{className:L.versionExtraOptions_block_top_btn,children:e.jsx("div",{className:`${L.versionExtraOptions_block_top_arrow} ${o?L.versionExtraOptions_block_top_arrow_active:""}`,children:e.jsx(M,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${L.versionExtraOptions_block_dropdown} ${o?L.versionExtraOptions_block_dropdown_open:""}`,children:s&&s.map((p,m)=>e.jsxs("label",{className:L.versionExtraOptions_block_dropdown_item,children:[p.title,e.jsx("input",{ref:h=>{h&&(l.current[m]=h)},type:"checkbox",name:p.title,"data-type":p.title,onChange:h=>i(h,p.title)})]},p.id))})]})]})}function $l({color:n="black",title:t="",versionList:s,className:r}){const[o,a]=u.useState(!1),[d,l]=u.useState("");u.useEffect(()=>{s==null||s.forEach(p=>{p.isActive&&l(p.title)})},[]);const c=()=>{a(!o)},i=p=>{s==null||s.forEach(m=>m.isActive=!1),s==null||s.forEach(m=>{m.title==p.title&&(m.isActive=!0,l(m.title))}),c()};return e.jsxs("div",{className:r??L.version3,children:[e.jsx("span",{className:L.version3_title,children:t}),e.jsxs("div",{className:L.version3_block,children:[e.jsxs("div",{className:L.version3_block_top,onClick:()=>c(),children:[e.jsx("h2",{className:L.version3_block_top_title,style:{color:n},children:d||"Выбрать"}),e.jsx("button",{className:L.version3_block_top_btn,children:e.jsx("div",{className:`${L.version3_block_top_arrow} ${o?L.version3_block_top_arrow_active:""}`,children:e.jsx(M,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${L.version3_block_dropdown} ${o?L.version3_block_dropdown_open:""}`,style:{height:`${s&&s.length==1?"50px":""}`},children:s&&s.map(p=>e.jsx("span",{className:L.version3_block_dropdown_item,onClick:()=>i(p),children:s.length>1?p.title:e.jsx("input",{type:"text",placeholder:"Введите вруччную",style:{width:"120px"}})},p.id))})]})]})}function Dl({extraOptionsStatus:n,localCategory:t,setExtraOptionsStatus:s,extraOptions:r}){const[o,a]=u.useState(!1);return u.useEffect(()=>{},[t]),e.jsxs("div",{className:_.productItem_right_item,children:[e.jsxs("div",{className:_.productItem_right_top,onClick:()=>s(!n),children:[e.jsx("h5",{className:_.productItem_right_title,children:"Доп. параметры"}),e.jsx(be,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)",status:n})]}),e.jsxs("div",{className:`${_.productItem_right_bottom_items} ${n?_.productItem_right_bottom_items_active:""}`,children:[e.jsx("div",{className:_.productItem_right_bottom_item,children:e.jsx(Sl,{color:"",extraOptionsList:r,openBlock:o,setOpenBlock:a})}),r.map(d=>{if(d.isActive)return e.jsxs("div",{className:_.productItem_right_bottom_item,children:[e.jsx($l,{color:"",title:d.title,versionList:d.type}),e.jsx("button",{className:_.productItem_right_bottom_del,children:"Удалить"})]},d.id)})]})]})}function ot({color:n="black",title:t="",versionList:s=[{id:"1",title:"версия 1",isActive:!0,navIcon:""},{id:"2",title:"версия 2",isActive:!1,navIcon:""},{id:"3",title:"версия 3",isActive:!1,navIcon:""}],className:r,openBlock:o,currentVersion:a,setOpenBlock:d,setCurrentVersion:l,setVersionList:c}){const i=p=>{l&&l(p.title);const m=s.map(x=>({id:x.id,title:x.title,isActive:!1})),h=m.find(x=>x.id==p.id),b=m.findIndex(x=>x.id==p.id);h&&(h.isActive=!0,m.splice(b,1,h),c&&c(m))};return e.jsxs("div",{className:r??L.version3,children:[e.jsx("span",{className:L.version3_title,children:t}),e.jsxs("div",{className:L.version3_block,children:[e.jsxs("div",{className:L.version3_block_top,children:[e.jsx("h2",{className:L.version3_block_top_title,style:{color:n},children:a}),e.jsx("button",{className:L.version3_block_top_btn,onClick:()=>d&&d(!o),children:e.jsx("div",{className:`${L.version3_block_top_arrow} ${o?L.version3_block_top_arrow_active:""}`,children:e.jsx(M,{name:"ChevronDownIcon",width:15})})})]}),e.jsx("div",{className:`${L.version3_block_dropdown} ${o?L.version3_block_dropdown_open:""}`,children:s.map(p=>e.jsx("span",{className:L.version3_block_dropdown_item,onClick:()=>i(p),children:p.title},p.id))})]})]})}function Ol({brieflyProductStatus:n,setBrieflyProductStatus:t}){return e.jsxs("div",{className:_.productItem_right_item,children:[e.jsxs("div",{className:_.productItem_right_top,onClick:()=>t(!n),children:[e.jsx("h5",{className:_.productItem_right_title,children:"Коротко о товаре"}),e.jsx(be,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)",status:n})]}),e.jsx("div",{className:`${_.productItem_right_bottom_items} ${n?_.productItem_right_bottom_items_active:""}`,children:e.jsxs("div",{className:`${_.productItem_right_bottom_item} ${_.productItem_right_bottom_row}`,children:[e.jsx(ot,{color:"",title:"Объем, л"}),e.jsx(ot,{color:"",title:"Кол-во в упаковке"})]})})]})}function xt({currentProduct:n,extraOptionsStatus:t,setExtraOptionsStatus:s,brieflyProductStatus:r,setBrieflyProductStatus:o,localCategory:a,extraOptions:d,setExtraOptions:l}){return e.jsxs("div",{className:_.productItem_right,children:[e.jsx("div",{className:_.productItem_right_item,children:e.jsxs("div",{className:_.productItem_right_top,children:[e.jsx("h5",{className:_.productItem_right_title,children:"Коментарии"}),e.jsx(be,{backgroundOn:"rgb(137, 250, 135)",backgroundOff:"rgb(193, 193, 193)"})]})}),e.jsx(Dl,{extraOptionsStatus:t,setExtraOptionsStatus:s,localCategory:a,extraOptions:d,setExtraOptions:l,currentProduct:n}),e.jsx(Ol,{brieflyProductStatus:r,setBrieflyProductStatus:o})]})}function ft({stockName:n,setAdminSettings:t}){return e.jsxs("div",{className:_.settings_content_buttons,children:[e.jsx(Z,{to:n=="stock"?"/admin/product/adding/stock":"/admin/product/adding/website",className:`${_.settings_content_btn} ${_.settings_content_btn_cancel}`,children:"Отмена"}),e.jsx("button",{className:`${_.settings_content_btn} ${_.settings_content_btn_save}`,onClick:()=>t(),children:n=="website"?"Сохранить":"Добавить"})]})}function Pl(){const n=Oe(),t=se(),{id:s}=nt(),{openModalCategory:r}=pe(),{pickedCategory:o,currentProduct:a,setErrorModal:d,setCurrentProduct:l,setPickedCategory:c}=pe(),[i,p]=u.useState(""),[m,h]=u.useState(!1),[b,x]=u.useState(0),[O,z]=u.useState(!1),[T,U]=u.useState([]),[j,k]=u.useState(!1),[D,y]=u.useState(""),[g,P]=u.useState("");async function C(){try{return await(await re.get(`nomenclatures/${s}`)).data}catch(w){console.log("Ошибка произошла при получении продукта по id",w)}}const N=w=>{var S,he;w&&(p(((S=w==null?void 0:w.name)==null?void 0:S.ru)||""),l({...w}),x((he=w==null?void 0:w.category)==null?void 0:he.id))};u.useEffect(()=>{c({})},[t.pathname]),u.useEffect(()=>{A(),B(),console.log("id",s),console.log("vendorCode",D)},[s,o]);async function A(){const w=await C();w&&(console.log(333,"product",w),N(w))}const F=async()=>{var w;if(console.log("productIsOnWebsite",m),m){d({status:!0,message:'"Этот продукт уже есть на сайте"'});return}if(a){console.log(1,"currentProduct",a),console.log(1,"productDescription",g),console.log(1,"productName",i);const S={nomenclatureId:a.id,title:i||((w=a==null?void 0:a.name)==null?void 0:w.ru),article:D,image:"string",description:g,document:"string"};W(S),o.id&&(await v(),x(o.id)),c({}),U([]),n("/admin/product/adding/stock",{replace:!0})}else d({status:!0,message:'"Выберите категорию"'})};async function W(w){try{const S=await re.post("web-nomenclatures",w);console.log(`${w.title} успешно добавлен на сайт`,S.data)}catch(S){console.log("Ошибка произошла при добавлении web nomenclatures",S)}}async function v(){try{await re.patch(`nomenclatures/${s}`,{categoryId:o.id})}catch(w){console.log("Ошибка произошла при изменении котегории на складе",w)}}async function B(){try{const S=await(await re.get(`web-nomenclatures/${s}`)).data;h(!!S.id)}catch(w){h(!1),console.log("Ошибка произошла при проверке наличия продукта на вебсайте",w)}}return e.jsxs("div",{className:_.productItem,children:[r&&e.jsx(at,{}),e.jsx(gt,{stockName:"stock",myMxikCode:s}),e.jsxs("div",{className:_.productItem_settings,children:[e.jsx(vt,{myBarcode:a.barcode,localCategory:b,productName:i,productDescription:g,setProductDescription:P,setProductName:p,vendorCode:D,setVendorCode:y}),e.jsx(xt,{extraOptionsStatus:O,setExtraOptionsStatus:z,brieflyProductStatus:j,setBrieflyProductStatus:k,localCategory:b,extraOptions:T,setExtraOptions:U,currentProduct:a})]}),e.jsx(ft,{stockName:"stock",setAdminSettings:F})]})}function Al(){var A,F;const n=Oe(),t=se(),{id:s}=nt(),{openModalCategory:r}=pe(),{pickedCategory:o,webCurrentProduct:a,setWebCurrentProduct:d,setErrorModal:l,setPickedCategory:c}=pe(),[i,p]=u.useState(""),[m,h]=u.useState({}),[b,x]=u.useState(!1),[O,z]=u.useState([]),[T,U]=u.useState(!1),[j,k]=u.useState(""),[D,y]=u.useState("");async function g(){try{return await(await re.get(`web-nomenclatures/${s}`)).data}catch(W){console.log("Ошибка произошла при получении продукта по id",W)}}u.useEffect(()=>{c({})},[t.pathname]),u.useEffect(()=>{P(),console.log("id",s),console.log("vendorCode",j)},[s]);async function P(){var v,B,w,S;const W=await g();W&&(console.log(333,"product",W),k(W==null?void 0:W.article),p(W!=null&&W.title?W==null?void 0:W.title:(B=(v=W==null?void 0:W.nomenclature)==null?void 0:v.name)==null?void 0:B.ru),d({...W}),h((S=(w=W==null?void 0:W.nomenclature)==null?void 0:w.category)==null?void 0:S.id),y(W.description?W.description:""))}const C=async()=>{if(a||o.label){console.log(1,"currentProduct",a),console.log(1,"productDescription",D);const W={nomenclatureId:a.id,title:i,article:j,image:"string",description:D,document:"string"};N(W),c({}),z([]),n("/admin/product/adding/website",{replace:!0})}else l({status:!0,message:'"Выберите категорию"'})};async function N(W){try{const v=await re.patch(`web-nomenclatures/${s}`,W);console.log(`${W.title} успешно добавлен на сайт`,v.data)}catch(v){console.log("Ошибка произошла при добавлении web nomenclatures",v)}}return e.jsxs("div",{className:_.productItem,children:[r&&e.jsx(at,{}),e.jsx(gt,{stockName:"stock",myMxikCode:s}),e.jsxs("div",{className:_.productItem_settings,children:[e.jsx(vt,{myBarcode:((A=a==null?void 0:a.nomenclature)==null?void 0:A.barcode)&&((F=a==null?void 0:a.nomenclature)==null?void 0:F.barcode),localCategory:m,productName:i,productDescription:D,setProductDescription:y,setProductName:p,vendorCode:j,setVendorCode:k}),e.jsx(xt,{extraOptionsStatus:b,setExtraOptionsStatus:x,brieflyProductStatus:T,setBrieflyProductStatus:U,localCategory:m,extraOptions:O,setExtraOptions:z,currentProduct:a})]}),e.jsx(ft,{stockName:"website",setAdminSettings:C})]})}function Rl(){const{user:n}=Ct(),{setCurrentShop:t}=ve(),r=se().pathname;u.useEffect(()=>{r.startsWith("/admin/shops")||t("0")},[r]);const o=[{id:"1",label:"Настройки",href:"/admin/settings",icon:e.jsx(M,{name:"CogIcon"}),isActive:!0},{id:"2",label:"Товар",href:"/admin/product",icon:e.jsx(M,{name:"ShoppingCartIcon"}),isActive:!1},{id:"3",label:"Пользователи",href:"/admin/users",icon:e.jsx(M,{name:"UsersIcon"}),isActive:!1},{id:"4",label:"Магазины",href:"/admin/shops",icon:e.jsx(M,{name:"BuildingStorefrontIcon"}),isActive:!1}],[a,d]=u.useState(o),l=c=>{const i=a.map(m=>({id:m.id,label:m.label,href:m.href,icon:m.icon,isActive:!1})),p=i.find(m=>m.id==c);p&&(p.isActive=!0),d(i)};return e.jsxs(e.Fragment,{children:[e.jsx(Nt,{}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:_.wrapper,children:[e.jsx("h1",{className:_.wrapper_title,children:n==null?void 0:n.username}),e.jsxs("div",{className:_.content,children:[e.jsx("div",{className:_.content_left,children:e.jsx("ul",{className:_.tools,children:a.map(c=>e.jsx("li",{children:e.jsxs(Z,{to:c.href,className:`${_.tools_link} ${r.startsWith(c.href)?_.tools_link_active:""}`,onClick:()=>l(c.id),children:[c.icon,c.label]})},c.id))})}),r.startsWith("/admin")&&e.jsxs("div",{className:_.content_right,children:[r.startsWith("/admin/settings")&&e.jsx(kc,{}),r.startsWith("/admin/users")&&e.jsx(fl,{}),r.startsWith("/admin/shops")&&e.jsx(wl,{}),r.startsWith("/admin/product")&&e.jsx(Sc,{}),r.startsWith("/admin/stock-product")&&e.jsx(Pl,{}),r.startsWith("/admin/website-product")&&e.jsx(Al,{})]})]})]})})]})}export{Rl as default};
