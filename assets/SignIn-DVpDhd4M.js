import{r as g,u as j,j as e,L as x}from"./index-BKWzXJuX.js";import{u as h,C as i,e as p}from"./errorMessage-y4x-KknL.js";import{u as b}from"./auth-B2QAljBL.js";import{C as N}from"./CustomBtn-BpSq5VC9.js";import"./CustomIcon-CoemkrYJ.js";import"./XMarkIcon-Bbx2RA7i.js";const L="_enter_u6fjo_1",k="_enter_title_u6fjo_14",v="_enter_form_u6fjo_17",C="_enter_info_u6fjo_26",w="_enter_info_error_u6fjo_32",y="_enter_info_text_u6fjo_36",E="_enter_info_link_u6fjo_39",S="_enter_button_u6fjo_48",M="_enter_button_icon_u6fjo_70",t={enter:L,enter_title:k,enter_form:v,enter_info:C,enter_info_error:w,enter_info_text:y,enter_info_link:E,enter_button:S,enter_button_icon:M},B=()=>{const[r,n]=g.useState(""),a=b(),c=j(),{register:o,handleSubmit:u,reset:l,formState:{errors:s,isValid:m}}=h({mode:"onChange"}),f=async d=>{try{await a.mutateAsync(d),n(""),c("/")}catch(_){console.log("Произошла ошибка при входе в систему",_),n(""),n(p(_,"login"))}l()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.enter,children:[e.jsx("h1",{className:t.enter_title,children:"Вход"}),e.jsxs("form",{className:t.enter_form,onSubmit:u(f),children:[e.jsx(i,{label:"Ваше username",type:"text",holder:"Username",errors:s.username,register:o("username",{required:"Поле обязательно для заполнения",minLength:{value:3,message:"Минимум 3 символа"}})}),e.jsx(i,{label:"Ваше пароль",type:"text",holder:"Пароль",errors:s.password,register:o("password",{required:"Поле обязательно для заполнения",minLength:{value:8,message:"Минимум 8 символов"}})}),e.jsx(N,{text:"Вход",width:150,height:45,mg:"auto",disabled:!m,icon:"ArrowLeftEndOnRectangleIcon",background:"rgb(137, 250, 135)",className:t.enter_button,iconClassName:t.enter_button_icon})]}),e.jsxs("div",{className:t.enter_info,children:[r&&e.jsx("h3",{className:t.enter_info_error,children:r}),e.jsx("p",{className:t.enter_info_text,children:"Нет аккаунта?"}),e.jsx(x,{to:"/signup",className:t.enter_info_link,children:"Зарегистрироваться"})]})]})})};export{B as default};
