import{r as g,u as x,a as j,j as e,L as h}from"./index-7WS4nBfv.js";import{u as b,C as _,e as p}from"./errorMessage-BOrLbXHM.js";import{C as N}from"./CustomBtn-av_lWUk1.js";import"./CustomIcon-By7wfQXi.js";import"./XMarkIcon-BdOORnjM.js";const L="_enter_u6fjo_1",k="_enter_title_u6fjo_14",v="_enter_form_u6fjo_17",C="_enter_info_u6fjo_26",w="_enter_info_error_u6fjo_32",y="_enter_info_text_u6fjo_36",S="_enter_info_link_u6fjo_39",E="_enter_button_u6fjo_48",I="_enter_button_icon_u6fjo_70",t={enter:L,enter_title:k,enter_form:v,enter_info:C,enter_info_error:w,enter_info_text:y,enter_info_link:S,enter_button:E,enter_button_icon:I},U=()=>{console.log("SignIn.tsx отрисовался");const[r,n]=g.useState(""),i=x(),a=j(),{register:o,handleSubmit:c,reset:u,formState:{errors:s,isValid:l}}=b({mode:"onChange"}),m=async f=>{try{await i.mutateAsync(f),n(""),a("/")}catch(d){n(""),n(p(d,"login"))}u()};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:t.enter,children:[e.jsx("h1",{className:t.enter_title,children:"Вход"}),e.jsxs("form",{className:t.enter_form,onSubmit:c(m),children:[e.jsx(_,{label:"Ваше username",type:"text",holder:"Username",errors:s.username,register:o("username",{required:"Поле обязательно для заполнения",minLength:{value:3,message:"Минимум 3 символа"}})}),e.jsx(_,{label:"Ваше пароль",type:"text",holder:"Пароль",errors:s.password,register:o("password",{required:"Поле обязательно для заполнения",minLength:{value:8,message:"Минимум 8 символов"}})}),e.jsx(N,{text:"Вход",width:150,height:45,mg:"auto",disabled:!l,icon:"ArrowLeftEndOnRectangleIcon",background:"rgb(137, 250, 135)",className:t.enter_button,iconClassName:t.enter_button_icon})]}),e.jsxs("div",{className:t.enter_info,children:[r&&e.jsx("h3",{className:t.enter_info_error,children:r}),e.jsx("p",{className:t.enter_info_text,children:"Нет аккаунта?"}),e.jsx(h,{to:"/signup",className:t.enter_info_link,children:"Зарегистрироваться"})]})]})})};export{U as default};
