import{j as e,L as v,a as _,r as o,b as w,c as S}from"./index-Dp8myGws.js";import{s as r}from"./Home.module-Cryamg0L.js";import{u as b}from"./userStore-kCQ9oIjL.js";import{b as N}from"./auth-Ba6-rMzV.js";import{H as $}from"./Header-b6fnMiOa.js";import{b as y}from"./bannerStore-ChTgQbzO.js";import{S as p,N as d,a as h}from"./scrollbar-CiBMekZ-.js";import{C as l}from"./CustomIcon-C5uwy9ev.js";import{F as C}from"./Footer-CtYsIm2s.js";import{C as P}from"./ProductItem-7vZt4--I.js";import"./XMarkIcon-CQlETKCo.js";import"./CustomIconSolid-Bap_dENW.js";const B=({bannersArr:a})=>{const{setPickedBannerHome:n}=y(),c=s=>{n(s)};return e.jsxs(p,{className:r.home_banner,modules:[d],spaceBetween:50,slidesPerView:1,navigation:{nextEl:`.${r.home_banner_navigationPrev}`,prevEl:`.${r.home_banner_navigationNext}`},children:[a.map(s=>{let t="";return s.type==="product"?t=`../subCategory/${s.id}`:s.type==="category"?t=`../${s.title}/${s.id}`:s.type==="link"&&(t=s.title??""),s.image?e.jsx(h,{className:r.home_banner_wrap,children:e.jsx(v,{to:t,onClick:()=>c(s),children:e.jsx("img",{className:r.home_banner_wrap_img,src:`https://api.mcrm.uz/${s.image}`,alt:"Banner"})})},s.id):null}),e.jsx("div",{className:r.home_banner_navigationPrev,children:e.jsx(l,{name:"ChevronRightIcon",color:"black"})}),e.jsx("div",{className:r.home_banner_navigationNext,style:{transform:"rotate(180deg)"},children:e.jsx(l,{name:"ChevronRightIcon",color:"black"})})]})},E=B;function I({item:a}){return e.jsxs("div",{className:r.cards,children:[e.jsxs("h2",{className:r.cards_title,children:[e.jsx("span",{children:a.title}),e.jsx(l,{name:"ChevronRightIcon"})]}),e.jsx("div",{className:r.cards_content,children:e.jsx(p,{className:r.mySwiper,modules:[d],spaceBetween:50,slidesPerView:5.3,navigation:{nextEl:`.${r.mySwiper_next}`,prevEl:`.${r.mySwiper_prev}`},children:a.products&&(a==null?void 0:a.products.map(n=>e.jsx(h,{className:r.mySwiper_slide,children:e.jsx(P,{product:n})},n.id)))})})]})}function J(){const{homePageBlock:a}=_(),{data:n}=N(),{setUser:c}=b();o.useEffect(()=>{c(n)},[n]);const[s,t]=o.useState([]),[x]=o.useState(1),[u]=o.useState(10);async function g(){const i=w.get("multi-store");try{const j=await(await S.get(`web-banners?multiStoreId=${i}&page=${x}&perPage=${u}`)).data.data;t(j.filter(f=>f.isActive===!0))}catch(m){console.log("error",m)}}return o.useEffect(()=>{g()},[]),e.jsxs(e.Fragment,{children:[e.jsx($,{}),e.jsxs("main",{className:r.wrapper,children:[s.length>0&&e.jsx(E,{bannersArr:s}),a.map(i=>e.jsx("section",{className:r.content,children:e.jsx(I,{item:i})},i.id))]}),e.jsx("footer",{children:e.jsx(C,{})})]})}export{J as default};
